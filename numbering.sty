\usepackage{amsthm}
\usepackage[noabbrev,capitalize,ngerman]{cleveref}

\newcounter{thmcounter}[subsection]
\newcounter{defcounter}[subsection]
\newcounter{bspcounter}[subsection]

\newtheoremstyle{cplain}
{11pt}
{\parskip}
{\itshape}
{}
{\bfseries}
{.}
{ }
{\thmname{#1}\thmnumber{ \arabic{subsection}.#2}\thmnote{ (textmd{(#3)}}}

\newtheoremstyle{cdef}
{11pt}
{\parskip}
{}
{}
{\bfseries}
{.}
{ }
{\thmname{#1}\thmnumber{ \arabic{subsection}.#2}\thmnote{ \textmd{(#3)}}}

\theoremstyle{cdef}
\newtheorem{defi}[defcounter]{Definition}
\crefname{defi}{Definition}{Definitionen}

\theoremstyle{remark}
\newtheorem*{bem}{Bemerkung}

\theoremstyle{cdef}
\newtheorem{satz}[thmcounter]{Satz}
\crefname{satz}{Satz}{SÃ¤tzen}

\theoremstyle{cdef}
\newtheorem{bsp}[bspcounter]{Beispiel}
\crefname{bsp}{Beispiel}{Beispielen}

\theoremstyle{cplain}
\newtheorem{kor}[thmcounter]{Korollar}
\crefname{kor}{Korollar}{Korollaren}

\theoremstyle{cplain}
\newtheorem{lem}[thmcounter]{Lemma}

\newcommand{\lecture}[1]{
	\vspace{0.5cm}
	\vbox{
		\noindent\makebox[\textwidth]{
			\begin{minipage}{\textwidth}
				\flushright
				\ifdefined \@lastLectureDate
					{\footnotesize[\@lastLectureDate]}
					\vspace{2pt}
				\fi
				\hrule
				\vspace{2pt}
				{\footnotesize[#1]} 
			\end{minipage}
		}
	}
	\def\@lastLectureDate{#1}
}