\documentclass[12pt,a4paper]{scrartcl}

\usepackage{includes}
\usepackage{shortcuts}
\usepackage{numbering}

%---------------------------%
% Franzen-spezifisches Zeug %
%---------------------------%

% numbering
\counterwithin{subsection}{section}
\renewcommand{\thesection}{\arabic{section}}
\setcounter{section}{-1}
\setlist[enumerate,1]{label=\textup{\roman*)}}
\setlist[enumerate,2]{label=\textup{\alph*)}}

\counterwithout{thmcounter}{subsection}
\counterwithout{defcounter}{subsection}
\counterwithout{bspcounter}{subsection}
\counterwithin{thmcounter}{section}
\counterwithin{defcounter}{section}
\counterwithin{bspcounter}{section}
\renewcommand{\thethmcounter}{\arabic{section}.\arabic{thmcounter}}
\renewcommand{\thedefcounter}{\arabic{section}.\arabic{defcounter}}
\renewcommand{\thebspcounter}{\arabic{section}.\arabic{bspcounter}}

\makeatletter
\let\c@thmcounter=\c@defcounter
\let\c@bspcounter=\c@defcounter
\makeatother

\theoremstyle{cplain}
\newtheorem{prop}[thmcounter]{Proposition}
\crefname{prop}{Proposition}{Propositionen}

\theoremstyle{cdef}
\newtheorem{beme}[thmcounter]{Bemerkung}
\crefname{beme}{Bemerkung}{Bemerkungen}

% bibliography
\usepackage[backend=biber,sorting=none,style=alphabetic]{biblatex}
\addbibresource{literatur.bib}


\author{}
\title{Algebra I}
\subtitle{Sommersemester 2018}

\begin{document}
\maketitle
\tableofcontents
\newpage

\noindent
Dies ist eine Mitschrift der Vorlesung \enquote{Algebra I} von Dr. Hans Franzen an der Universität Bonn, gehalten im Sommersemester 2018.

\bigskip

\noindent
Vorlesungswebsite:\\
\url{http://www.math.uni-bonn.de/ag/stroppel/Franzen_Algebra_1.htmpl}

\nocite{atiyah-macdonald}
\nocite{eisenbud}
\nocite{matsumura}
\printbibliography[notkeyword=moduln-hir,title=Allgemeine Literatur]

\nocite{lang}
\nocite{hungerford}
\printbibliography[keyword=moduln-hir,title=Literatur zu \cref{sec:moduln ueber hir}]


\newpage

\lecture{9. April 2018}

\section{Motivation}
Sei $k=\overline k$ (algebraisch abgeschlossener Körper). Seien $f_1, \dots f_m \in k[t_1,\dots t_n]$. Dann sind \[ V(f_1,\dots, f_m) := \{x=(x_1,\dots, x_n) \in k^n \mid f_i(x)=0 \text{ für alle $1\le i \le m$} \}\] affine algebraische Varietäten.


\emph{Beispiel.} Sei $k=\IC$, $n=2$ und $m=1$. Wir erhalten die folgenden Bilder:
\begin{figure}[H]
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \begin{tikzpicture}
            \begin{axis}[width=7cm,xmax=1,xmin=-1,ymax=1,ymin=-1,axis equal,xtick={-1,0,1},ytick={-1,0,1}]
                \draw (axis cs:0,0) circle[radius=1];
            \end{axis}
        \end{tikzpicture}
        \caption*{$f=x_1^2+x_2^2-1$}
    \end{subfigure}
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \begin{tikzpicture}
            \begin{axis}[width=7cm,xmax=1,xmin=-1,ymax=1,ymin=-1,axis equal,xtick={-1,0,1},ytick={-1,0,1}]
                \addplot[black,samples=100,domain=0:1] {x^(3/2)};
                \addplot[black,samples=100,domain=0:1] {-x^(3/2)};
            \end{axis}
        \end{tikzpicture}
        \caption*{$f=x_1^3-x_2^2$}
    \end{subfigure}
\end{figure}
\begin{figure}[H]
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \begin{tikzpicture}
            \begin{axis}[width=7cm,xmax=1,xmin=-1,ymax=1,ymin=-1,axis equal,xtick={-1,0,1},ytick={-1,0,1}]
                \addplot[black] coordinates{(-2,0) (2,0)};
                \addplot[black] coordinates{(0,-2) (0,2)};
            \end{axis}
        \end{tikzpicture}
        \caption*{$f=x_1\cdot x_2$}
    \end{subfigure}
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \begin{tikzpicture}
            \begin{axis}[width=7cm,xmax=1,xmin=-1,ymax=1,ymin=-1,axis equal,xtick={-1,0,1},ytick={-1,0,1}]
                \addplot[black] coordinates{(-2,0) (2,0)};
                \addplot[black] coordinates{(0,-2) (0,2)};
            \end{axis}
        \end{tikzpicture}
        \caption*{$f=x_1^{21}\cdot x_2^{138}$}
    \end{subfigure}
\end{figure}

In der algebraischen Geometrie betrachten wir die folgende Beziehung:
\begin{eqnarray*}
    \text{Affine Varietät $X$} & \longleftrightarrow & \text{Ring $A(X)$} \\
    \text{Studium der Geometrie von $X$} & \cong & \text{Studium des Ringes $A(X)$}
\end{eqnarray*}
Hierzu ist das Studium von kommutativer Algebra notwendig.
\newpage

\section{Primideale und maximale Ideale}
\subsection{Grundbegriffe}
\begin{konv}
	In der gesamten Vorlesung sind Ringe immer kommutativ und haben Eins. Ringhomomorphismen erhalten die Eins.
\end{konv}
\begin{defi}
	Sei $A$ ein Ring und $I\subsetneq A$ ein Ideal.
	\begin{enumerate}
        \item $I$ heißt Primideal, falls \begin{enumerate}
            \item $ab \in A \setminus I$ für alle $a,b \in A \setminus I$ gilt, oder äquivalent
            \item $\fak A I$ ein Integritätsbereich ist.
        \end{enumerate}
        \item $I$ heißt maximales Ideal, falls \begin{enumerate}
            \item für jedes Ideal $J \subsetneq A$ aus $I \subset J$ bereits $I=J$ folgt, oder äquivalent
            \item $\fak A I$ ein Körper ist.
        \end{enumerate}
		\item $\Spec A := \{\fp \mid \fp \subsetneq A \text{ Primideal}\}$
		\item $\Max A:=\{\fm \mid \fm \subsetneq A \text{ maximales Ideal}\}$
	\end{enumerate}
\end{defi}
\begin{defi} Sei $f: A \to B$ ein Ringhomomorphismus.
	\begin{enumerate}
		\item Sei $J \subset B$ ein Ideal. Dann ist $J \cap A:=f^{-1}(J)$ ein Ideal von $A$, genannt \emph{Kontraktion}. Ist $J$ ein Primideal, so ist $J \cap A$ ebenfalls ein Primideal.
		\item Sei $I \subset A$ ein Ideal. Dann ist $f(I)$ nicht notwendigerweise ein Ideal. Setze $I \cdot B := \left( f(I) \right)$, das von $f(I)$ erzeugtes Ideal. Wir nennen dieses \emph{Ausdehnung} von $I$.
	\end{enumerate}
\end{defi}
\begin{bem}
	Es kann sein, dass $I \in \Max A$, aber $I \cdot B \notin \Spec B$. Sei dazu $A=\IZ$ und $B=\IZ[i]$. Sei $I=(2) \in \Max(\IZ)$, aber $I \cdot B = (2) \notin \Spec \IZ[i]$, da $2=(1-i)(1+i)$ ist.
\end{bem}
\begin{satz} \label{thm:existenz maximaler ideale}
	Sei $A$ ein Ring und $I \subsetneq A$ ein Ideal. Dann existiert ein $\fm \in \Max A$ mit $I \subset \fm$.
	\begin{proof}
		Siehe Vorlesung Einführung in die Algebra, Satz 9.1, oder \cite{atiyah-macdonald}, Theorem 1.3.
	\end{proof}
\end{satz}
\begin{kor} \label{kor:einheiten und maximale ideale}
    Sei $A$ ein Ring, bez. $A^{\times}=\{\text{Einheiten von }A\}$. Dann gilt \[A^{\times}=A \setminus \bigcup_{\mathclap{\fm \in \Max A}} \fm.\]
	\begin{proof}
		Ist $a \in A^{\times}$, so gilt $(a)=(1)=A$ und damit $a \notin \fm$ für alle $\fm \in \Max A$.

		Sei $a \notin \fm$ für alle $\fm \in \Max A$. Dann ist $(a) \subset \fm$ für alle $\fm \in \Max A$; es folgt also $(a)=A=(1)$ mit \cref{thm:existenz maximaler ideale} und damit $a \in A^{\times}$.
	\end{proof}
\end{kor}
\subsection{Lokale Ringe}
\begin{defi} \label{def1.5}
	Sei $A$ ein Ring. $A$ heißt \emph{lokal}, falls $A$ genau ein maximales Ideal $\fm$ hat (d.h. $\Max A = \{\fm\}$).
\end{defi}
\begin{lem} \label{lem:lokale ringe}
	Sei $A$ ein Ring.
	\begin{enumerate}
		\item Sei $I \subsetneq A$ ein Ideal. Dann sind äquivalent:
		      \begin{enumerate}
			      \item $\Max A = \{I\}$
			      \item $A \setminus I \subset A^{\times}$
			      \item $A \setminus I = A^{\times}$
		      \end{enumerate}
		\item Sei $\fm \in \Max A$. Falls $1+x \in A^{\times}$ für alle $x \in \fm$ gilt, so ist $\Max A=\{ \fm \}$.
	\end{enumerate}
    \begin{proof}
        \leavevmode
		\begin{enumerate}
			\item \enquote{a) $\Rightarrow$ b)} folgt aus \cref{kor:einheiten und maximale ideale}. Für \enquote{b) $\Rightarrow$ a)} sei $J \subsetneq A$ ein Ideal. Dann liegt $J$ in $I$, und es folgt $I \in \Max A$ mit $\Max = \{I\}$.
			\item Sei $b \in A \setminus \fm$. Es ist $b \in A^{\times}$ zu zeigen. Da $\fm \in \Max A$, gilt $(b)+m=A$, es existieren folglich $a \in A, x\in m$ mit $ab+x=1$. Daraus folgt $ab=1-x \in A^{\times}$ und dann $b \in A^{\times}$.
            \qedhere
        \end{enumerate}
	\end{proof}
\end{lem}

\begin{bsp}
	\begin{enumerate}
        \leavevmode
		\item[0)] Körper sind lokale Ringe.
        \item Ist $(A,\fm)$ ein lokaler Ring. Dann ist $A\llbracket t \rrbracket$ ein lokaler Ring. Dabei ist \[ A\llbracket t \rrbracket=\left\{\sum_{i=0}^\infty a_it^i \,\middle|\, a_i \in A\right\} \] der Ring der formalen Potenzreihen mit kanonischer Addition und Multiplikation. Betrachte die Komposition $A\llbracket t \rrbracket \to A \to A/\fm$ gegeben durch $\phi=\can \circ \ev_0$. Diese bildet surjektiv auf den Körper $A/\fm$ ab, also ist $\ker \phi \in \Max A\llbracket t \rrbracket$.
        
        Sei $f \in \ker \phi$ und betrachte $1+ f$. Aus $f \in \ker \phi$ folgt $f=\sum_{i=0}^\infty a_it^i$ mit $a_0 \in \fm$. Wir wollen ein $g \in A\llbracket t\rrbracket$ mit $g=\sum_{i=0}^\infty b_it^i$ mit $(1+f)g=1$ finden, d.h. $(1+a_0)b_0$ und $(1+a_0)b_n+a_1b_{n-1}+\dots a_nb_0$ für alle $n > 0$. Erstere Gleichung ist lösbar, da $a_0 \in m$ liegt und damit $1+a_0 \in A^{\times}$ folgt. Wir führen nun eine Induktion nach $n$. Nehme an, dass $b_0, \dots b_{n-1}$ bereits bekannt sind. Dann folgt, dass $b_n=-(1+a_0)^{-1}(a_1b_{n-1}+\dots+a_nb_0)$. Nach \cref{lem:lokale ringe} ist $A\llbracket t \rrbracket$ lokal mit dem maximalen Ideal $(t)+\fm$. Der Residuenkörper ist $A\llbracket T\rrbracket /((t)+\fm) \cong A/\fm$.

        Spezialfall: $k\llbracket t_1,\dots t_n\rrbracket := k\llbracket t_1,\dots,t_{n-1}\rrbracket\llbracket t_n\rrbracket$ lokaler Ring mit maximalen Ideal $(t_1,\dots,t_n)$ und Residuenkörper isomorph zu $k$.
        
		\item Sei $X \subset \IR^n$ offen, $0 \in X$. Betrachte Paare $(U,f)$ mit $U \subset X$ offen, $0 \in U$ und $f:U \to R$ stetig. Definiere Äquivalenzklassen durch $(U_1,f_1) \sim (U_2,f_2)$ genau dann, wenn ein offenes $W \subset U_1 \cap U_2$ mit $0 \in W$ und $f_1|_W=f_2|_W$ existiert. Die Äquivalenzklasse $\langle U,f \rangle$ heißt Funktionenkeim. Definiere $A := \{\langle U,f \rangle \mid (U,f) \text{ wie oben}\}$ mit  punktweiser Addition und Multiplikation.

		Wir zeigen nun, dass $A$ ein lokaler Ring ist. Betrachte $\phi: A \to \mathbb{R}, \; \langle U,f \rangle \to f(0)$, einen wohldefinierten Ringhomomorphismus. $\phi$ surjektiv und damit folgt $\ker \phi \in \Max A$.

        Sei $s = \langle U,f \rangle \in \ker \phi$. Es bleibt $1+s \in A^{\times}$ zu zeigen. Da $1+f(0)=1$, existiert eine offene Umgebung $W$ von $0$, sodass $f(x) \neq 0$ für alle $x \in W$ ist. Dann ist $y: W \to \IR, \; x \mapsto \frac{1}{1+f(0)}$ stetig und es gilt $(1+s)\langle W,y \rangle = 1$. Somit ist $A$ ein lokaler Ring.
        
        \item Sei $A$ ein Ring und $\fp \in \Spec A$. Dann ist $S := A \setminus \fp$ ein multiplikatives System. Wir definieren $A_\fp := S^{-1}A$ (Lokalisation).
        
        Später werden wir zeigen, dass $A_\fp$ ein lokaler Ring mit maximalem Ideal $\fp \cdot A_\fp$ ist.
	\end{enumerate}
\end{bsp}

\lecture{12. April 2018}

\subsection{Nilradikal und Jacobson-Radikal}
\begin{defi}
    Sei $A$ ein Ring sowie $I\subset A$ ein Ideal. Definiere das \emph{Radikal} von $I$ durch \[\sqrt{I} := \{x\in A \mid \exists n>0: x^n\in I\}.\]
    $\Nil(A) := \sqrt{0}$ heißt \emph{Nilradikal} von $A$.
\end{defi}
\begin{lem}
    \leavevmode
    \begin{enumerate}
        \item $\sqrt{I}$ ist ein Ideal von $A$.
        \item $I\subset \sqrt{I} = \sqrt{\sqrt{I}}$
        \item $\sqrt{I} = (1) \Leftrightarrow I = (1)$
        \item $\fak A{\sqrt{I}}$ hat keine nilpotente Elemente (außer 0).
    \end{enumerate}
    \begin{proof}
        \leavevmode
        \begin{enumerate}
            \item Seien $x, y\in \sqrt{I}$, es existieren also $m, n > 0$ mit $x^m, y^n\in I$. Dann gilt
            \[(x+y)^{m+n-1}=\sum_{r=0}^{m+n-1}{m+n-1 \choose r}\overbrace{x^r}^{\in I \text{ falls } r\geq m}\underbrace{y^{n+m-1-r}}_{\in I \text{ falls } r<m},\]
            also liegt auch $x+y$ in $I$. Die anderen Eigenschaften sind schnell nachgeprüft.
            \item Da $I\subset \sqrt{I}$, folgt sofort $\sqrt{I} \subset \sqrt{\sqrt{I}}$. Ist nun umgekehrt $x\in \sqrt{\sqrt{I}}$, so existiert ein $n>0$ mit $x^n\in \sqrt{I}$, und dann existiert ein $m>0$ mit $(x^n)^m = x^{nm} \in I$ Also liegt $x$ in $\sqrt{I}$.
            \item Die Rückrichtung ist klar. Sei also $\sqrt I=(1)$. Dann exisitert ein $n>0$ mit $1^n \in I$, also liegt $1$ in $I$.
            \item Sei $z\in \fak A{\sqrt{I}}$ mit $z^n=0$. Schreibe $z=x+\sqrt{I}$ für ein $x\in A$. Dann ist $x^n+\sqrt{I} = 0$, also liegt $x^n$ in $\sqrt{I}$ und es folgt $z=0$.
            \qedhere
        \end{enumerate}
    \end{proof}
\end{lem}
\begin{bsp}
    Sei $A=\IZ$ und $I=(a)$. Was ist $\sqrt{(a)}$?

    Für $a=0$ ist $\sqrt{(a)}=(0)$. Sei nun $a\neq 0$, o.B.d.A. $a>0$. Schreibe $a=p_1^{m_1}p_2^{m_2}\ldots p_l^{m_l}$ mit positiven Primzahlen $p_1, \ldots, p_l$ und $p_i\neq p_j$ für $i\neq j$. Dann ist $\sqrt{(a)}=(p_1p_2\ldots p_l)$.

    \begin{proof}
        \leavevmode
        \begin{description}
            \item[\enquote{$\subseteq$}] Ist $x\in \sqrt{(a)}$, so existiert ein $n>0$ mit $x^n \in (a)$. $a$ teilt also $x^n$, weshalb jedes $p_i$ und somit auch ihr Produkt $x$ teilt, woraus $x \in (p_1\ldots p_l)$ folgt.
            \item[\enquote{$\supseteq$}] Ist $x \in (p_1\ldots p_l)$, so wähle $n \ge \max\{m_1,\ldots,m_l\}$. Dann liegt $x^n$ in $(p_1^n\ldots p_l^n \subset (p_1^{m_1}\ldots p_l^{m_l}) = (a)$.
            \qedhere
        \end{description}
    \end{proof}
\end{bsp}
\begin{prop}
    Sei $A$ ein Ring und $I$ ein Ideal in $A$. Dann gilt
    \[\sqrt{I} = \bigcap_{\mathclap{\substack{\fp\in \Spec A,\\ \fp\supset I}}} \fp.\]
\end{prop}
\begin{proof}
    \leavevmode
    \begin{description}
        \item[\enquote{$\subseteq$}] Sei $x\in \sqrt{I}$. Dann existiert ein $n>0$ mit $x^n\in I$.
        Sei $\fp\in \Spec A$ mit $\fp\supset I$. Dann liegt $x^n$ auch in $\fp$, und da $\fp$ ein Primideal ist, folgt $x \in \fp$.
        \item[\enquote{$\supseteq$}] Sei $x\in \bigcap_{\fp\in \Spec A, \fp\supset I}\fp$. Angenommen, $x$ wäre nicht in $\sqrt{I}$; für alle $n>0$ gilt also $x^n\not \in I$.

        Definiere \[\Sigma := \{J \mid J\subset A \text{ Ideal}, I\subset J,\, \forall n>0: x^n\not \in J\}.\]
        Dann ist $(\Sigma, \subset)$ angeordnet (partiell geordnet).
        
        Wir wollen das \textsc{Lemma von Zorn} anwenden.
        \begin{itemize}
            \item $\Sigma \neq \emptyset$ (da $I\in \Sigma$)
            \item Sei $(J_t)_{t\in T}$ mit $T \neq \emptyset$ eine Kette in $\Sigma$, es gilt also $J_t \in \Sigma$ sowie $J_t \subset J_{t'}$ oder $J_t \supset J_{t'}$ für alle $t,t'\in T$.
            Dann ist $\bigcup_{t\in T} J_t$ ein Ideal in $A$ und enthält $I$, aber kein $x^n$ mit $n>0$. Also liegt $\bigcup_{t\in T} J_t$ in $\Sigma$.
        \end{itemize}
        
        Nach dem \textsc{Lemma von Zorn} existiert nun ein $\fp \in \Sigma$, welches maximal in $\Sigma$ bezüglich Inklusion ist. Wir behaupten, dass $\fp$ ein Primideal in $A$ ist.
        \begin{proof}
            Seien $a, b \in A \setminus \fp$. Es ist $ab\in A\setminus \fp$ zu zeigen.
            
            Da $(a)+\fp$ und $(b)+\fp$ echt größer als $\fp$ sind, liegen sie nicht in $\Sigma$. Somit existieren $m,n>0$ mit $x^m \in (a) + \fp$ und $x^n \in (b) + \fp$, weshalb wiederum Elemente $c,d\in A$ und $r,s \in \fp$ existieren, sodass $x^m = ac+r$ und $x^n = bd+s$ gilt. Wir erhalten \[x^{m+n} = (ac+r)(bd+s) = \underbrace{abcd}_{\in (ab)} + \underbrace{rbd + sac + rs}_{\fp} \in (ab)+\fp. \]
            Wäre $ab \in \fp$, so läge $x^{m+n}$ auch in $\fp$, was aber $\fp \notin \Sigma$ bedeuten würde, ein Widerspruch.
        \end{proof}

        Nach unserer Annahme liegt $x=x^1$ in $\fp$, was aber wegen $\fp \in \Sigma$ einen Widerspruch darstellt.
        \qedhere
    \end{description}
\end{proof}

\begin{defi}
    Sei $A$ ein Ring. Dann heißt \[\Jac(A) := \bigcap_{\mathclap{\fm\in \Max{A}}} \fm\] das \emph{Jacobson-Radikal} von $A$.
\end{defi}
\begin{beme}
    \leavevmode
    \begin{enumerate}
        \item $\Jac(A)$ ist ein Ideal von $A$.
        \item Sei $(A, \fm)$ ein lokaler Ring und ein Integritätsbereich. Dann gilt $\Nil(A)=(0)$ und $\Jac(A) = \fm$, d.h. $\Nil(A) \subsetneq \Jac(A)$ falls $A$ kein Körper ist.
        
        Beispielsweise ist $k\llbracket t\rrbracket$ ein lokaler Ring mit $\fm=(t)\neq (0)$ und ist nullteilerfrei, da mit $f=\sum_{i=m}^\infty a_it^i,g=\sum_{i=n}^\infty b_it^i \in k\llbracket t\rrbracket$ mit $a_m,b_n \neq 0$ dann \[ fg = \underbrace{a_mb_nt^{m+n}}_{\neq 0} + \text{ Terme höheren Grades} \neq 0 \] gilt.
    \end{enumerate}
\end{beme}
\begin{prop} \label{prop:jacobson}
    Sei $A$ ein Ring. Dann gilt $\Jac(A) = \{x\in A \mid \forall a\in A: 1-ax\in A^{\times} \}$.
\end{prop}
\begin{proof}
    \leavevmode
    \begin{description}
        \item[\enquote{$\subseteq$}] Sei $x\in \Jac(A)$ und $a\in A$. Angenommen, $1-ax\not \in A^{\times}$. Dann existiert ein $\fm\in \Max(A)$ mit $1-ax\in \fm$, sodass $1=(1-ax)+ax\in \fm$ gilt, Widerspruch.
        \item[\enquote{$\supseteq$}] Sei $x \in A$ mit $1-ax\in A^{\times}$ für alle $a \in A$ sowie $\fm\in \Max(A)$. Angenommen, $x\not \in \fm$. Dann gilt $(x)+\fm=(1)$, es existieren also $a\in A, y\in \fm$ mit $1=ax+y$. Dann folgt aber $\fm \ni y = 1-ax \in A^{\times}$, ein Widerspruch.
        \qedhere
    \end{description}
\end{proof}

\section{Moduln}
\subsection{Grundbegriffe}
\begin{defi}
    Sei $A$ ein Ring. Ein \emph{$A$-Modul} ist Tripel $(M, +, \cdot)$ besteht aus einer Menge $M$ und Abbildungen $+: M\times M \rightarrow M$, $\cdot: A\times M \rightarrow M$, sodass folgendes für alle $a,b\in A$ und $x,y \in M$ gilt:
    \begin{enumerate}
        \item $(M,+)$ ist eine abelsche Gruppe.
        \item $(a+b)x=ax+bx$
        \item $a(x+y)=ax+ay$
        \item $a(bx)=(ab)x$
        \item $1\cdot x=x$
    \end{enumerate}
\end{defi}
\begin{bsp} \label{bsp:moduln}
    \leavevmode
    \begin{enumerate}
        \item Falls $A=k$ Körper: $A$-Modul $=$ $k$-Vektorraum \label{bsp:moduln:i}
        \item $A$ ist selbst ein $A$-Modul, genannt ${}_AA$. \label{bsp:moduln:ii}
        \item Ist $\phi: A\rightarrow B$ ein Ringhomomorphismus, so wird $B$ ein $A$-Modul durch $a\cdot b = \phi(a)\cdot b$.
        \item Ist $A=\IZ$, so sind $A$-Moduln abelsche Gruppen (für $n\in \IZ, n>0: nx=\underbrace{x+x+\ldots+x}_{n\text{ mal}}$).
        \item Sei $A=k[t]$ ($k$ Körper). Sei $V$ ein $k$-Vektorraum und $\psi \in \End_k(V)$. Definiere $k[t] \times V \rightarrow V$ durch $(P,v) \mapsto (P(\psi))v:=\sum_{\nu=0}^n a_\nu(\psi^\nu)(v)$ mit $P(t)=\sum_{\nu=0}^n a_\nu t^\nu$. Dann wird $V$ ein $k[t]$-Modul.
    \end{enumerate}
\end{bsp}
\begin{defi}
    Sei $\phi: A\rightarrow B$ ein Ringhomomorphismus und $N$ ein $B$-Modul. Dann wird $N$ mit $+$ und $\cdot_A: A\times N\rightarrow N$ definiert durch $(a, y) \mapsto \phi(a)\cdot y$ zu einem $A$-Modul. Bezeichnung: ${}_AN$.
\end{defi}
\begin{bsp}
    \leavevmode
    \begin{enumerate}
        \item Mit \cref{bsp:moduln} \ref{bsp:moduln:i} und \ref{bsp:moduln:ii} gilt ${}_AB={}_A({}_BB)$.
        \item Sei $A=k$, $B=k[t]$ und $N$ $k[t]$-Modul.
        Dann ist ${}_kN$ ein $k$-Vektorraum.
        Betrachte $\psi: {}_kN \to {}_kN, y\mapsto t\cdot y$. Dann gilt $\psi\in \End_k({}_kN)$.
        Sei $P(t)=\sum_{\nu=0}^n a_\nu t^\nu\in k[t]$. Dann ist $P\cdot y = \sum_{\nu = 0}^n a_\nu \psi^n(y) = \sum_{\nu = 0}^n a_\nu (t\cdot y) = P\cdot y$ und wir erhalten einen $N = $ $k[t]$-Modul entstanden aus $({}_kN, \psi)$.
    \end{enumerate}
\end{bsp}
\begin{defi}
Seien $M$ und $N$ $A$-Moduln. Eine Abbildung $M\rightarrow N$ heißt \emph{$A$-linear}, wenn $f(x+x')=f(x)+f(x')$ und $f(ax)=af(x)$ für alle $x,x'\in M$ und $a\in A$ gilt.
Bezeichne $\Hom_A(M, N) := \{f \mid  \text{$f: M\rightarrow N$ ist $A$-linear}\}$.
\end{defi}


\lecture{16. April 2018}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Seien $M\xrightarrow{f}N\xrightarrow{g}P$ $A$-linear. Dann ist auch $g\circ f$ $A$-linear.
		\item Seien $M$ und $N$ $A$-Moduln. Dann wird $\Hom_A(M,N)$ zu einem $A$-Modul mit
		\begin{eqnarray*}
			f+g & \colon & M\to N,\, x\mapsto f(x) + g(x)\\
			af & \colon & M\to N,\, x\mapsto af(x)\; (= f(ax))
		\end{eqnarray*}
		für alle $f,g\in\Hom_A(M,N)$ und $a\in A$.
		
		Für die $A$-Linearität von $af$ wird benötigt, dass $A$ ein kommutativer Ring ist.
		\item Sei $\phi\colon A\to B$ ein Ringhomomorphismus sowie $f\colon M\to N$ $B$-linear. Dann ist $f\colon {}_AM\to {}_AN$ $A$-linear. Wir erhalten also eine Injektion $\Hom_B(M,N)\hookrightarrow \Hom_A({}_AM,{}_AN)$.
	\end{enumerate}
\end{beme}
\begin{defi}
	Sei $f\colon M\to N$ eine $A$-lineare Abbildung. $f$ heißt \emph{Isomorphismus} (von $A$-Moduln), wenn $f$ bijektiv ist.
\end{defi}
\begin{beme} Ist $f\colon M\to N$ ein Isomorphismus von $A$-Moduln, so ist $f^{-1}$ ebenfalls $A$-linear. Das heißt, $f$ ist genau dann ein Isomorphismus, wenn ein $A$-lineares $g\colon N\to M$ existiert, sodass $g\circ f = \id_M$ und $f\circ g = \id_N$ gilt.
\end{beme}
\begin{bsp}
	Sei $M$ ein $A$-Modul. Betrachte die Abbildung \begin{eqnarray*}
		M &\to& \Hom_A(A,M)\\
		x&\mapsto & [a\mapsto ax]\enspace .
	\end{eqnarray*}
	Das ist ein Isomorphismus von $A$-Moduln mit Umkehrabbildung
	\begin{eqnarray*}
		\Hom_A(A,M)&\to& M\\
		f &\mapsto& f(1) \enspace .
	\end{eqnarray*}
\end{bsp}
\subsection{Untermoduln}
\begin{defi}
	Sei $M$ ein $A$-Modul. Eine Teilmenge $M'\subseteq M$ heißt \emph{$A$-Untermodul}, falls
	\begin{enumerate}
		\item $0\in M'$ \label{defi:untermodul:i}
		\item $x+x'\in M'$ \label{defi:untermodul:ii}
		\item $ax\in M'$ \label{defi:untermodul:iii}
    \end{enumerate}
    für alle $x,x' \in M'$ und $a \in A$ gelten.

	Falls $M'\subseteq M$ ein $A$-Untermodul ist, ist $M'$ mit den Einschränkungen der Addition und der skalaren Multiplikation von $M$ wieder ein $A$-Modul; die Inklusion $M'\hookrightarrow M$ ist $A$-linear.
	
	Sei $M'\subseteq M$ ein $A$-Untermodul. Dann ist $\fak M{M'}$ (als abelsche Gruppe) mit 
	\begin{eqnarray*}
		A\times \fak M{M'} & \to & \fak M{M'}\\
		(a, x+M') &\mapsto& ax + M'
	\end{eqnarray*}
	ein $A$-Modul. Die Wohldefiniertheit ist schnell nachgerechnet.
	
	Die Quotientenabbildung $\pi\colon M\to \fak M{M'}$ ist $A$-linear (nach der Definition der Skalarmultiplikation).
\end{defi}
\begin{bsp}
	\leavevmode
	\begin{enumerate}
		\item Für $M = {}_AA$ sind die $A$-Untermoduln von ${}_AA$ genau die Ideale von $A$.
		\item Sei $A = k[t]$ und $M$ ein $A$-Modul. Dann ist $M$ eindeutig bestimmt durch $({}_kM, \psi)$, wobei $\psi\in\End_k(M)$ mit $\psi(x) = tx$. Sei $M'\subseteq M$ eine Teilmenge. Dann ist $M'$ genau dann ein $k[t]$-Untermodul, wenn $M'$ ein $k$-Untervektorraum von ${}_kM$ ist und $\psi(M')\subseteq M'$ gilt.
		\begin{proof}
		\leavevmode
		\begin{description}
			\item[\glqq $\Rightarrow$\grqq:] $\checkmark$
			\item[\glqq $\Leftarrow$\grqq:]
            Die Axiome \ref{defi:untermodul:i} und \ref{defi:untermodul:ii} von Untermoduln sind erfüllt, da $M'$ ein Untervektorraum ist. Für Axiom \ref{defi:untermodul:iii} sei $x\in M'$ und $P\in k[t]$ mit $P(t) = \sum a_\nu t^\nu$ mit $a_\nu\in k$. Dann folgt $P\cdot x = \sum a_\nu\psi^\nu(x)\in M'$, da $\psi^\nu(x)$ in $M'$ liegt.
            \qedhere
		\end{description}
		\end{proof}
		\item Sei $I\subseteq A$ ein Ideal, $M$ ein $A$-Modul. Definiere $I\cdot M \coloneqq \{\sum a_ix_i|a_i\in I, x_i\in M\}\subseteq M$. Das ist ein $A$-Untermodul. Beipsielsweise $I = (a)$; dann ist $(a)\cdot M = \{ax|x\in M\}$.
	\end{enumerate}
\end{bsp}
\begin{defi}
	Sei $f\colon M\to N$ eine $A$-lineare Abbildung. Definiere
	\begin{itemize}
		\item $\ker f \coloneqq \{x\in M\mid f(x) = 0\}$,
		\item $\im f \coloneqq f(M)$,
		\item $\coker f\coloneqq N/\im (f)$.
	\end{itemize}
	Der Kern und das Bild von $f$ sind dabei Untermoduln von $M$ bzw. $N$.
\end{defi}
\begin{lem}
	Sei $f\colon M\to N$ eine $A$-lineare Abbildung.
	\begin{enumerate}
        \item Sei $M'\subseteq M$ ein $A$-Untermodul mit $M'\subseteq \ker f$. Dann existiert genau eine Abbildung $\overline{f}\colon \fak M{M'}\to N$, sodass folgendes Diagramm kommutiert.
        \begin{figure}[H]
            \centering
            \begin{tikzcd}
                    M \arrow{r}{f} \arrow{d}{\pi} & N \\
                    \fak M{M'} \arrow[dashrightarrow]{ur}{\overline{f}}
            \end{tikzcd}
        \end{figure} \label{lem:homosatz fuer moduln:i}
        \item Es existiert genau eine $A$-lineare Abbildung $\tilde{f}\colon \fak M{\ker f}\to \im f$, sodass das folgende Diagramm kommutiert.
        \begin{figure}[H]
            \centering
            \begin{tikzcd}
                M \arrow{r}{f} \arrow{d}{\pi} & N \\
                \fak M{\ker f} \arrow[dashrightarrow]{r}{\tilde{f}} & \im f \arrow[hookrightarrow]{u}
            \end{tikzcd}
        \end{figure}
	\end{enumerate}
\end{lem}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item Definiere $\overline{f}\colon \fak M{M'}\to N$ durch $\overline{f}(x+M') = f(x)$ (wohldefiniert, da $M'\subseteq \ker f$). Außerdem ist $\overline{f}$ auch $A$-linear, da $\overline{f}(ax+M') = f(ax) = a(f(x)) = a\overline{f}(x+M')$ gilt.
        \item Wenden wir \ref{lem:homosatz fuer moduln:i} auf $M' = \ker f$ an, so erhalten wir eine eindeutige $A$-lineare Abbildung $\overline{f}\colon \fak M{\ker f}\to N$, sodass
        \begin{figure}[H]
            \centering
            \begin{tikzcd}
                M \arrow{r}{f} \arrow{d}{\pi} & N \\
                \fak M{\ker f} \arrow[dashrightarrow]{ur}{\overline{f}}
            \end{tikzcd}
        \end{figure}
        
        kommutiert. Da $\im\overline{f} = \im f$, folgt
        \begin{figure}[H]
            \centering
            \begin{tikzcd}
                & N  \\
                \fak M{\ker f} \arrow{ur}{\overline{f}}\arrow[dashrightarrow]{r}{\exists!\tilde{f}}	& \im f\arrow[hookrightarrow]{u}
               \end{tikzcd}
        \end{figure}
		
        $\tilde{f}$ ist analog zum Homomorphiesatz für Gruppen bijektiv.
        \qedhere
	\end{enumerate}
\end{proof}

\begin{beme}
	Sei $M$ ein $A$-Modul sowie $M_i\subseteq M$ Untermoduln mit $i\in I$.
	\begin{enumerate}
		\item $\bigcap\limits_{i\in I} M_i$ ist ein Untermodul.
		\item Sei $T\subseteq M$ eine Teilmenge. Definiere
		\[\<T\> \coloneqq \bigcap_{\mathclap{\substack{T\subseteq M'\subseteq M\\\text{$M'$ Untermodul}}}} M'\] als den von $T$ erzeugten Untermodul.
		\item Die Menge $\sum\limits_{i\in I} M_i  \coloneqq \left\{\sum x_i \,\middle|\, \substack{x_i \in M_i \text{ mit }i\in I,\\\text{ nur endlich viele } x_i\neq 0}\right\}$ ist ein Untermodul.
	\end{enumerate}
\end{beme}
\begin{beme}
	Seien $M_i$ $A$-Moduln mit $i\in I$.
	\begin{enumerate}
		\item $\prod\limits_{i\in I} M_i\coloneqq \{(x_i)_{i\in I}\mid x_i\in M_i\}$ ist ein $A$-Modul mit $a(x_i) = (ax_i)$.
		\item $\bigoplus\limits_{i\in I} M_i\coloneqq \{(x_i)_{i\in I}\mid\text{nur endlich viele }x_i\neq 0\}\subseteq \prod\limits_{i\in I}M_i$ ist ein Untermodul.
        \item Sind $M_i\subseteq M$ Untermoduln und $M_i\cap \sum\limits_{j\neq i} M_j = \{0\}$, so ist $\sum\limits_{i\in I} M_i\cong \bigoplus\limits_{i\in I} M_i$.
        \item Falls $M_i = M$ für alle $i \in I$, schreibe $M^I \coloneqq \prod\limits_{i\in I} M_i$ und $M^{(I)}\coloneqq \bigoplus\limits_{i\in I}M_i$.
	\end{enumerate}
\end{beme}

\subsection{Endlich erzeugte Moduln}
\begin{defi}
	Sei $M$ ein $A$-Modul. Sei $\{x_i\}_{i\in I}\subseteq M$. $\{x_i\}$ heißt 
	\begin{itemize}
		\item linear unabhängig (linearly independent)
		\item Erzeugendensystem (generating system)
		\item Basis
	\end{itemize}
	analog zur linearen Algebra.
	\begin{enumerate}
        \item $M$ heißt \emph{frei}, falls eine der folgenden, äquivalenten Aussagen gilt:
        \begin{itemize}
            \item $M$ hat eine Basis.
            \item Es existiert eine Menge $I$, sodass ein Isomorphismus $A^{(I)}\xrightarrow{\cong}M$ existiert.
        \end{itemize}
        \item $M$ heißt \emph{endlich frei}, falls eine der folgenden, äquivalenten Aussagen gilt:
        \begin{itemize}
            \item $M$ hat eine endliche Basis.
            \item Es existiert ein $n \ge 0$, sodass ein Isomorphismus $A^{n}\xrightarrow{\cong}M$ existiert.
        \end{itemize}
        \item $M$ heißt \emph{endlich erzeugt}, falls eine der folgenden, äquivalenten Aussagen gilt:
        \begin{itemize}
            \item $M$ hat ein endliches Erzeugendensystem.
            \item Es existiert ein $n \ge 0$, sodass eine surjektive $A$-lineare Abbildung $A^{n}\to M$ existiert.
        \end{itemize}
        \item $M$ heißt \emph{endlich präsentiert}, falls ein $n \ge 0$ existiert, sodass eine surjektive $A$-lineare Abbildung $A^{n}\xrightarrow{f} M$ existiert, sodass $\ker f$ endlich erzeugt ist.
	\end{enumerate}
\end{defi}
\begin{beme}\label{bem:2.17}
	\leavevmode
	\begin{enumerate}
		\item endlich frei $\Rightarrow$ endlich präsentiert $\Rightarrow$ endlich erzeugt
		\item Falls $A = k$ Körper: endlich erzeugt $\Rightarrow$ endlich frei
		\item Sei $A = \IZ$, $M = \fak \IZ{m\IZ}$. Dann ist $M$ endlich präsentiert, aber nicht endlich frei.
		\item Sei $A = \IZ[T_1,T_2,T_3,\dots]$. Betrachte $\ev_{(T_i = 0)}\colon \IZ[T_1,T_2,\dots]\to \IZ$ und $M = {}_A\IZ$. Dann ist $M$ endlich erzeugt, aber nicht endlich präsentiert, denn $\ker\ev_{(T_i = 0)}= (T_1,T_2,\dots)$, was nicht endlich erzeugt ist.
	\end{enumerate}
\end{beme}
\begin{lem}[Nakayamas Lemma] \label{lem:nakayama}
	Sei $M$ ein endlich erzeugter $A$-Modul und $I\subseteq A$ ein Ideal mit $I \cdot M = M$.
	\begin{enumerate}
		\item \label{lem:nakayama:i} Es existiert ein $a\in I$ mit $(1+a)\cdot M = \{0\}$ \textup(das heißt, für alle $x\in M: (1+a)x = 0$\textup)
		\item Falls $I\subseteq\Jac(A)$, so gilt $M = \{0\}$.
	\end{enumerate}
\end{lem}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item Induktion nach $n$, der minimalen Anzahl der Erzeuger von $M$.
        \begin{description}
            \item[$n = 0$:] $M = 0$, $\checkmark$
            \item[$n-1\to n$:] Sei $x_1,\dots, x_n$ ein Erzeugendensystem von $M$. Definiere $N\coloneqq \fak M{\<x_n\>}$. Sei $\pi \colon M\to N$ die Quotientenabbildung. Dann folgt $N = \<\pi(x_1),\dots,\pi(x_{n-1})\>$. Nun gilt $I\cdot N = N$, da für $y\in N$ ein $x\in M$ mit $\pi(x) = y$ und $x\in I\cdot M$ existiert, und somit $a_i\in I$ sowie $\tilde{x_i}\in M$ mit $x =\sum a_i\pi(\tilde{x_i})\in I\cdot N$ existieren.
		
            Nach der Induktionsannahme existiert ein $b\in I$, sodass $(1+b)\cdot N = \{0\}\subseteq N = \fak M{\<x_n\>}$. Dann gilt
            \begin{align*}
                &\phantom{{}\Rightarrow{}}(1+b)\cdot M\subseteq \<x_n\>\\
                &\Rightarrow (1+b)\cdot M = (1+b)\cdot (I\cdot M) = I\cdot((1+b)\cdot M)\subseteq I \cdot \<x_n\>\\
                &\Rightarrow \exists c\in I: (1+b) x_n = cx_n \\
                &\Rightarrow (1+b-c)x_n = 0\\
                &\Rightarrow (1+b-c)(1+b)M = \{0\}
            \end{align*}
            Dabei ist $(1+b-c)(1+b) = (1+a)$ mit $a = b-c+b^2-bc\in I$.
        \end{description}
        \item Sei $x\in M$. Nach Punkt \ref{lem:nakayama:i} existiert ein $a\in I$ mit $(1+a)x = 0$. Da $a\in \Jac(A)$, folgt nach \cref{prop:jacobson} dann $1+a\in A^{*}$; also gilt $x = 0$.
        \qedhere
	\end{enumerate}
\end{proof}

\lecture{19. April 2018}

Nachtrag zu \cref{bem:2.17}: Sei $A = \IZ[T_1,\dots]$, $\phi = \ev_{T_i = 0}\colon A\to \IZ$ und $M = {}_A\IZ$, also $p\cdot z = p(0,\dots)\cdot z$ für $p\in A, z\in\IZ$. Wir behaupten, dass $M$ (als $A$-Modul) endlich erzeugt, aber nicht endlich präsentiert ist.
\begin{proof}
	$M$ ist offensichtlich endlich erzeugt.
	
	Angenommen, $M$ ist endlich präsentiert. Dann existiert eine surjektive, $A$-lineare Abbildung $ f\colon A^n \twoheadrightarrow M$, sodass $\ker f$ endlich erzeugt ist.
	Sei $e_j = (0,\dots, 1,\dots, 0)\in A^n$, wobei die $1$ im $j$-ten Eintrag steht. Definiere nun $z_j = f(e_j)\in\IZ$. Dann ist $\ker f = \set*{ p = (p_1,\dots, p_n)\in A^n \given \sum_{j=0}^n p_j(0)z_j = 0 }$.
	
	Nach unserer Annahme existieren nun $p^{(1)},\dots, p^{(m)}\in\ker f$ mit $\ker f = \gen{p^{(1)},\dots, p^{(m)}}_A$. Schreibe $p^{(i)} = \left(p_1^{(i)},\dots,p_n^{(i)}\right)$. Wähle $N>0$, sodass $T_N$ in keinem der $p_j^{(i)}$ auftritt. Betrachte $T_n\cdot e_j\in\ker f$. Es existiert dann ein $Q^{(i,j)}\in A$ mit $T_N\cdot e_j = \sum_{i = 1}^nQ^{(i,j)}p^{(i)}$.
	
	Folglich gilt $\sum_{i = 1}^n Q^{(i,j)}p_k^{(i)} = \delta_{jk}T_N$ für alle $1 \le k \le n$. Damit erhalten wir
	\begin{equation}
		\sum_{k=1}^n z_k \cdot \sum_{i=1}^n Q^{(i,j)} p_k^{(i)} = z_jT_n = \sum_{i=1}^nQ^{(i,j)} \cdot \sum_{k =1}^n z_kp_k^{(i)}.	\tag{*}\label{eq:endl erz, aber nicht endl praes}
	\end{equation}
	Wir betrachten nun den Ringhomomorphismus $\phi_n : A \to \IZ[T_N]$ mit $\phi(T_i) = 0$ für $i \neq N$. Wendet man $\phi_n$ auf \eqref{eq:endl erz, aber nicht endl praes} an, so ergibt sich
	\begin{align*}
		\sum_{i=1}^n \phi_n\left(Q^{(i,j)}\right) \cdot \underbrace{\sum_{k=1}^nz_k \phi_n\underbrace{\left(p_k^{(i)}\right)}_{p_k^{i}(0,\ldots)}}_{\mathclap{\text{$\sum_{k=1}^nz_kp_k(0) = 0$, da $p_k^{(i)} \in \ker f$}}} = z_j \cdot \underbrace{\phi_n(T_N)}_{T_n}.
	\end{align*}
	Also gilt $z_j = 0$, und da $j$ beliebig ist, auch $f=0$. Das ist aber ein Widerspruch zur Surjektivität von $f$.
\end{proof}

\begin{kor} \label{kor:2.19}
	Sei $M$ ein $A$-Modul, $N,N' \subseteq M$ $A$-Untermoduln mit $N'$ endlich erzeugt und $I\subseteq \Jac(A)$ ein Ideal in $A$. Falls $M=N + IN'$ gilt, so folgt bereits $M=N$.
\end{kor}
\begin{proof}
	Wir zeigen zunächst, dass $\fak MN$ endlich erzeugt ist. Es gilt $M=N+ I \cdot N \subseteq N+ N' \subseteq M$. Also ist die Komposition $N' \hookrightarrow M \to \fak MN$ surjektiv, weil für $x+ N \in \fak MN$ wegen $M=N+IN'$ dann $y\in N$ und $y' \in N'$ mit $x=y+y'$ existieren, sodass also \[x+N=y+y'+N = y' + N \in \im(N' \hookrightarrow M \to \fak MN) \] gilt. Da $N'$ endlich erzeugt ist und $N' \twoheadrightarrow \fak MN$ surjektiv ist, ist auch $\fak MN$ endlich erzeugt.
	
	Weiterhin gilt $\fak MN = I \cdot \fak MN$, denn für $x+N \in \fak MN$ existieren wegen $M=N+ I\cdot N'$ dann $y' \in N$ sowie $a_i \in I$ und $y_i' \in N'$ mit $x= y' + \sum a_iy_i'$, sodass also $x+ N = \sum a_iy_i' + N = \sum a_i(y_i' + N) $ gilt, was in $I \cdot \fak MN$ liegt. Die andere Inklusion ist trivial.
	
	Mit \namereff{lem:nakayama} folgt nun $\fak MN = \{0\}$, also $M=N$.
\end{proof}
\begin{beme}
	Sei $M$ ein $A$-Modul sowie $I \subseteq A$ ein Ideal.
	\begin{enumerate}
		\item Falls $I \cdot M = \{0\}$, so ist $M$ ein $\fak AI$-Modul via $(A+I) \cdot x = ax$.
		\item Da $I \cdot \fak M{I M} = \{0\}$, ist $\fak M{IM}$ ein $\fak AI$-Modul.
	\end{enumerate}
\end{beme}
\begin{kor}
	Sei $(A,\fm)$ ein lokaler Ring, $M$ ein endlich erzeugter $A$-Modul, $x_1,\ldots,x_n \in M$ sowie $\pi: M \to \fak M{\fm M}$. Falls $\fak{M}{\fm M}$ von $\pi(x_1),\ldots,\pi(x_n)$ als $\fak M\fm$-Vektorraum erzeugt wird, erzeugen die $x_i$ schon $M$ als $A$-Modul.
\end{kor}
\begin{proof}
	Die $\pi(x_i)$ sind ein Erzeugendensystem von $\fak M{\fm M}$ als $\fak A\fm$-Vektorraum, also auch als $A$-Modul. Deshalb gilt $\gen{x_1,\ldots,x_n}_A + \fm M = M$. Mit \cref{kor:2.19} folgt nun $M= \gen{x_1,\ldots,x_n}_A$.
\end{proof}

\subsection{Tensorprodukte}
\begin{defi}
	Seien $M,N,P$ $A$-Moduln Eine Abbbildung $h: M \times N \to P$ heißt \emph{$A$-bilinear}, falls die Abbildungen
	\begin{gather*}
		h(x,-): N \to P, y' \mapsto h(x,y') \\
		h(-,y): M \to P, x' \mapsto h(x',y)
	\end{gather*}
	$A$-linear für alle $x \in M$ und $y \in N$ sind.
\end{defi}
\begin{prop}[Existenz des Tensorprodukts] \label{prop:tensorprodukt}
	Seien $M,N$ $A$-Moduln.
	\begin{enumerate}
		\item Es existiert ein Paar $(T,h)$, wobei $T$ ein $A$-Modul und $h: M \times N \to T$ $A$-bilinear ist, sodass für alle $(P,g)$ mit $P$ $A$-Modul und $g: M \times N \to P$ $A$-bilinear eine eindeutige $A$-lineare Abbildung $\lambda:T \to P$ existiert, sodass das Diagramm \subrefp{prop:tensorprodukt:a} kommutiert. \label{prop:tensorprodukt:i}
		\item Falls $(T',h')$ ein weiteres Paar mit der universellen Eigenschaft \ref{prop:tensorprodukt:i} ist, so existiert ein eindeutiger Isomorphismus von $A$-Moduln $\lambda: T \to T'$, sodass das Diagramm \subrefp{prop:tensorprodukt:b} kommutiert. \label{prop:tensorprodukt:ii}
	\end{enumerate}
	\begin{figure}[H]
		\begin{subfigure}[b]{.5\linewidth}
			\centering
				\begin{tikzcd}
					M \times N \arrow{r}{h} \arrow{rd}[swap]{g} & T \arrow{d}{\lambda} \\
					&P
				\end{tikzcd}
			\caption{}
			\label{prop:tensorprodukt:a}
		\end{subfigure}
		\begin{subfigure}[b]{.5\linewidth}
			\centering
				\begin{tikzcd}
				M \times N \arrow{r}{h}\arrow{rd}[swap]{h'} & T \arrow{d}{\lambda} \\
				& T'
				\end{tikzcd}
			\caption{}
			\label{prop:tensorprodukt:b}
		\end{subfigure}
	\end{figure}
\end{prop}
\begin{proof}
	\leavevmode
	\begin{description}
		\item[zu \ref{prop:tensorprodukt:i}:] 
		Sei $D := A^{(M \times N)}$ der freie Modul mit Basis $M \times N$. Die Elemente von $D$ sind also Linearkombinationen der Form $\sum a_i [x_iy_i]$ mit $a_i \in A$ sowie $x_i \in M$ und $y_i \in N$.
		
		Sei $U \subseteq D$ der $A$-Untermodul erzeugt von
		\begin{align*}
			[ax+a'x',y] - a[x,y]-a'[x',y] \\
			[x,ay+a'y'] - a[x,y]-a'[x',y]
		\end{align*}
		für alle $a,a' \in A$, $x,x' \in M$ und $y,y' \in N$. Betrachte $T := \fak DU$ und
		\begin{eqnarray*}
			h:M \times N &\to& D \to \fak DU \\
			(x,y) &\mapsto& [x,y].
		\end{eqnarray*}
		Nach Konstruktion ist $h$ bilinear.
		
		Nun zur universellen Eigenschaft. Sei hierzu $(P,g)$ mit einem $A$-Modul $P$ und einer $A$-linearen Abbildung $g: M \times N \to P$ gegeben. Betrachte
		\begin{eqnarray*}
			\ol \lambda : D &\to& P,
			[x,y]\mapsto g((x,y)),
		\end{eqnarray*}
		die eundeutig bestimmte $A$-bilineare Abbildung mit dieser Eigenschaft, wie wir nun zeigen.

		Es gilt $\ol \lambda (U) = \{0\}$, da \[ \ol\lambda ([ax+a'x',y]-a[x,y]-a'[x',y]) = g(ax+a'x',y)-ag(x,y)-a'(x',y) = 0 \]
		gilt (die andere Erzeugerdarstellung funktioniert analog).

		Wir erhalten also das folgende kommutative Diagramm.
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				D \arrow{r}{\ol\lambda} \arrow{d}{} & P \\
				\fak DU \arrow[dashrightarrow]{ru}[swap]{\lambda} &
			\end{tikzcd}
		\end{figure}
		Es gilt hierbei $\lambda(h(x,y)) = \lambda([x,y]) = g(x,y)$, also $\lambda \circ h = g$.

		Zur Eindeutigkeit: Sei $h': \fak DU \to P$ eine weitere $A$-lineare Abbildung mit $\lambda' \circ h = g$. Dann gilt $\lambda'([x,y]+U) = \lambda'(h(x,y)) = g(x,y) = \lambda([x,y]+U)$, also folgt $\lambda = \lambda'$, da $\fak DU$ von $\set{[x,y]+U}$ als $A$-Modul erzeugt wird.

		\item[zu \ref{prop:tensorprodukt:ii}:] Sei $(T',h')$ ein weiteres Paar mit der universellen Eigenschaft. Wir erhalten die zwei kommutativen Diagramme \subrefp{prop:tensorprodukt:proof:a} und \subrefp{prop:tensorprodukt:proof:b}.
		\begin{figure}[H]
			\begin{subfigure}[b]{.24\linewidth}
				\centering
					\begin{tikzcd}
						M \times N \arrow{r}{h} \arrow{rd}[swap]{h'} & T \arrow[dashrightarrow]{d}{\exists!\lambda} \\
						&T'
					\end{tikzcd}
				\caption{}
				\label{prop:tensorprodukt:proof:a}
			\end{subfigure}
			\begin{subfigure}[b]{.24\linewidth}
				\centering
					\begin{tikzcd}
						M \times N \arrow{r}{h'} \arrow{rd}[swap]{h'} & T' \arrow[dashrightarrow]{d}{\exists!\lambda'} \\
						&T
					\end{tikzcd}
				\caption{}
				\label{prop:tensorprodukt:proof:b}
			\end{subfigure}
			\begin{subfigure}[b]{.24\linewidth}
				\centering
					\begin{tikzcd}
					M \times N \arrow{r}{h}\arrow{rd}[swap]{h} & T \arrow{d}{\lambda' \circ \lambda} \\
					& T'
					\end{tikzcd}
				\caption{}
				\label{prop:tensorprodukt:proof:c}
			\end{subfigure}
			\begin{subfigure}[b]{.24\linewidth}
				\centering
					\begin{tikzcd}
					M \times N \arrow{r}{h}\arrow{rd}[swap]{h} & T \arrow{d}{\id_T} \\
					& T'
					\end{tikzcd}
				\caption{}
				\label{prop:tensorprodukt:proof:d}
			\end{subfigure}
		\end{figure}
		Vergleiche nun \subrefp{prop:tensorprodukt:proof:c} und \subrefp{prop:tensorprodukt:proof:d}, woraus aber aufgrund der Eindeutigkeit aus \ref{prop:tensorprodukt:i} bereits $\lambda' \circ \lambda = \id_T$ folgt. Analog folgt $\lambda \circ \lambda' = \id_{T'}$, also ist $\lambda$ bijektiv.
		\qedhere
	\end{description}
\end{proof}
\begin{defi}
	Das Paar $(T,h)$ aus \cref{prop:tensorprodukt} heißt das \emph{Tensorprodukt} von $M$ und $N$ über $A$. Wir schreiben $T = M \tp_A  N$ sowie $h(x,y) = x \tp y$ für $x \in M$ und $y \in N$.
\end{defi}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Die Notation \enquote{$x \tp y$} kann missverständlich sein, wenn nicht klar ist, was $M$ und $N$ sind.

		Sei beispielsweise $M=\IZ$, $N= \fak \IZ{2\IZ}$, $A = \IZ$ und $M' = 2 \IZ$. Betrachte $x=2$ und $y=1$. Dann gilt $2 \tp 1 = 0$ in $\IZ \tp_\IZ \fak \IZ{2\IZ}$, denn $2 \tp 1 = 2 \cdot 1 \tp 1 = 1 \tp 2 \dot 1 = 0$, aber $2 \tp 1 \neq 0$ in $2\IZ \tp_\IZ \fak \IZ{2 \IZ}$, da $[2,1] \in D \setminus U$. Schönere Begründung (derzeit noch heuristisch): $2\IZ \cong \IZ$ via $2 \mapsto 1$, und somit
		\begin{alignat*}{5}
			&2\IZ \tp \fak \IZ{2\IZ} &&\cong &&\IZ \tp \fak \IZ{2\IZ} &&\cong &&\fak \IZ{2\IZ}, \\
			&2 \tp 1 &&\mapsto\; &&1 \tp 1 &&\mapsto\; &&1.
		\end{alignat*}
		\item Die Abbildung $M \times N \xrightarrow{h} M \tp_A N$ ist im Allgemeinen nicht surjektiv, aber $\gen{\im h}_A = M \tp_A N$.
	\end{enumerate}
\end{beme}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Seien $f: M \to N$ und $g: M' \to N'$ $A$-linear. Dann ist $M \times M' \xrightarrow{f \times g} N \times N' \to N \tp_A N'$ $A$-bilinear; wir erhalten also das folgende kommutative Diagramm.
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				M \times M' \arrow{r}{f \times g} \arrow{d}{} & N \times N' \arrow{d}{} \\
				M \tp_A M' \arrow[dashrightarrow]{r}{\exists ! f \tp g} & N \tp_A N'
			\end{tikzcd}
		\end{figure}
		\item Seien $M \xrightarrow{f} N \xrightarrow{g} P$ $A$-linear. Dann gilt $(g \circ g) \tp \id_{M'} = (g \tp \id_{M}) \circ (f \tp \id_{M})$.
	\end{enumerate}
\end{beme}
\begin{prop}
	Seien $M,N,P$ $A$-Moduln. Dann existieren eindeutig bestimmte Isomorphismen.
	\begin{enumerate}
		\item $M \tp_A N \xrightarrow{\cong} N \tp_A M, x \tp y \mapsto y \tp x$ \label{prop:tensorisos:i}
		\item $(M \oplus N) \tp_A P \xrightarrow{\cong} (M \tp_A P) \oplus (N \tp_A P), (x,y)\tp z  \mapsto (x \tp z,y\tp z)$ \label{prop:tensorisos:ii}
		\item $(M \tp_A N) \tp_A P \xrightarrow{\cong} M \tp_A (N \tp_A P), (x \tp y) \tp z \mapsto x \tp (y \tp z)$ \label{prop:tensorisos:iii}
		\item $A \tp_A M \xrightarrow{\cong} M, (a \tp x) \mapsto ax$ \label{prop:tensorisos:iv}
	\end{enumerate}
\end{prop}

\lecture{23. April 2018}

\begin{proof}
	% TODO: hier fehlt noch einiges (oder wurde nur ii) bewiesen?)
	HIER FEHLEN POTENTIELL NOCH TEILE DES BEWEISES!!!
	\begin{description}
		\item[Beweis von \ref{prop:tensorisos:ii}:] Die Abbildung $(M\oplus N)\times P \to (M\tp_AP) \oplus(N\tp_AP), ((x,y),z)\mapsto (x\tp z, y\tp z)$ ist $A$-bilinear, folglich faktorisiert sie über das Tensorprodukt $(M\oplus N)\tp_aP$:
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				(M\oplus N)\times P \arrow{r}\arrow{d}& Y(M\tp_AP)\oplus(N\tp_AP) \\
				(M\oplus N)\tp_AP \arrow[dashrightarrow]{ru}[swap]{\exists!\lambda}
			\end{tikzcd}
		\end{figure}
		Folglich gilt: $\lambda((x,y)\tp z) = (x\tp z, y\tp z)$.

		Wir konstruieren nun eine Umkehrabbildung. Betrachte hierzu die Abbildung
		\begin{gather*}
			i_M: M \to M \tp N, x \mapsto (x,0) \\
			i_N : N \to M \tp N, y \mapsto (0,y)
		\end{gather*}
		und das folgende kommutative Diagramm.
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				M \tp_A P \arrow{r}{i_M \circ \id_P} \arrow{rd}[swap]{i_{M \tp_A P}} & (M \oplus N) \tp_A P & N \tp_A P \arrow{l}[swap]{i_N \circ \id_P} \arrow{ld}{i_{N \tp_A P}} \\
				& (M \tp_A P) \oplus (N \tp_A P) \arrow[dashrightarrow]{u}{\exists!\lambda'}
			\end{tikzcd}
		\end{figure}
		Nun gilt
		\begin{align*}
			\lambda'(x \tp z, y \tp z') &= \lambda'(x \tp z,0)+ \lambda'(0,y \tp z') \\
			&= \lambda'(i_{M \tp_A P}(x \tp z))+ \lambda'(i_{N \tp_A P}(y \tp z')) \\
			&= (i_M \tp \id_P)(x \tp z) + (i_N \tp \id_P)(y \tp z') \\
			&= (x,0) \tp z + (0,y) \tp z',
		\end{align*}
		also folgt aufgrund der Bilinearität des Tensorprodukts \[ (\lambda \circ \lambda')((x,y)\tp z) = \lambda'(x \tp z, y \tp z) = (x,0) \tp z + (0,y) \tp z = (x,y)\tp z .\]
		Genauso erhalten wir $(\lambda \circ \lambda')(x \tp z,y \tp z') = (x\tp z, y \tp z')$, also folgt $\lambda' \circ \lambda = \id$ und $\lambda \circ \lambda' = \id$.
		\qedhere
	\end{description}
\end{proof}
\begin{kor}
	Sei $M$ bzw. $N$ ein freier $A$-Modul mit Basis $(x_i)_{i \in I}$ bzw. $(y_j)_{j\in J}$. Dann ist $M \tp_A N$ ein freier $A$-Modul mit Basis $(x_i\tp y_j)_{i \in I, j\in J}$.
\end{kor}
\begin{proof}
	Es gilt $M \cong \bigoplus\limits_{i\in I} A$ und $N \cong \bigoplus\limits_{j\in J} A$. Daraus folgt \[ M \tp_A N \cong  \bigoplus_{i\in I} A \tp_A \bigoplus_{j\in J} A \cong \bigoplus_{i \in I}\underbrace{(A \tp_A N)}_{\cong N} \cong \bigoplus_{i\in I}\bigoplus_{j\in J}A. \qedhere \]
\end{proof}
\begin{prop}[Adjunktion von $\tp$ und $\Hom$]
	Seien $M,N,P$ $A$-Moduln. Dann existiert ein eindeutiger Isomorphismus von $A$-Moduln
	\begin{eqnarray*}
		\Phi: \Hom_A (M \tp_A , P ) &\xlongrightarrow{\cong}& \Hom_A(M, \Hom_A(N, P)), \\
		f &\mapsto& x \mapsto (y \mapsto f(x \tp_A y)).
	\end{eqnarray*}
\end{prop}
\begin{proof}
	$\Phi$ ist wohldefiniert und $A$-linear. Wir suchen nun eine Umkehrfunktion $\Psi : \Hom_A(M, \Hom_A(N, P)) \to \Hom_A (M \tp_A N, P )$. Sei $g \in \Hom_A(M, \Hom_A(N,P))$. Betrachte
	\begin{figure}[H]
		\centering
		\begin{tikzcd}
			(x,y) \arrow[mapsto]{r}{} & (g(x))(y) \\
			M \times N \arrow{r}{} \arrow{d}{} & P \\
			M \tp_A N \arrow[dashrightarrow]{ru}[swap]{\exists! \Psi(g)}
		\end{tikzcd}
	\end{figure}
	$\Psi(g)$ ist $A$-linear, da $g$ und $g(x)$ $A$-linear sind. Nun folgt
	\begin{align*}
		(\Psi(g))(x \tp y) &= (g(x))(y) \\
		((\psi \circ \phi)(f))(x \tp y) &= ((\phi(f))(x))(y) = (f(x \tp \_))(y) = f(x \tp y) \\
		((\phi \circ \psi)(g))(x) &= (\psi(g))(x \tp \_) = (g(x))(\_) = g(x). \qedhere
	\end{align*}
\end{proof}

\subsection{Flache Moduln}
\begin{defi}
	Eine Sequenz von $A$-Moduln \[ \ldots \longrightarrow M_{i-1} \xlongrightarrow{f_{i-1}} M_i \xlongrightarrow{f_{i}} M_{i+1} \longrightarrow \ldots \] (Sequenz kann endlich sein, aber auch unendlich nach links, rechts oder nach beiden Seiten) heißt \emph{exakt} wenn $\im f_{i-1} = \ker f_i$ für alle $i \in \IZ$ gilt. Insbesondere gilt:
	\begin{eqnarray*}
		0 \longrightarrow M' \xlongrightarrow{f} M \text{ exakt} &\Longleftrightarrow& \text{$f$ injektiv} \\
		M \xlongrightarrow{g} M' \longrightarrow 0 \text{ exakt} &\Longleftrightarrow& \text{$g$ surjektiv}
	\end{eqnarray*}
	Eine \emph{kurze exakte Sequenz} ist von der folgenden Form:
	\begin{eqnarray*}
		0 \longrightarrow M' \xlongrightarrow{f} M \xlongrightarrow{g} M'' \longrightarrow 0 &\Longleftrightarrow& \text{$f$ injektiv, $g$ surjektiv, $\im f = \ker g$}
	\end{eqnarray*}
\end{defi}
\begin{prop} \label{prop:exaktheit tensorieren}
	\leavevmode
	\begin{enumerate}
		\item Sei
		\begin{equation}
			M_1 \xlongrightarrow{f_1} M_2 \xlongrightarrow{f_2} M_3 \longrightarrow 0 \tag{*} \label{prop:homexakt:i:eq}
		\end{equation}
		eine Sequenz von $A$-Moduln mit $g \mapsto g \circ f_i$. Dann sind äquivalent:
		\begin{enumerate}
			\item \eqref{prop:homexakt:i:eq} ist exakt.
			\item Für alle $A$-Moduln $N$ ist die Sequenz \[ 0 \longrightarrow \Hom_A(M_3, N) \xlongrightarrow{f_2^*} \Hom_A(M_2,N) \xlongrightarrow{f_1^*} \Hom_A(M_1,N) \] exakt.
		\end{enumerate} \label{prop:homexakt:i}
		\item Sei
		\begin{equation}
			0 \longrightarrow N_1 \xlongrightarrow{g_1} N_2 \xlongrightarrow{g_2} N_3 \tag{**} \label{prop:homexakt:ii:eq}
		\end{equation}
		eine Sequenz von $A$-Moduln mit $f \mapsto g_i \circ f$. Dann sind äquivalent:
		\begin{enumerate}
			\item \eqref{prop:homexakt:ii:eq} ist exakt.
			\item Für alle $A$-Moduln $M$ ist die Sequenz \[ 0 \longrightarrow \Hom_A(M, N_1) \longrightarrow \Hom_A(M,N_2) \longrightarrow \Hom_A(M,N_3) \] exakt.
		\end{enumerate} \label{prop:homexakt:ii}
		\item Sei \eqref{prop:homexakt:i:eq} wie in \ref{prop:homexakt:i}. Falls \eqref{prop:homexakt:i:eq} exakt und $N$ ein $A$-Modul ist, so ist die Sequenz \[ M_1 \tp_A N \xlongrightarrow{f_1 \tp \id_N} M_2 \tp_A N \xlongrightarrow{f_2 \tp \id_N} M_3 \tp_A N \longrightarrow 0 \] exakt. \label{prop:homexakt:iii}
	\end{enumerate}
\end{prop}
\begin{proof}
	\leavevmode
	\begin{description}
		\item[zu \ref{prop:homexakt:i} und \ref{prop:homexakt:ii}:] siehe \href{http://www.math.uni-bonn.de/ag/stroppel/Franzen_Algebra_1_Uebung/Blatt3.pdf}{Übungsblatt 3}.
		\item[zu \ref{prop:homexakt:iii}:] Sei \eqref{prop:homexakt:i:eq} exakt und $P$ ein $A$-Modul. Dann folgt mit \ref{prop:homexakt:i}
		\begin{figure}[H]
			\centering
			\begin{tikzpicture}[baseline= (a).base]
				\node[scale=.85] (a) at (0,0){
					\begin{tikzcd}
						0 \arrow{r}{} & \Hom_A(M_3, \Hom_A(N,P)) \arrow{r}{f_2^*} \arrow[Cong]{d}{\;\text{ Adj}} & \Hom_A(M_2, \Hom_A(N,P)) \arrow{r}{f_1^*} \arrow[Cong]{d}{} & \Hom_A(M_1, \Hom_A(N,P)) \arrow[Cong]{d}{} \\
						0 \arrow{r}{} &\Hom_A(M_3 \tp_A N, P) \arrow{r}{(f_2 \tp \id_N)^*} & \Hom_A(M_2 \tp_A N, P) \arrow{r}{(f_1 \tp \id_N)^*} & \Hom_A(M_1 \tp_A N, P)
					\end{tikzcd}
				};
			\end{tikzpicture}
		\end{figure}
		Da die obere Sequenz exakt ist, ist auch die untere Sequenz exakt ist. Da $P$ beliebig ist, folgt wieder mit \ref{prop:homexakt:i} die gewünschte Exaktheit.
		\qedhere
	\end{description}
\end{proof}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Sei $f: M\to M'$ eine surjektive $A$-lineare Abbildung. Dann ist $f \tp_A \id_N : M \tp_A N \to M' \tp_ A N $ auch surjektiv.
		\item Ist $f$ injektiv, so ist $f \tp \id_N$ nicht notwengierweise injektiv. Sei beispielsweise $a \in A \setminus A^{\times}$ kein Nulteiler. Betrachte $f: A \to A, x \mapsto ax$. Da $a$ kein Nullteiler ist, ist $f$ injektiv. Betrachte nun $N = \fak A{(a)}$ und das folgende Diagramm.
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				A \tp_A \fak A{(a)} \arrow{r}{f \tp \id} \arrow[Equals]{d}{} & A \tp_a \fak A{(a)} \arrow[Equals]{d}{} \\
				\fak A{(a)} \arrow{r}{ax \mapsto ax} & \fak A{(a)}
			\end{tikzcd}
		\end{figure}
	\end{enumerate}
\end{beme}
\begin{defi}
	Ein $A$-Modul $N$ heißt \emph{flach} (\enquote{flat}), wenn für alle $A$-linearen injektiven Abbildungen $f: M' \to M$ dann auch \[ f \tp \id_N : M' \tp_A N \to M \tp_A N \] injektiv ist.
\end{defi}
\begin{bsp}
	\leavevmode
	\begin{enumerate}
		\item Wenn $N$ frei ist, ist $N$ auch flach.
		\begin{proof}
			Ist $N$ frei, so gilt $\bigoplus_{i \in I} A \cong N$. Sei $f: M' \to M$ injektiv. Betrachte nun das folgende Diagramm.
			\begin{figure}[H]
				\centering
				\begin{tikzcd}
					M' \tp_A N \arrow{r}{f \circ \id_N} \arrow[Cong]{d}{} & M \tp_A N  \arrow[Cong]{dd}{}\\
					\bigoplus_{i \in I}(M' \tp_A A) \arrow[Cong]{d}{}  \\
					\bigoplus_{i \in I} M' \arrow{r}{} & \bigoplus_{i \in I} M \\
					(x_i) \arrow[mapsto]{r}{} &(f(x_i))
				\end{tikzcd}
			\end{figure}
		\end{proof}
		\item Ist $a \in A \setminus A^{\times}$ kein Nulteiler, so ist $\fak A {(a)}$ nicht flach.
	\end{enumerate}
\end{bsp}
\begin{prop}
	Sei $N$ ein $A$-Modul. Dann sind äquivalent:
	\begin{enumerate}
		\item $N$ ist flach. \label{prop:flach:i}
		\item Falls \[ 0 \longrightarrow M' \longrightarrow M \longrightarrow M'' \longrightarrow 0 \] exakt ist, so ist auch \[ 0 \longrightarrow M' \tp_A N \longrightarrow M \tp_A N \longrightarrow M'' \tp_A N \longrightarrow 0 \] exakt. \label{prop:flach:ii}
		\item Falls \[ \ldots \longrightarrow M_{i-1} \xlongrightarrow{f_{i-1}} M_i \xlongrightarrow{f_{i}} M_{i+1} \longrightarrow \ldots \] exakt ist, so ist auch \[ \ldots \longrightarrow M_{i-1}\tp_A N \xlongrightarrow{f_{i-1}\tp\id} M_i\tp_A N \xlongrightarrow{f_{i}\tp\id} M_{i+1}\tp_A N \longrightarrow \ldots \] exakt. \label{prop:flach:iii}
	\end{enumerate}
\end{prop}
\begin{proof}
	Die Implikationen \enquote{\ref{prop:flach:iii} $\Rightarrow$ \ref{prop:flach:ii}} und \enquote{\ref{prop:flach:ii} $\Rightarrow$ \ref{prop:flach:i}} sind klar. Gelte also \ref{prop:flach:i}. Betrachte nun das folgende Diagramm.
	\begin{figure}[H]
		\centering
		\begin{tikzcd}
			&&&0 \arrow[blue]{d}{}&0 \\
			&&& \im f_i \arrow[red]{ru} \arrow[blue]{d}{} \\
			& M_{i-1} \arrow{r}{f_{i-1}} \arrow[green]{d}{\pi} & M_i \arrow[red]{ru}{\tilde f_i} \arrow{r}{f_i} & M_{i+1} \\
			& \fak {M_{i-1}}{\ker f_{i-1}} \arrow[red]{ru}{\tilde f_{i-1}} \arrow[green]{d} \\
			0 \arrow[red]{ru}{} & 0
		\end{tikzcd}
	\end{figure}
	Wir nennen die grüne bzw. rote bzw. blaue Sequenz \circled{1} bzw. \circled{2} bzw. \circled{3}. Diese sind jeweils exakt. Da $N$ flach ist, bleiben \circled{1}, \circled{2} und \circled{3} nach dem Tensorieren ($\hat= \, \_ \tp_a N$) exakt. Somit gilt:
	\begin{figure}[H]
		\centering
		\begin{tikzcd}[sep=3cm]
			\im(\tilde f_{i-1} \tp \id_N) \arrow[equal]{r}{\text{Exaktheit von \enquote{$\circled{2} \tp N$}}} \arrow[equal]{d}[swap]{\text{Exaktheit von \enquote{$\circled{1} \tp N$}}} & \ker(\tilde f_i \tp \id_N) \arrow[equal]{d}{\text{Exaktheit von \enquote{$\circled{3} \tp N$}}} \\
			\im(f_{i-1}\tp \id_N) & \ker(f_i\tp\id_N)
		\end{tikzcd}
	\end{figure}
	Wir beweisen $\im(\tilde f_{i-1}\tp\id_N) = \im(f_{i-1} \tp \id_N)$ noch genauer.
	\begin{description}
		\item[\enquote{$\supseteq$}] Klar.
		\item[\enquote{$\subseteq$}] Sei $x \in \im(\tilde f_{i-1}\tp\id_N)$. Dann existiert ein $y \in \fak {M_{i-1}}{\ker f_{i-1}}$ mit $(\tilde f_{i-1}\tp\id_N)(y) = x$. Da $\pi \tp \id_N$ surjektiv ist, existiert ein $z \in M_{i-1} \tp N$ mit $(pi \tp \id_N)(z) = y$. Dann gilt $x = (\tilde f_{i-1} \tp \id_N)((\pi \tp \id_N)(z)) = (f_{i-1}\tp \id_N)(z)$.
	\end{description}
	Somit gilt \ref{prop:flach:iii}.
\end{proof}

\lecture{26. April 2018}

\section{Algebren}
\subsection{Grundbegriffe}
\begin{defi}
	Sei $A$ ein Ring. Eine \emph{$A$-Algebra} ist Paar $(B,\phi)$, wobei $B$ ein Ring und $\phi\colon A\to B$ ein Ringhomomorphismus ist. Wir nennen die $A$-Algebra $(B,\phi)$ auch kurz $B$.
\end{defi}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Jeder Ring ist eine $\IZ$-Algebra auf eindeutige Art.
		\item Ist $B$ eine $A$-Algebra, so ist ${}_AB$ ein $A$-Modul. Die Multiplikation $B\times B\to B$ ist $A$-bilinear.
		\item Wenn $B$ eine $A$-Algebra und $C$ eine $B$-Algebra ist, dann ist $C$ auch eine $A$-Algebra (durch Verknüpfung der Abbildungen).
	\end{enumerate}
\end{beme}
\begin{defi}
	Seien $(B, \phi_B),(C,\phi_C)$ $A$-Algebren. Ein Ringhomomorphismus $f\colon B\to C$ heißt \emph{$A$-Algebrenhomomorphismus}, wenn folgendes Diagramm kommutiert.
	\begin{figure}[H]
		\centering
		\begin{tikzcd}
			B \arrow{r}{f}  & C \\
			A \arrow{u}{\phi_B}\arrow{ur}[swap]{\phi_C}	&
		\end{tikzcd}
	\end{figure}
\end{defi}
\begin{bsp}
	Sei $B$ eine $A$-Algebra und $b\in B$. Betrachte den Ringhomomorphismus $\ev_b\colon A[t]\to B$. Dann kommutiert das folgende Diagramm.
	\begin{figure}[H]
		\centering
		\begin{tikzcd}
			A[t] \arrow{r}{\ev_b}  & B \\
			A \arrow{u}{}\arrow{ur}{}	&
		\end{tikzcd}
	\end{figure}
	Folglich ist $\ev_b$ ein $A$-Algebrenhomomorphismus.
\end{bsp}

\begin{defi}
	Sei $B$ eine $A$-Algebra. $B$ heißt \emph{endlich erzeugte $A$-Algebra}, wenn ein $n>0$ sowie $b_1, \dots, b_n\in B$ existieren, sodass
	$$\ev_{b_1,\dots, b_n}\colon A[t_1,\dots, t_n] \longto B$$
	surjektiv ist.
\end{defi}

\begin{beme}
	Sei $B$ eine $A$-Algebra. Falls ${}_AB$ ein endlich erzeugter $A$-Modul ist, dann ist $B$ eine endlich erzeugte $A$-Algebra; die Umkehrung ist im Allgemeinen falsch (Gegenbeispiel ist z.B. der Polymomring).
\end{beme}

\begin{lem}
	Sei $B$ eine $A$-Algebra und $N$ ein $B$-Modul. Falls $N$ ein endlich erzeugter $B$-Modul und ${}_AB$ endlich erzeugt als $A$-Modul ist, dann ist ${}_AN$ endlich erzeugt als $A$-Modul.
\end{lem}
\begin{proof}
	Sei $\{y_1,\dots, y_n\}$ Erzeugendensystem von $N$ als $B$-Modul und $\{x_1,\dots, x_m\}$ ein Erzeugendensystem von $B$ als $A$-Modul. Dann ist aber $\{x_iy_i\}$ Erzeugendensystem von ${}_AN$ als $A$-Modul.
\end{proof}

\subsection{Skalarerweiterung}
\begin{bem}
	Sei $M$ ein $A$-Modul, $B$ eine $A$-Algebra. Betrachte $B\tp_AM$. Fixiere $b'\in B$. Betrachte die Abbildung
	\[\begin{array}{ccccc}
	B\times M & \longto & B\times M & \longto & B\tp_AM\\
	(b,x) & \longmapsto & (b'b,x) & \longmapsto & b'b\tp x
	\end{array}\]
	Diese Abbildung ist bilinear ($\tp_A$ ist $A$-bilinear, Multiplikation auf $B$ ist $A$-bilinear).
	\begin{figure}[H]
		\centering
		\begin{tikzcd}[column sep=3cm]
			(b,x) \arrow[mapsto]{r} & (b'bx)\\
			B\times M \arrow{r}{}\arrow{d}  & B\times M\arrow{d} \\
			B\tp_AM \arrow[dashrightarrow]{r}[swap]{\exists ! m_b \text{ $A$-linear}}	& B\tp_AM 
		\end{tikzcd}
	\end{figure}
\end{bem}
\begin{defi}
	Definiere nun 
	\begin{eqnarray*}
		m\colon B\times B\tp_AM&\longto& B\tp_AM\\
		(b', y) & \longmapsto & m_{b'}(y)
	\end{eqnarray*}

	Behauptung: $(B\tp_AM, +,\cdot)$ ist ein $B$-Modul.
	\begin{proof}
	Wir zeigen exemplarisch die Assoziativität: Seien $b'',b'\in B$ und $y\in B\tp_AM$. Zeige $m(b'', m(b',y)) = m(b''b', y)$. Sei $y = \sum b_i\tp x_i$ für $b_i\in B, x_i\in M$. Dann ist $m(b'', m(b', \sum b_i\tp x_i)) = m(b'', \sum b'b_i\tp x_i) = \sum b''b'b_i\tp x_i = m(b''b', \sum b_i\tp x_i)$.	
	\end{proof}
	$B\tp_AM$ heißt \emph{Skalarerweiterung} von $M$ nach $B$. (\enquote{extension of scalars})
	% TODO: füge literaturverweis zu ext. of scalars ein
	% auch TODO: herausfinden, in welche Literatur das soll
	
\end{defi}
\begin{beme} \label{bem:3.9}
	Sei $f\colon M\to N$ $A$-linear und $B$ eine $A$-Algebra. Dann ist $\id_B\tp f\colon B\tp_AM\to B\tp_AM$ $B$-linear.
\end{beme}
\begin{proof}
	Sei $b'\in B, y = \sum b_i\tp x_i\in B\tp_AM$. Dann gilt
	\begin{align*}
		&(\id_B\tp f)\left(b'\cdot\left(\sum b_i\tp x_i\right)\right) = (\id_B\tp f)\left(\sum b'b_i\tp x_i\right) =\sum \id_B(b'b_i)\tp f(x_i)  \\
		&=\sum b'b_i\tp f(x_i) = b'\left(\sum b_i\tp f(x_i)\right) = b'(\id_b\tp f)\left(\sum b_i\tp x_i\right). \qedhere
	\end{align*}
\end{proof}

\begin{satz}[Adjunktion von Skalarerweiterung und Restriktion der Skalare]
	Sei $B$ eine $A$-Algebra, $M$ ein $A$-Modul und $N$ ein $B$-Modul.
	\begin{enumerate}
		\item Sei $f\colon M\to {}_AN$ $A$-linear. Dann existiert genau eine $B$-lineare Abbildung $f_B\colon B\tp_AM\to N$ mit $f_B(b\tp x) = bf(x)$. \label{thm:scalarerweiterung:i}
		\item Die Abbildung $\Phi\colon \Hom_A(M,{}_AN)\to \Hom_B(B\tp_AM,N), f\mapsto f_B$ ist $A$-linear und bijektiv. \label{thm:scalarerweiterung:ii}
	\end{enumerate}
\end{satz}
\begin{proof}
	\leavevmode
	\begin{enumerate}[label=\ref{thm:scalarerweiterung:\roman*}]
		\item Betrachte $B\times M\to N, (b,x)\mapsto bf(x)$. Diese Abbildung ist $A$-bilinear, da $f$ $A$-linear und $B$ eine $A$-Algebra ist. Folglich kommutiert
		\begin{center}
			\begin{tikzcd}
				B\times M \arrow{r}\arrow{d}  & N \\
				B\tp_AM \arrow{ur}[swap]{\exists! f_B \text{ $A$-linear}} &
			\end{tikzcd}
			. % TODO: punkt
		\end{center}
		Es verbleibt die $B$-Linearität von $f_B$ zu zeigen, was analog zu \cref{bem:3.9} geschieht.
		\item Wir konstruieren eine Umkehrabbildung $\Psi\colon \Hom_B(B\tp_AM,N)\to \Hom_A(M,{}_AN)$. Sei $g\colon B\tp_AM\to N$. Definiere $\Psi(g) \coloneqq g(1\tp \_)\colon M\to N, x\mapsto g(1\tp x)$.
		Dabei ist $g(1\tp\_)$ tatsächlich $A$-linear, da $g(1\tp ax ) = g(a(1\tp x)) = ag(1\tp x)$ gilt.
		
		Zeige nun noch $(\Psi\circ \Phi)(f) = f$ und $(\Phi\circ\Psi)(g) = g$. Hierzu gilt
		\begin{align*}
			((\Psi\circ\Phi)(f))(x) &= (\Phi(f))(1\tp x) = f_b(1\tp x) =1\cdot f(x) \\
			\intertext{und}
			((\Phi\circ\Psi)(g))(b\tp x) &= (\Psi(g))_B(b\tp x) = b\cdot (\Psi(g))(x) = b\cdot g(1\tp x) = g(b\tp x).
		\end{align*}
		Kurzes Nachrechnen liefert schließlich, dass $\Phi$ auch $A$-linear ist.
		\qedhere
	\end{enumerate}	
\end{proof}
\begin{lem} \label{lem:3.11}
	Sei $B$ eine $A$-Algebra, $N$ ein $B$-Modul und $M$ ein $A$-Modul.
	\begin{enumerate}
		\item $N\tp_AM$ ist ein $B$-Modul via $b\cdot(\sum y_i\tp x_i) = \sum by_i\tp x_i$. \label{lem:311:i}
		\item Es existiert ein eindeutiger Isomorphismus $N\tp_AM\to N\tp_B(B\tp_AM)$ von $B$-Moduln mit $y\tp x\mapsto y\tp (1\tp x)$. \label{lem:311:ii}
	\end{enumerate}
\end{lem}
\begin{proof}
	\leavevmode
	\begin{enumerate}[label=\ref{lem:311:\roman*}]
		\item So wie bei der Erweiterung der Skalare.
		\item Übung. \qedhere
	\end{enumerate}
\end{proof}

\begin{satz}
	Sei $B$ eine $A$-Algebra, $C$ eine $B$-Algebra und $M$ ein $A$-Modul. Dann existiert genau ein Isomorphismus
	$$C\tp_A M  \longmapsto  C\tp_B(B\tp_AM)$$
	von $C$-Moduln mit $c\tp x\mapsto c\tp(1\tp x)$.
\end{satz}
\begin{proof}
	Nach \cref{lem:3.11} existiert genau ein Isomorphismus von $B$-Moduln
	\[ f\colon C\tp_AM\longto C\tp_B(B\tp_AM)\]
	mit $f(c\tp x) = c\tp(1\tp x)$. Wir zeigen noch, dass $f$ $C$-linear ist. Sei $z = \sum c_i\tp x_i$ mit den $c_i\in C$. Wir erhalten
	\begin{align*}
		f(c\sum c_i\tp x_i) &= f(\sum cc_i\tp x_i ) = \sum f(cc_i\tp x_i) = \sum cc_i\tp(1\tp x_i) \\
		&= c\sum c_i\tp(1\tp x_i). \qedhere
	\end{align*}
\end{proof}

\begin{satz}
	Sei $B$ eine $A$-Algebra, $M$ ein $A$-Modul sowie $(P)$ eine der folgenden Eigenschaften:
	\begin{enumerate}
		\item frei \label{thm:tensorieren erhaelt eigenschaften:i}
		\item endlich erzeugt \label{thm:tensorieren erhaelt eigenschaften:ii}
		\item endlich präsentiert \label{thm:tensorieren erhaelt eigenschaften:iii}
		\item flach \label{thm:tensorieren erhaelt eigenschaften:iv}
	\end{enumerate}	
	Dann gilt: Falls $M$ die Eigenschaft $(P)$ als $A$-Modul hat, hat $B\tp_AM$ die Eigenschaft $(P)$ als $B$-Modul.
\end{satz}
\begin{proof}
	\leavevmode
	\begin{enumerate}[label=\ref{thm:tensorieren erhaelt eigenschaften:\roman*}]
		\item Sei $M$ ein freier $A$-Modul. Folglich gilt $M \cong \bigoplus_{i\in I}A$ und wir erhalten \[B\tp_AM\cong B\tp \left(\bigoplus_{i\in I}A\right) \cong \bigoplus_{i\in I}(B\tp_A A) \cong \bigoplus_{i\in I} B\] als $B$-Moduln mit \cref{bem:3.9}.
		\item Sei $M$ ein endlich erzeugter $A$-Modul. Dann existiert eine surjektive, $A$-lineare Abbildung $f\colon A^n\to M$. Folglich ist
		$$\id_B\tp f\colon B\tp_AA^n\to B\tp_AM$$ surjektiv nach \cref{prop:exaktheit tensorieren} und $B$-linear nach \cref{bem:3.9}. Aber wir haben eben gesehen, dass $B\tp_AA^n \cong B^n\Rightarrow B\tp_AM$ endlich erzeugt ist.
		\item Sei $M$ als $A$-Modul endlich präsentiert. Dann existiert eine surjektive Abbildung $A^n \to M$ mit endlich erzeugtem Kern, weshalb wiederum eine surjektive Abbildung $A^m \to \ker f$ existiert. Betrachte nun $A^m \to \ker g \to A^n$, hierbei gilt $\im g' = \ker$. Somit existiert eine exakte Sequenz der Form
		\[ A^m \longto A^n \longto M\longto 0. \]
		
		Aus \cref{prop:exaktheit tensorieren} folgt nun, dass es die folgende exakte Sequenz gibt:
		\[B\tp A^m \longto B\tp A^n \longto B\tp_AM\longto 0\]
		Damit ist auch $B\tp_AM$ endlich präsentiert als $B$-Modul.
		\item \href{http://www.math.uni-bonn.de/ag/stroppel/Franzen_Algebra_1_Uebung/Blatt3.pdf}{Übungsblatt 3}.
		\qedhere
	\end{enumerate}
\end{proof}

\lecture{30. April 2018}
\begin{satz}
	Seien $A$ ein Ring sowie $B$ und $C$ $A$-Algebren.
	\begin{enumerate}
		\item Es existiert eine eindeutig bestimmte $A$-bilineare Abbildung
		\[ m\colon B\tp_A C\times B\tp_A C\longto B\tp_A C \]
		mit $m(b\tp c, b'\tp c') = bb'\tp cc'$. \label{thm:314:i}
		\item $(B\tp_AC, +, m)$ ist ein Ring (und sogar eine $A$-Algebra). \label{thm:314:ii}
		\item Die Abbildungen
		\begin{align*}
			\begin{array}{rcl}
				B &\longto& B \tp_A C \\
				b &\longmapsto& b \tp 1
			\end{array} &&
			\begin{array}{rcl}
				C &\longto& B \tp_A C \\
				c &\longmapsto& 1 \tp c
			\end{array}
		\end{align*}
		sind Ringhomomorphismen. \label{thm:314:iii}
		\item Das Diagramm
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				B\tp_A C & B \arrow{l}[swap]{b\mapsto b\tp 1} \\
				C \arrow{u}{c\mapsto 1\tp c} & A\arrow{l}\arrow{u}
			\end{tikzcd}
		\end{figure}
		kommutiert. \label{thm:314:iv}
		\item Sei $D$ ein Ring sowie $B\xrightarrow{\phi} D$ und $C\xrightarrow{\psi}D$ Ringhomomorphismen, sodass
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				D  & B \arrow{l}{\phi} \\
				C \arrow{u}{\psi}	& A\arrow{l}\arrow{u}
			\end{tikzcd}
		\end{figure}
		kommutiert, dann existiert genau ein Ringhomomorphismus $\lambda\colon B\tp_AC\to D$ mit
		\begin{figure}[H]
			\centering
			\begin{tikzcd}[sep=1cm]
				D \\
				& B \tp_A C \arrow[dashrightarrow]{lu}{\exists! \lambda} & B \arrow{l} \arrow[bend right]{llu}[swap]{\phi} \\
				& C \arrow[bend left]{luu}{\psi} \arrow{u}&A \arrow{u}\arrow{l}
			\end{tikzcd}
			. % TODO: punkt
		\end{figure} \label{thm:314:v}
	\end{enumerate}
\end{satz}
\begin{proof}
	\leavevmode
	\begin{enumerate}[label=\ref{thm:314:\roman*}]
		\item Betrachte für $(b,c)\in B\times C$ die $A$-bilineare Abbildung $B\times C\to B\tp_AC, (b'c')\mapsto bb'\tp cc$ mit
		\begin{center}
			\begin{tikzcd}
				B\times C\arrow{d}\arrow{r}& B\tp_AC\\
				B\tp_AC\arrow[dashrightarrow]{ru}[swap]{\exists!\phi_{(b,c)} \text{ $A$-linear}}
			\end{tikzcd}
			. % TODO: punkt
		\end{center}
		Daraus folgt, dass das Diagramm
		\begin{center}
			\begin{tikzcd}[column sep=2cm]
				B\times C\arrow{r}{(b,c)\mapsto \phi_{(b,c)}}& \Hom_A(B\tp_AC, B\tp A, C) A-\text{bilinear}\\
				B\tp_AC\arrow[dashrightarrow]{ru}[swap]{\exists!\phi\text{ $A$-linear}}
				% TODO: verstehen, was Notation rechts oben bedeuten soll
			\end{tikzcd}
		\end{center}
		kommutiert.
		%TODO: Insert Diagram here
		
		Nach Definition von $\Phi$ gilt nun
		\[m(b\tp c, b'\tp c') = (\phi(b\tp c))(b'\tp c') = \phi_{(b,c)}(b'\tp c') = bb'\tp cc'.\]
		\item Nachrechnen mit \ref{thm:314:i} und Rechenregeln für $\tp$, wobei $1_{B\tp_AC}= 1\tp 1$ zu beachten ist.
		\item Die Abbildungen $\phi_B\colon B\to B\tp_AC, b\mapsto b\tp 1$ erfüllt $\phi_B(1) = 1$ und $\phi_B(bb') =\phi_B(b)\phi_B(b')$.
		\item Für $a\in A$ gilt: $a\tp_A1 = a\cdot(1\tp_A1) = 1\tp_A a$.
		\item Existenz von $\lambda$: Betrachte die Abbildung
		
		\begin{eqnarray*}
			B\times C &\longto & D\\
			(b,c) &\longmapsto &\phi(b)\cdot \psi(c)
		\end{eqnarray*}
	
		\noindent
		Sie ist $A$-bilinear und faktorisiert damit über das Tensorprodukt zu $\lambda\colon B\tp_AC\to D$ $A$-linear. Zeige nun: $\lambda$ ist Ringhomomorphismus. Dazu $b,b'\in B, c,c'\in C$:
		$$\lambda((b\tp c)(b'\tp c')) = \phi(b)\phi(b')\psi(c)\psi(c') = \lambda(b\tp c)\lambda (b'\tp c')$$
		
		\begin{bem}
			Seien $R,S$ beide $A$-Algebren, $\lambda\colon R\to S$ sei $A$-linear, sei $\{x_i\}$ Erzeugendensystem von $R$ als $A$-Modul. Falls $\lambda(x_i,x_j) =)\lambda(x_i)\lambda(x_j)$ und $\lambda(1) = 1$, also ist $\lambda$ ein Ringhomomorphismus.
		\end{bem}
	
		Nun zur Eindeutigkeit: Sei $\lambda'$ ein weiterer Ringhomomorphismus wie oben. Dann ist $\lambda'$ $A$-linear, reicht also auf reinen Tensoren zu prüfen.
		$$\lambda'(b\tp c) = \lambda'((b\tp 1)\cdot(1\tp c)) = \phi(b)\cdot \psi(c) = \lambda(b\tp c)$$
		wobei die vorletzte Gleichheit daraus folgt, dass $\lambda'$ Ringhomomorphismus ist, sodass das Diagramm kommutiert.
		\qedhere
	\end{enumerate}
\end{proof}

\begin{bsp}
	Sei $B$ eine $A$-Algebra und $C= A[t]$. Dann ist $B\tp_AA[t]\cong B[t]$ (als $A$-Algebra). Dann:	
	\begin{center}
		\begin{tikzcd}
			B[t]& B\arrow{l}\\
			A[t]\arrow{u} & A\arrow{l}\arrow{u}
		\end{tikzcd}
	\end{center}
	kommutiert und $B[t]$ ist universell dafür.
\end{bsp}


\section{Moduln über Hauptidealringen}
\label{sec:moduln ueber hir}

Es sei an dieser Stelle nochmals auf folgende Literatur verwiesen:

\printbibliography[keyword=moduln-hir,heading=none]

Zur Erinnerung: Sei $A$ ein Ring. $A$ heißt Hauptidealring (\enquote{principle ideal domain}), falls $A$ ein Integritätsbereich und jedes Ideal ein Hauptideal ist. Wir wissen, dass jeder Hauptidealring faktoriell ist.

Sei $M$ endlich erzeugter $A$-Modul. Unser Ziel ist es, $M$ als direkte Summe in $A$-Moduln, die sich nicht weiter zerlegen lassen, zu zerlegen. Unsere Hauptanwendung wird dann sein: Betrachte $A = k[t]$, $k$ Körper, $M=$ Modul assoziiert zu $(V,\psi)$, wobei $V$ ein endlich-dimensionaler $k$-Vektorraum ist und $\psi\in\End_k(V)$.

\subsection{Freie Moduln}
\begin{beme}
	Sei $F$ ein freier $A$-Modul und $\{x_i\}_{i\in I}, \{y\}_{j\in J}$ Basen von $F$. Dann existiert eine Bijektion zwischen $I$ und $J$.
\end{beme}
\begin{proof}
	\href{http://www.math.uni-bonn.de/ag/stroppel/Franzen_Algebra_1_Uebung/Blatt3.pdf}{Übungsblatt 3}.
\end{proof}

Wir werden die folgende Notation verwenden: $\rk F := \abs I \in\IZ_{\geq 0}\cup \{\infty\}$ heißt \emph{Rang von $F$}.

\begin{satz} \label{thm:untermoduln freier moduln in hir}
	Sei $A$ ein Hauptidealring, $F$ freier $A$-Modul, $M\subseteq F$ Untermodul. Dann ist $M$ frei und $\rk M\leq \rk F$.
\end{satz}
\begin{proof}
	Wir beweisen das nur für den Fall $\rk F<\infty$ (siehe \cite[Theorem 6.1]{hungerford} für den allgemeinen Fall).
	
	Sei $\{x_1,\dots, x_n\}$ Basis von $F$ ($\rk F = n$). Für $r\in\{1,\dots n\}$ definiere
	\[M_r\coloneqq \<x_1,\dots, x_r\>_A\cap M.\]
	
	Wir behaupten, dass $M_r$ frei und $\rk M_r \le r$ ist. Wir beweisen dies per Induktion nach $r$:
	\begin{description}
		\item[$r = 1$:] Wir haben $M_1 = \<x_1\>_A\cap M$; dabei gilt $\<x_1\>_A\subseteq \<x_1\>$ und es gibt Isomorphismus $\phi\colon A\xrightarrow{\cong} \<x_1\>, a\mapsto ax_1$. Folglich ist $\phi^{-1}(M_1)\subseteq A$ ein Ideal und es existiert ein $a\in A$ mit $\phi^{-1}(M_1) = (a)$, also folgt also \[M_i = \<ax_i\> \cong \begin{cases} A & a\neq 0,\\ 0& a= 0.\end{cases}\]
		Beachte dabei: $\{x_1\}$ ist linear unabhängig, also $ax_1\neq 0 \Leftrightarrow a\neq 0$.
		\item[$r\to r+1$:] Betrachte
		\[ I = \set{a\in A \given \exists a_1,\dots, a_r\in A: a_1x_1+\dots a_rx_r+ax_{r+1}\in M}. \]
		Dabei ist $I\subseteq A$ ein Ideal, es existiert also ein $a_{r+1}\in A$ mit $I = (a_{r+1})$.
		\begin{description}
			\item[1. Fall:] $a_{r+1} = 0$. Dann ist $M_{r+1} = M_r$ frei (nach Induktionsannahme) sowie $\rk M_{r+1}\leq r$.
			\item[2. Fall:] $a_{r+1}\neq 0$. Es existieren also $a_0,\dots, a_r\in A$ mit $w\coloneqq a_1x_1+\dots+a_rx_r+a_{r+1}x_{r+1}\in M$.
			
			Nun ist unser Ziel, $M_{r+1} = M_r\oplus \<w\>$ zu zeigen.
			
			Sei also $x\in M_{r+1}$. Somit existieren $b_1,\dots, b_{r+1}\in A$, sodass $x = b_1x_1+\dots + b_{r+1}x_{r+1}$. Dann folgt $b_{r+1}\in I = (a_{r+1})$, es existiert also ein $c\in A$ mit $b_{r+1} = ca_{r+1}$. Betrachte nun $v\coloneqq x-cw$. Für $v$ gilt dann
			\[v= \sum_{i = 1}^r (b_i-ca_i)x_i+(b_{r+1}-ca_{r+1})x_{r+1}\in \<x_1,\dots, x_r\> M = M_r.\]
			Also gilt $x = v+cw\in M_r+\<w\>$.
			
			Schließlich gilt $M_r\cap\<w\> = \{0\}$, da für $x\in M_r\cap\<w\>$ dann $x = bw = ba_1x_1+\dots ba_{r+1}x_{r+1}\xRightarrow{x\in M_r} ba_{r+1} = 0$ folgt, also $b = 0$ gilt, da $a_{r+1} \neq 0$.
			
			Insgesamt erhalten wir tatsächlich $M_{r+1} = M_r\oplus \<w\>$ frei vom Rang $\leq r+1$. \qedhere 
		\end{description}
	\end{description}
	
\end{proof}
\begin{kor}
	Sei $A$ Hauptidealring, $M$ endlich erzeugter $A$-Modul und $M'\subseteq M$ Untermodul. Dann ist $M'$ endlich erzeugt.
\end{kor}
\begin{proof}
	Da $M$ endlich erzeugt ist, existiert ein freier $A$-Modul $F$ mit $\rk F<\infty$ und eine surjektive, $A$-lineare Abbildung $f\colon F\to M$. Betrachte $f^{-1}(M')\subseteq F$. Nach \cref{thm:untermoduln freier moduln in hir} ist $F'\coloneqq f^{-1}(M')$ nun frei und es gilt $\rk F'\leq \rk F <\infty$ und $f|_{F'}\colon F'\to M'$ ist somit surjektiv, also ist $M'$ endlich erzeugt.
\end{proof}


\subsection{Zerlegung in freien Anteil und Torsionsanteil}
\begin{defi}
	Sei $A$ ein Integritätsbereich und $M$ ein $A$-Modul.
	\begin{enumerate}
		\item Sei $x\in M$. $x$ heißt \emph{Torsionselement} genau dann, wenn es ein $a\in A\setminus\{0\}$ gibt, sodass $ax = 0$ gilt.
		\item $M_{\tor} \coloneqq \set{x\in M \given x \text{ ist ein Torsionselement}}\subseteq M$ ist ein Untermodul, da $A$ nullteilerfrei ist.
		\item $M$ heißt \emph{Torsionsmodul }genau dann, wenn $M = M_{\tor}$.
			  $M$ heißt \emph{torsionsfrei} genau dann, wenn $M_{\tor} = \{0\}$.
	\end{enumerate}
	
\end{defi}

\begin{lem} \label{lem:torsionsquotient torsionsfrei}
	Sei $A$ Integritätsbereich und $M$ ein $A$-Modul. Dann ist $\fak{M}{M_{\tor}}$ torsionsfrei.
\end{lem}
\begin{proof}
	Sei $x+M_{\tor}$. Angenommen, es existiert ein $a\in A, a\neq 0$ mit $x+M_{\tor} = 0+M_{\tor}$. Dann folgt $ax\in M_{\tor}$, es existiert also ein $b\in A, b\neq 0$ mit $bax = 0$. Da $ba\neq 0$ gilt, muss schon $x\in M_{\tor}$ gelten.
\end{proof}

\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Sei $M$ ein Modul über einem Integritätsbereich. Ist $M$ frei, so ist $M$ auch torsionsfrei.
		\item Die Umkehrung ist im Allgemeinen falsch. Dazu sei $A$ ein Integritätsbereich und $I\subseteq A$ ein Ideal. Dann ist $I$ torsionsfrei (klar), aber nur genau dann ein freier $A$-Modul, wenn $I$ ein Hauptideal ist.
	
		\begin{proof}
			Für die Hinrichtung sei $I$ frei mit $\{x_i\}_{i \in J}$. Angenommen, $\abs J \ge 2$. Dann existieren $i_1\neq i_2 \in J$. Mit $a_1 = x_{i_2}$ und $a_2 = x_{i_1}$ gilt $a_1x_{i_1} + a_2x_{i_2} = 0$; $x_{i_1}$ und $x_{i_2}$ sind also linear abhängig.

			Für die Rückrichtung betrachten wir das folgende Lemma.
		\end{proof}
	\end{enumerate}
\end{beme}

\begin{lem} \label{lem:4.7}
	Sei $A$ ein Hauptidealring. Ist $M$ ein endlich erzeugter, torsionsfreier $A$-Modul, so ist $M$ frei.
\end{lem}

\lecture{3. Mai 2018}

\begin{proof}
	Sei $\{x_1,\dots, x_m\}$ ein Erzeugendensystem von $M$. Seien $1\leq i_1<\dots<i_n\leq m$ maximal, sodass $\{x_{i_1},\dots, x_{i_n}\}$ linear unabhängig ist.
	
	Wir behaupten, dass für alle $j\in\{1,\dots, m\}$ ein $a_j\in A\setminus \{0\}$ existiert, sodass $a_jx_j\in\<x_{i_1},\dots, x_{i_n}\>$. Der Fall $j \in \set{i_1,\ldots,i_n}$ ist klar. Sei also $j\notin \{i_1,\dots, i_n\}$. Dann ist $\{x_{i_1},\dots x_{i_n}, x_j\}$ linear abhängig. Folglich existieren $a_{i_1},\dots, a_{i_n}, a_j\in A$ sodass $a_{i_1}x_{i_1}+\dots+a_{i_n}x_{i_n}+a_jx_j = 0$, wobei nicht alle $a_i = 0$ sind. Also gilt $a_j\neq 0$ (sonst wären $x_{i_1},\dots x_{i_n}$ linear abhängig).
	
	Betrachte $a := a_1\dots a_m\in A\setminus\{0\}$. Dann gilt $aM\subseteq\<x_{i_1},\dots, x_{i_n}\>\cong A^n$ (frei). Betrachte
	\begin{eqnarray*}
		\phi\colon M & \longto & M,\\
		x & \longmapsto & ax.
	\end{eqnarray*}
	$\phi$ ist $A$-linear und injektiv, da $a \neq 0$ und $M$ torsionsfrei ist. Weiterhin ist $\im\phi = aM\subseteq \<x_{i_1},\dots, x_{i_n}\>$ frei. Folglich gilt $M\cong \im\phi$, wobei letzteres ein Untermodul eines freien Moduls, also nach \cref{thm:untermoduln freier moduln in hir} selber frei ist.
\end{proof}
\begin{lem} \label{lem:4.8}
	Sei $A$ ein Ring und $f\colon M\to N$ eine surjektive, $A$-lineare Abbildung mit $N$ frei. Dann existiert ein Untermodul $M'\subseteq M$ mit $M = \ker f\oplus M'$. Insbesondere ist $M'\hookrightarrow M\xrightarrow{f}N$ ein Isomorphismus, also ist $M'$ frei.
\end{lem}
\begin{proof}
	Sei $\{y_j\}$ ene Basis von $N$. Wähle $x_j\in M$ mit $f(x_j) = y_j$. Betrachte $M'= \<x_j\>_A$. Es gilt $M = M' + \ker f$. Dazu sei $x\in M$. Dann existieren $a_j\in A$ mit $f(x)= \sum a_jy_j$. Dann ist $x'=\sum a_jx_j\in M'$ und $f(x') = \sum a_jy_j = f(x)$, also liegt $x-x'\in \ker f$ und es folgt $x = x'+(x-x')\in M'+\ker f$.
	
	Es verbleibt, $M'\cap \ker f = \{0\}$ zu zeigen. Sei $x' = \sum a_jx_j\in M'$ mit $f(x') = 0$. Daraus folgt $0 = \sum a_jy_j$, aber da die $y_j$ sind linear unabhängig, sind alle $a_j = 0$ und es folgt $x' = 0$.
\end{proof}
\begin{satz}
	Sei $A$ ein Hauptidealring, $M$ endlich erzeugter $A$-Modul. Dann existiert ein Untermodul $M'\subseteq M$ mit:
	\begin{itemize}
		\item $M = M'\oplus M_{\tor}$
		\item $M'\cong \fak{M}{M_{\tor}}$ ist endlich frei.
	\end{itemize}
\end{satz}
\begin{proof}
	Betrachte $\pi\colon M\to \fak{M}{M_{\tor}}$ (surjektiv). Nach \cref{lem:torsionsquotient torsionsfrei} ist $\fak{M}{M_{\tor}}$ torsionsfrei. Mit \cref{lem:4.7} folgt $\fak{M}{M_{\tor}}$ frei und nach \cref{lem:4.8} existiert ein $M'\subseteq M$ mit $M = M'\oplus M_{\tor}$ (endlich erzeugt).
\end{proof} %TODO: Referenzen einfügen

\subsection{Primärzerlegung}
\begin{defi}
	Sei $A$ ein Ring sowie $M$ ein $A$-Modul.
	\begin{enumerate}
		\item $\Ann_A(M) := \set{a\in A\given\forall x\in M: ax = 0}\subseteq A$ (ein Ideal) heißt der \emph{Annullator} von $M$ (auch Annihilator)
		\item Für $x\in M$ sei $\Ann_A(x) := \Ann_A(\<x\>) = \set{a\in A\given ax = 0}$.
		\item Sei $a\in A$. Definiere $M_a := \set{x\in M\given ax = 0}\subseteq M$ (ein Untermodul).
	\end{enumerate}
\end{defi}

\begin{lem} \label{lem:annullator}
	Sei $M$ ein $A$-Modul.
	\begin{enumerate}
		\item Sei $f\colon M\to N$ $A$-linear. Falls $f$ injektiv ist, so gilt $\Ann(M)\supseteq \Ann(N)$. Falls $f$ surjektiv ist, so gilt $\Ann(M)\subseteq \Ann(N)$.
		\item Sei $M = M'+M''$. Dann gilt $\Ann(M) = \Ann(M')\cap \Ann(M'')$.
		\item Sei $A$ ein Integritätsbereich und $M$ ein endlich erzeugter Torsionsmodul. Dann ist $\Ann(M) \neq (0)$.
	\end{enumerate}
\end{lem}
\begin{proof}
	Siehe \href{http://www.math.uni-bonn.de/ag/stroppel/Franzen_Algebra_1_Uebung/Blatt4.pdf}{Übungsblatt 4}.
\end{proof}

\begin{lem} \label{lem:zerlegung ueber hir}
	Sei $A$ ein Hauptidealring und seien $a_1,\dots, a_n\in A$ paarweise teilerfremd (also $(a_i, a_j) = (1)$ für $i \neq j$) sowie $a = a_1\dots a_n$. Sei $M$ der $A$-Modul mit $M = M_a$. Dann folgt $M_a = M_{a_1}\oplus \dots \oplus M_{a_n}$.
\end{lem}
\begin{proof}
	Definiere $b_i \coloneqq \frac{a}{a_i} = \prod_{j\neq i} a_j$. Dann gilt bereits $(b_1,\dots, b_n) = (1)$. Denn sonst würde ein primes $p\in A$ existieren, welches alle $b_i$ teilt. $p$ teilt also insbesondere $b_1 = \prod_{j = 2}^n a_j$, es existiert also ein $j\geq 2$ mit $p \mid a_j$. Da $p \mid b_j$, existiert ein $k\neq j$ mit $p \mid a_k$, was ein Widerspruch zu $1 = \gcd(a_j,a_k)$ ist.
	
	Es existieren also $d_1,\dots, d_n\in A$ mit $\sum d_ib_i = 1$. Wir zeigen nun $M = M_{a_1}+\dots +M_{a_n}$. Sei $x\in M$. Betrachte $a_id_ib_ix$. Es gilt $a_id_ib_ix = d_iax = 0$, also $d_ib_ix\in M_{a_i}$. Wir erhalten folglich \[ x = \sum d_ib_ix \in \sum M_{a_i}. \]
	Zeige nun noch $M_{a_i}\cap \sum_{j\neq i}M_{a_j} = \{0\}$. Sei $x\in M_{a_i}\cap\sum_{j \neq i}M_{a_j}$. Dann gilt $a_ix = 0$ und $b_ix = 0$, da $x = \sum_{j \neq i} x_j$ mit $x_j\in M_j$).
	
	Da $(a_i,b_i)= (1)$, existieren $c,d\in A$ mit $ca_i+db_i = 1$, also $x = ca_ix+db_ix = 0$.
\end{proof}

\begin{defi}
	Sei $A$ ein Hauptidealring und $p\in A$ prim. Definiere
	\[M(p) := \set{x\in M \given \exists r\geq 0: p^rx = 0} = \bigcup\limits_{r\geq 0} M_{p^r}, \]
	einen Untermodul von $M$. Falls $M$ endlich erzeugt ist, existiert ein $r\geq 0$ mit $M_{p^r} = M(p)$. Es folgt $p^r\in \Ann(M)$, also $\Ann(M)\supseteq (p^r)$, und es existiert ein $s\leq r$ mit $\Ann(M) = (p^s)$, da $A$ ein Hauptidealring ist. In diesem Fall gilt $M_{p^{s-1}}\subsetneq M_{p^s} = M(p)$.
	
	$M$ heißt \emph{primär}, falls ein primes $p\in A$ mit $M = M(p)$ existiert.
\end{defi}	


\begin{satz}[Primärzerlegung von Torsionsmoduln über Hauptidealringen] \label{thm:primaerzerlegung}
	Sei $A$ ein Hauptidealring und $M$ endlich erzeugter Torsionsmodul über $A$. Dann existiert ein $a\neq 0$ mit $\Ann(A) = (a)$. Seien $p_1,\dots, p_n\in A$ prim mit $(p_i, p_j) = (1)$ für alle $i\neq j$ und $r_1,\dots, r_n\geq 1$ mit $ a = p_1^{r_1}\dots p_n^{r_n} $. Dann gilt
	\begin{enumerate}
		\item $M = M(p_1)\oplus\dots\oplus M(p_n)$ \label{thm:primaerzerlegung:i}
		\item $\Ann(M(p_i)) = (p_i^{r_i})$ \label{thm:primaerzerlegung:ii}
	\end{enumerate}
\end{satz}
\begin{proof}
	\leavevmode
	\begin{enumerate}[label=\ref{thm:primaerzerlegung:\roman*}]
		\item Da die $p_1^{r_1},\dots, p_n^{r_n}$ paarweise teilerfremd sind, folgt $M = M_{p_1^{r_1}}\oplus\dots \oplus M_{p_n^{r_n}}$ nach \cref{lem:zerlegung ueber hir}. Es bleibt $M_{p_i^{r_i}} = M(p_i)$ zu zeigen.
		\begin{description}
			\item[\glqq$\subseteq$\grqq :] Klar.
			\item[\glqq$\supseteq$\grqq :] Sei $x\in M(p_i)$; es existiert also ein $r\geq 0$ mit $p_i^r = 0$. Ist $r \le r_i$, so gilt $p_i^{r_i}x = 0$, also $x \in M_{p_i^{r_i}}$. Sei umgekehrt $r>r_i$. Dann gilt $\gcd(p_i^r, a) = p_i^{r_i}$, es existieren also $c, d\in A$ mit $cp_i^r+da = p_i^{r_i}$. Damit folgt $p_i^{r_i}x = cp_i^rx+dax = 0$, also auch hier $x \in M_{p_i^{r_i}}$.
		\end{description}
		\item Es gilt $(p_i^{r_i})\subseteq \Ann(M_{p_i^{r_i}}) = \Ann(M(p_i))$ nach Teil \ref{thm:primaerzerlegung:i}. Somit gilt $\Ann(M(p_i)) = (p_i^{s_i})$ für $s_i\leq r_i$. Da $M = M(p_1)\oplus \dots \oplus M(p_n)$, gilt $\Ann(M) = \bigcap \Ann(M(p_i))\ni p_i^{s_i}\dots p_n^{s_n}$, aber es gilt auch $\Ann(M) = (p_1^{r_1}\dots p_n^{r_n})$.
		
		Da $(p_i, p_j) = (1)$ für $i\neq j$, folgt $r_i\leq s_i$.
		\qedhere
	\end{enumerate}
\end{proof}

\begin{beme}
	$M(p_i)$ im Satz ist nach \cref{lem:zerlegung ueber hir} von der Form $b_iM$, wobei $b_i = \frac{a}{p_i^{r_i}}$.
\end{beme}

\begin{defi}
	Ein $A$-Modul $M$ heißt \emph{zyklisch}, wenn ein $x\in M$ mit $M = \<x\>_A$. Es gilt $M\cong \fak{A}{\Ann(x)}$ (siehe \href{http://www.math.uni-bonn.de/ag/stroppel/Franzen_Algebra_1_Uebung/Blatt4.pdf}{Übungsblatt 4}).
\end{defi}

\begin{satz}[Zerlegung von primären Moduln in zyklische Moduln] \label{thm:zerlegung primaer zyklisch}
	Sei $A$ ein Hauptidealring sowie $M$ ein primärer, endlich erzeugter $A$-Modul. Sei $p\in A$ mit $\Ann(M) = (p^r)$. Dann existieren Elemente $1\leq s_1\leq\dots \leq s_l = r$ und  Untermoduln $M_1,\dots, M_l\subseteq M$ mit
	\begin{enumerate}
		\item $M = M_1\oplus\dots\oplus M_l$ und
		\item $M_j$ zyklisch mit $\Ann(M_j) =(p^{s_j})$.
	\end{enumerate}
\end{satz}
\begin{proof}
	Sei $n$ die maximale Anzahl von Erzeugern von $M$.
	\begin{description}
		\item[$n = 1$:] Klar.
		\item[$n-1\to n$:] Sei $\{x_1,\dots, x_n\}$ ein Erzeugendensystem von $M$. Nach \cref{lem:annullator} ist $(p^r) = \Ann(M)  = \bigcap \Ann(x_i)$. Es existieren also Elemente $t_i\leq r$ mit $\Ann(x_i) = (p^{t_i})$, weshalb wiederum $x_i$ mit $\Ann(x_i) = (p_i^r)$ existieren. Setze $U := \<x_n\>$ und $N = \fak{M}{U}$. Betrachte $\pi\colon M\to N$. Da $\pi$ surjektiv ist, gilt $\Ann(M)\subseteq \Ann(N)$, und wir erhalten ein $s\leq r$ mit $\Ann(N) = (p^s)$.
		
		Es gilt $N = \<\pi(x_1),\dots, \pi(x_{n-1})\>$. Nach Induktionsvoraussetzugn existieren Untermoduln $N_1,\dots, N_k\subseteq N$ und Elemente $1\leq t_1\leq\dots \leq t_k = s$ mit $N = N_1\oplus \dots \oplus N_k$ und $N_j$ zyklisch mit $\Ann(N_j) = (p^{t_j})$.
		
		\lecture{7. Mai 2018}
		
		Fixiere $j\in\{1,\dots, k\}$ und sei $y\in N_j$ mit $N_j = \<y\>$. Wähle $x\in M$ mit $\pi(x') = y$. Dann gilt $\pi(p^{t_j}x') = p^{t_j}y = 0$, also $x'' := p^{t_j}x'\in U$. Da aber $\Ann(M) = (p^r)$, folgt $0 = p^rx' = p^{r-t_j}x''$.
		
		\textbf{Lemma.} Sei $L$ ein zyklischer $A$-Modul mit $\Ann(L) = (p^r)$, $v\in L$ und $s\le r$. Falls $p^sv = 0$ gilt, so existiert ein $w\in L$ mit $v = p^{r-s}w$.
		\begin{proof}
			Sei $z\in L$ mit $L = \<z\>$ Dann existiert ein $a \in A$ mit $v = az$; es gilt also $0 = p^sv = p^saz$. Wir erhalten $p^sa\in \Ann(L) = (p^r)$, also existiert ein $b\in A$ mit $p^sa = p^rb$, woraus $a = p^{r-s}b$ und schließlich $v = p^{r-s}bz$ folgt.
		\end{proof}
			
		Wir wenden nun das Lemma auf $L = U$, $v = x''$ und $s = r-t_j$ an. Folglich existier ein $x'''\in U$ mit $x'' = p^{l_j}x'''$.
		
		Definiere nun $x := x'-x'''$. Dann gilt.
		\begin{gather*}
			\pi(x) = \pi(x')-\pi(x'') = y-0 \\
			p^{t_j}x = p^{t_j}x'-p^{t_j}x''' = x''-x'' = 0 \tag{*} \label{thm:zerlegung primaer zyklisch:eq}
		\end{gather*}
		Definiere $M_j\coloneqq \<x\>$. Dafür gilt $\pi(M_j) = N_j$ und $\ker(\pi|_{M_j}) = \{0\}$. Denn sei $v\in M_j$ mit $\pi(v) = 0$. Es existiert ein $a\in A$ mit $v = ax$, also $0 = a\pi(x) = ay$ und damit $a \in \Ann(y) = \Ann(N_j) = (p^{t_j})$. Also existiert ein $b\in A$ mit $a = bp^{t_j}$ und somit $v = bp^{t_j}x  = 0$, wobei letzteres mit Eigenschaft \eqref{thm:zerlegung primaer zyklisch:eq} folgt.
		
		Folglich erhalten wir $\pi|_{M_j}\colon M_j\xrightarrow{\cong} N_j$. Wir zeigen nun $M_j\cap \sum_{j'\neq j} M_j' = \{0\}$. Sei hierzu $v\in M_j\cap\sum_{j'\neq j} M_j'$, also $\pi(v) \in N_j\cap\sum_{j'\neq j} N_{j'} = \{0\}$, also $v = 0$.
		
		Insgesamt haben wir gezeigt, dass $\sum M_j = \bigoplus M_j \eqqcolon M'$ und $\pi|_{M'}\colon M'\xrightarrow{\cong} N$ (das gilt auf allen direkten Summanden). Daraus folgt $M = M'\oplus U$. Wähle nun $l = k+1$, $s_j  = t_j$ ( für $j = 1,\dots, k$), $s_l = r$, $M_j = N_j$ (für $j = 1,\dots, k$) und $M_l = U$.
		\qedhere
	\end{description}
\end{proof}

Zusammenfassung: Sei $A$ ein Hauptidealring und $M$ endlich erzeugter $A$-Modul. Dann gibt es ein $r\ge 0$ sowie prime $p_1,\dots, p_n\in A$, sodass für alle $1 \le i \le n$ Zahlen $1 \le s_{i_1} \le \dots \le s_{i_{l_i}}$ mit
\[M\cong A^r\oplus \bigoplus_{i = 1}^n\bigoplus_{j = 1}^{l_i} \fak{A}{\left(P_i^{s_{i_j}}\right)}\]
existieren.

\subsection{Anwendung auf Matrizen}
Sei $k$ ein Körper, $V$ ein $k$-Vektorraum, $\dim V<\infty$, $\psi\in \End_k(V)$ und $M$ ein $k[t]$-Modul zu $(V,\psi)$.
\begin{beme} \label{bem:4.18}
	\leavevmode
	\begin{enumerate}
		\item $M$ ist ein Torsionsmodul (denn sonst hätte $M$ einen torsionsfreien Anteil, der insbesondere frei über $k[t]$ und damit unendlichdimensional über $k$ wäre).
		\item $M$ ist zyklisch, da ein $u\in V$ mit $\<u, \psi(u), \psi^2(u),\dots\>_k = V$ existiert.
	\end{enumerate}
\end{beme}
\begin{beme}
	$\Ann(M) = \set{p\in k[t] \given p(\psi) = 0 \text{ in } \End(V)} = (m_{\psi})$, wobei $m_{\psi}$ das Minimalpolynom von $\psi$ ist.
\end{beme}
\begin{defi}
	Sei $p(t) = t^n+a_{n-1}t^{n-1}+\dots + a_0\in k[t]$. Definiere $C(p) \in \M_{n\times n}(k)$ durch \[
		C(P) = \begin{cases*}
			(-a_0) & für $n = 1$, \\
			\begin{pmatrix}
				0 & \cdots & 0 & -a_0 \\ 
				1 & \ddots & \vdots & -a_1 \\ 
				& \ddots & 0 & \vdots \\ 
				0 &  & 1 & -a_{n-1}
			\end{pmatrix} & für $n > 1$.
		\end{cases*}
	\]
	$C(P)$ heißt \emph{Begleitmatrix} zu $p$ (\enquote{companion matrix}).
\end{defi}
\begin{beme}
	$\chi_{C(p)} = p$ (charakteristisches Polynom von $C(p)$ ist $p$).
\end{beme}
\begin{lem} \label{lem:4.22}
	Sei $M$ ein zyklischer $k[t]$-Modul.
	\begin{enumerate}
		\item $\dim V = \deg m_{\psi}$ \label{lem:4.22:i}
		\item Sei $u \coloneqq \deg(m_{\psi})$ und $v\in V$ mit $M = \<v\>_{k[t]}$. Seien $p_0,\dots, p_{n-1}\in k[t]$ mit $\deg p_i<n$ und $p_0,\dots, p_{n-1}$ linear unabhängig über $k$. Dann ist $(p_0v, \dots, p_{n-1}v)$ eine Basis von $V$ über $k$. \label{lem:4.22:ii}
	\end{enumerate}
\end{lem}
\begin{proof}
	Sei $m_{\psi}(t) = t^n+a_{n-1}t^{n-1}+\ldots + a_0$.
	\begin{enumerate}[label=\alph*)]
		\item Wir zeigen $\<v, \psi(v),\dots, \psi^{n-1}(v)\>_k = V$. Nach \cref{bem:4.18} gilt \[\<v, \psi(v),\psi^2(v),\dots\>_k = V.\] Da $m_{\psi}(\psi) = 0$, ist $\psi^n(v)\in \<v, \psi(v),\dots, \psi^{n-1}(v)\>_k$ und durch Induktion ergibt sich $\psi^{n+i}(v) \in \<v, \psi(v), \dots, \psi^{n-1}(v)\>_k$. \label{lem:4.22:a}
		\item Wir zeigen, dass $(p_0v,\cdots, p_{n-1}v)$ linear unabhängig ist. Seien $b_0,\dots, b_{n-1}\in k$ mit $0 = \sum b_ip_iv$. Dann ist $p := \sum b_ip_i\in \Ann(v) = \Ann(M) = (m_{\psi})$.
		
		Da $\deg p_i<\deg m_{\psi}$ ist, folgt $p = 0$ und, da die $p_0,\dots, p_{n-1}$ linear unabhängig sind, ist $b_1 =\dots = b_{n-1} = 0$. \label{lem:4.22:b}
	\end{enumerate}
Aus \ref{lem:4.22:a} und \ref{lem:4.22:b} folgen nun \ref{lem:4.22:i} und \ref{lem:4.22:ii}.
\end{proof}
\begin{lem} \label{lem:4.23}
	Sei $M$ ein zyklischer $k[t]$-Modul.
	\begin{enumerate}
		\item Es gibt eine Basis $B$ von $V$ mit $\M_B(\psi) =C(m_{\psi})$. \label{lem:4.23:i}
		\item Falls $m_{\psi}(t) = (t-\lambda)^n$, so existiert eine Basis $B'$ von $V$ mit 
		\[\M_{B'}(\psi) = \begin{pmatrix}
		\lambda & 1 &  & 0 \\ 
		& \lambda & \ddots &  \\ 
		&  & \ddots & 1 \\ 
		0 &  &  & \lambda
		\end{pmatrix} = \Jn(\lambda)\] \label{lem:4.23:ii}
	\end{enumerate}
\end{lem}
\begin{proof}
	Sei $M = \<v\>_{k[t]}$.
	\begin{enumerate}[label=\ref{lem:4.23:\roman*}]
		\item Definiere $v_i = \psi^i(v)$ für $i = 0,\dots, n-1$. Nach \cref{lem:4.22} ist $(v_0,\dots, v_{n-1})$ eine Basis von $V$. Dabei gilt $\psi(v_{i}) = v_{i+1}$ für $i = 0,\dots, n-2$ und $\psi(v_{n-1}) =\psi^n(v) = -\sum_{i = 0}^{k-1}a_i\psi^i(v) = -\sum_{i = 0}^{k-1}a_iv_i$, da $m_{\psi}(\psi) = 0$. Dabei ist $m_{\psi}(t) = t^n+a_{n-1}t^{n-1}+\dots + a_0$.
		\item Definiere $v_i'\coloneqq (t-\lambda)^{n-i}\cdot v = (\psi-\lambda)^{n-i}(v)$ für $i = 1,\dots, n$.
		
		Mit \cref{lem:4.22} folgt nun, dass $(v_1',\dots, v_n')$ eine Basis von $V$ ist.
		\begin{align*}
			\psi(v_i') &= t\cdot v_i' = t\cdot(t-\lambda)^{n-1}\cdot v\\
			&= (t-\lambda)^nv + \lambda (t-\lambda)^{n-1}v\\
			&= \lambda v_i'\\
			&= (t-\lambda)^{n-i+1}v +\lambda(t-\lambda)^{n-i}v = v_{i-1}' + \lambda v_i'
			\qedhere
		\end{align*}
	\end{enumerate}
\end{proof}

\begin{bem}
	Umgekehrt gilt: Falls eine Basis $B$ von $V$ sowie ein normiertes $p\in k[t]$ mit $\M_B(\psi) =C(p)$ existiert, so ist $M$ zyklisch.
\end{bem}

\begin{satz}[Rationale Normalform] Sei $V$ ein $k$-Vektorraum, $\dim V <\infty$ und $\psi\in\End_k(V)$. Sei $m_{\psi} = p_1^{r_1}\cdot\ldots\cdot p_n^{r_n}$ mit $p_i\in k[t]$ irreduzibel (und normiert) mit $p_i\neq p_j$. Dann existieren $1\leq s_{i1}\le\dots\le s_{i{l_j}}  = r_i$ sowie eine Basis $B$ von $V$, sodass
	\[ \M_B(\psi) = \begin{pmatrix}
	C(p_1^{s_{i1}}) &  &  & 0 \\ 
	& C(p_1^{s_{i2}}) &  &  \\ 
	&  & \ddots &  \\ 
	0 &  &  & C(p_n^{s_{i{l_n}}})
	\end{pmatrix}. \]
\end{satz}
\begin{proof}
	Aus den \cref{thm:primaerzerlegung,thm:zerlegung primaer zyklisch} folgt, dass es eine Zerlegung $M = \bigoplus_{i = 1}^n\bigoplus_{j = 1}^{l_n} M_{ij}$, wobei $M_{ij}$ zyklisch mit $\Ann(M_{ij})  = (p_i^{s_{ij}})$. Da $M_{ij}$ ein Untermodul von $M$ ist, folgt ${}_k(M_{ij}) =: V_{ij}\subseteq V$ ist $k$-Untervektorraum und $\psi(V_{ij})\subseteq V_{ij}$.
	
	Mit \cref{lem:4.23} folgt daraus, dass $M_{ij}$ zyklisch ist und dass eine Basis $B_{ij}$ von $V_{ij}$ mit $M_{B_{ij}}(\psi|_{V_{ij}}) = C(p_i^{s_{ij}})$ existiert. Die Basis $B = B_{11}\cup B_{12}\cup \dots \cup B_{nl_n}$ ist nun eine geeignete Wahl.
\end{proof}

\begin{kor}
	Sei $m_{\psi} = p_1^{r_1}\cdot\ldots\cdot p_n^{r_n}$ mit normiertem und irreduziblem $p_i\in k[t]$ sowie $p_i\neq p_j$ für $i\neq j$. Dann existiert ein $s_i\ge r_i$ mit $\chi_{\psi} = p_1^{s_1}\cdot\ldots\cdot p_n^{s_n}$.
\end{kor}
\begin{proof}
	Übung.
\end{proof}

\begin{kor}[Cayley-Hamilton]
	$\chi_{\psi}(\psi) = 0$.
\end{kor}

\begin{satz}[Jordansche Normalform]
	Sei $V$ ein $k$-Vektorraum, $\dim V<\infty$ und $\psi\in\End(V)$. Dann sind äquivalent:
	\begin{enumerate}
		\item $m_{\psi}$ zerfällt über $k$. \label{thm:jordan normalform:i}
		\item $\chi_{\psi}$ zerfällt über $k$. \label{thm:jordan normalform:ii}
		\item Es existieren $\lambda_1,\dots, \lambda_n\in k$ und $1\leq s_{i1}\leq\dots\leq s_{il_i}$ und eine Basis $B'$ von $V$ mit
		\[\M_{B'}(\psi) = \begin{pmatrix}
		J_{s_11}(\lambda_1) &  &  & 0 \\ 
		& J_{s_12}(\lambda_1) &  &  \\ 
		&  & \ddots &  \\ 
		0 &  &  & J_{s_{n}l_n}(\lambda_n)
		\end{pmatrix}.\] \label{thm:jordan normalform:iii}
	\end{enumerate}
\end{satz}
\begin{proof}
	\leavevmode
	\begin{description}
		\item[\ref{thm:jordan normalform:i} $\Leftrightarrow$ \ref{thm:jordan normalform:ii}:] Folgt aus Korollar 4.25
		\item[\ref{thm:jordan normalform:iii} $\Rightarrow$ \ref{thm:jordan normalform:ii}:] Klar.
		\item[\ref{thm:jordan normalform:i} $\Rightarrow$ \ref{thm:jordan normalform:iii}:] Beweis analog zum Beweis der rationalen Normalform, statt \cref{lem:4.23} \ref{lem:4.23:i} nutze \cref{lem:4.23} \ref{lem:4.23:ii}.
		\qedhere
	\end{description}
\end{proof}

\lecture{14. Mai 2018}

\section{Lokalisation}
\begin{defi}
	Sei $A$ ein Ring. $S\subseteq A$ heißt \emph{multiplikative Teilmenge}, wenn
	\begin{itemize}
		\item $1\in S$ und
		\item aus $a,b\in S$ dann $a\cdot b \in S$ folgt.
	\end{itemize}
	Definiere auf $S\times A$ eine Äquivalenzrelation durch
	\[(s,a) \sim (t,b) \quad \Longleftrightarrow \quad \exists u\in S: u(ta-sb) = 0.\]
	Definiere $S^{-1}A = (S\times A)/\sim$. Dies wird zu einem Ring durch (definiere $\frac as \coloneqq$ Äquivalenzklasse von $(s,a)$)
	\[\frac as+\frac bt = \frac {at+bs}{st},\qquad \frac as\cdot \frac bt = \frac{ab}{st}\]
	(zur Wohldefiniertheit siehe Einführung in die Algebra).
	
	Die Abbildung $f\colon A\to S^{-1}A, a\mapsto \frac a1$ ist ein Ringhomomorphismus.
\end{defi}
\begin{bem}
	\leavevmode
	\begin{enumerate}
		\item $f(s)\in (S^{-1}A)^{\times}$ für alle $s\in S$.
		\item $\frac as = 0$ in $S^{-1}A\Leftrightarrow \exists u\in S: ua = 0$
		\item $\frac{ta}{ts} = \frac as$ für alle $a\in A, s,t\in S$.
	\end{enumerate}
\end{bem}
\begin{satz}
	Sei $S\subseteq A$ eine multiplikative Teilmenge, sei $g\colon A\to B$ ein Ringhomomorphismus mit $g(S) \in B^{\times}$. Dann kommutiert das folgende Diagramm.
	\begin{center}
	\begin{tikzcd}
		A \arrow{d}[swap]{f} \arrow{r}{g} & B \\
		S^{-1}A \arrow[dashrightarrow]{ur}[swap]{\exists! g'}
	\end{tikzcd}
	\end{center}
\end{satz}
\begin{proof}
	Siehe Einführung in die Algebra oder \cite[Proposition 3.1]{atiyah-macdonald}.
\end{proof}

\begin{bsp}
	Sei $A$ ein Ring.
	\begin{enumerate}
		\item Ist $\fp\in \Spec A$, so ist $S := A\setminus \fp$ ist multiplikative Teilmenge. Definiere $A_\fp := S^{-1}A$.
		
		Spezialfall: Für einen Integritätsbereich $A$ gilt für $\fp = (0) \in \Spec A$ dann $A \fp = \Quot(A)$.
		\item Für $t\in A$ ist $S := \set{t^n\given n\in\IZ_{\geq 0}}$ eine multiplikative Teilmenge. Definiere $A[t^{-1}] := S^{-1}A$ (in \cite{atiyah-macdonald} heißt dies $A_t$).
	\end{enumerate}
\end{bsp}

\begin{defi}
	Sei $S\subseteq A$ eine multiplikative Teilmenge sowie $M$ ein $A$-Modul. Definiere auf $S\times M$ Äquivalenzrelation durch
	\[(s,x)\sim (t,y) \quad \Longleftrightarrow \quad \exists u\in S: u(tx-sy) =0.\]
	Definiere damit $S^{-1}M := (S\times M)/\sim$ bezeichne die Äquivalenklasse von $(s,x)$ mit $\frac xs$. Dann wird $S^{-1}M$ zu einem $S^{-1}A$-Modul via
	\[\frac cs +\frac yt := \frac{tx+sy}{st},\qquad \frac{a}{s}\cdot \frac{y}{t} := \frac{ay}{st}.\]
	(Wohldefiniertheit und Modulaxiome gelten genauso wie für $S^{-1}A$.)
\end{defi}

\begin{bem}
	Diese Konstruktion ist natürlich: Sei $f\colon M\to N$ eine $A$-lineare Abbildung. Wir erhalten eine Abbildung $S^{-1}f\colon S^{-1}M\to S^{-1}N$ definiert durch
	\[S^{-1}f\left(\frac{x}{s}\right) := \frac{f(x)}{s}\]
	Das ist $S^{-1}f$ wohldefiniert und $S^{-1}A$-linear.
	\begin{proof}
		Wir beweisen beispielhaft die Wohldefiniertheit: Sei $\frac xs = \frac yt$ in $S^{-1}M$, es existiert also ein $u\in S$ mit $u(tx-sy) = 0$. Also gilt $0 = f(u(tx-sy)) = u(tf(x)-sf(y))$, also $\frac{f(x)}{s} = \frac{f(y)}{s}$.
	\end{proof}
	Für $A$-lineare Abbildungen $M\xrightarrow{f}N\xrightarrow{g}P$ gilt $S^{-1}(g\circ f) = (S^{-1}g)\circ(S^{-1}f)$.
\end{bem}

\begin{satz}
	Seien $M\xrightarrow{f}N\xrightarrow{g}P$ beide $A$-linear. Falls $\ker g = \im f$ gilt, dann ist $\ker(S^{-1}g) = \im (S^{-1}f)$.
\end{satz}
\begin{proof}
	Sei $\ker g = \im f$.
	\begin{description}
		\item[\glqq$\supseteq$\grqq:] $(S^{-1}g)\circ(S^{-1}f) = S^{-1}(g\circ f) = S^{-1}0 = 0$.
		\item[\glqq$\subseteq$\grqq:] Sei $\frac yt\in \ker(S^{-1}g)$, also $0 = (S^{-1}g)\left(\frac yt\right) = \frac{g(y)}t$. Es gibt also ein $u\in S$ mit $ug(y) = 0$. Damit wissen wir, dass $uy\in\ker g = \im f$ gilt. Wir finden folglich ein $x\in M$ mit $f(x) = uy$. Betrachte $\frac x{ut}$. Dafür gilt $(S^{-1}f)\left(\frac x{ut}\right) = \frac{f(x)}{ut} = \frac{uy}{ut} = \frac yt$.
		\qedhere
	\end{description}
\end{proof}

\begin{kor} \label{kor:lokalisation erhaelt exaktheit}
	Sei \[\ldots\to M_{i-1}\to M_i\to M_{i+1}\to\ldots\] eine exakte Sequenz von $A$-Moduln. Dann ist auch 
	\[\ldots \to S^{-1}M_{i-1}\to S^{-1}M_i\to S^{-1}M_{i+1}\to \ldots\]
	eine exakte Sequenz von $S^{-1}A$-Moduln.
\end{kor}
\begin{kor}
	Seien $M',M''\subseteq M$ Untermoduln. Dann ist $S^{-1}M'\hookrightarrow S^{-1}M$, also können wir $S^{-1}M'$ als $S^{-1}A$-Untermodul von $S^{-1}M$ auffassen.
	\begin{enumerate}
		\item $S^{-1}(M'+M'') = S^{-1}M'+S^{-1}M''$
		\item $S^{-1}(M'\cap M'') = S^{-1}M'\cap S^{-1}M''$
		\item $S^{-1}(\fak{M}{M'}) \cong \fak{S^{-1}M}{S^{-1}M'}$
	\end{enumerate}
\end{kor}
\begin{proof} Übung. (Nutze maßgeblich die Exaktheit.)
\end{proof}
\begin{prop} \label{prop:5.8}
	Sei $S\subseteq A$ eine multiplikative Teilmenge und $M$ ein $A$-Modul. Dann gibt es genau einen Isomorphismus von $S^{-1}A$-Moduln
	\begin{eqnarray*}
		\phi: S^{-1}A\tp_AM &\longto& S^{-1}M \\
		\frac as \tp x &\longmapsto& \frac{ax}s.
	\end{eqnarray*}
\end{prop}
\begin{proof}
	Die Abbildung \[S^{-1}A\times M\to S^{-1}M, \left(\frac as,x\right)\mapsto \frac{ax}s\]
	ist wohldefiniert und $A$-bilinear. Also erhalten wir das folgende kommutative Diagramm.
	\begin{center}
	\begin{tikzcd}
		S^{-1}A\times M \arrow{r} \arrow{d}& S^{-1}M  \\
		S^{-1}A\tp_AM\arrow[dashrightarrow]{ru}[swap]{\exists!\phi \text{ $A$-linear}} 
	\end{tikzcd}
	\end{center}
	Wir rechnen nach, dass $\phi$ $S^{-1}A$-linear ist. Sei dazu $\frac bt \in S^{-1}A$ und $z\in S^{-1}A\tp_A M$. Dann gilt $z = \sum \frac {a_i}{s_i}\tp x_i$ für $a_i\in A, s_i\in S, x_i\in M$. Wir erhalten also
	\begin{align*}
		\phi\left(\frac{bt} z\right) &=\phi\left(\sum\frac{ba_i}{ts_i}\tp x_i \right) = \sum\phi(\frac{ba_i}{ts_i}\tp x_i) = \sum \frac{ba_ix_i}{ts_i} = \frac{b}{t} \cdot \sum \frac{a_ix_i}{s_i} \\
		&= \frac bt \cdot \phi\left(\sum\frac{a_i}{s_i}\tp x_i\right).
	\end{align*}
	Damit ist $\phi$ tatsächlich $S^{-1}A$-linear.
	
	Es bleibt zu zeigen, dass $\phi$ ein Isomorphismus ist. Die Surjektivität ist klar. Für die Injektivität zeigen wir zunächst, dass für alle $z\in S^{-1}A\tp_AM$ dann $x\in M, s\in S$ mit $z = \frac 1s\tp x$ existieren. Denn seien $a_i\in A, s_i\in S, x_i\in M$ mit $z = \sum\frac{a_i}{s_i}\tp x_i$, so definieren wir $s = \prod_i s_i, t_i = \prod_{j \neq i} s_j$, woraus \[z = \sum \frac{a_it_i}{s}\tp x_i = \sum \frac 1s \tp a_it_ix_i = \frac{1}{s}\tp\sum a_it_ix_i\]
	folgt. Sei nun $z\in S^{-1}A\tp_AM$ mit $\phi(z) = 0$. Wähle $s,x$ mit $z = \frac 1s\tp z$. Also gilt $0 = \frac xs$, und es exisiert somit ein $u\in S$ mit $ux = 0$. Damit gilt auch $0 = \frac 1{su}\tp ux = \frac{u}{su}\tp x = \frac{1}{s}\tp x = z$.
\end{proof}
\begin{kor}
	$S^{-1}A$ ist flach als $A$-Modul.
\end{kor}
\begin{proof}
	Dies folgt aus \cref{prop:5.8,kor:lokalisation erhaelt exaktheit}.
\end{proof}

\begin{satz}
	Seien $M,N$ zwei $A$-Moduln sowie $S\subseteq A$ eine multiplikative Teilmenge. Dann existiert genau ein Isomorphismus von $S^{-1}A$-Moduln
	\begin{eqnarray*}
		\phi\colon S^{-1}M\tp_{S^{-1}A}S^{-1}N &\longto& S^{-1}(M\tp_AN) \\
		\frac xs\tp \frac yt &\longmapsto& \frac{x\tp y}{st}.
	\end{eqnarray*}
\end{satz}
\begin{proof}
	Es gilt
	\begin{align*}
		S^{-1}M\tp_{S^{-1}A}S^{-1}N &\cong S^{-1}M \tp_{S^{-1}A}(S^{-1}A\tp_AN) \tag{\cref{prop:5.8}} \\
		&\cong S^{-1}M\tp_A N \tag{\cref{lem:3.11}} \\
		&\cong S^{-1}A\tp_AM\tp_AN& \\ 
		&\cong S^{-1}(M\tp_AN)&
	\end{align*}
	Verfolgen der Bilder von $\frac xs\tp \frac yt$ unter Komposition liefert tatsächlich $\phi\left(\frac xs\tp \frac yt\right) = \frac{x\tp y}{st}$.
\end{proof}

\subsection{Lokal-Global-Prinzipien}
\begin{satz} \label{thm:lokalglobal}
	Sei $M$ ein $A$-Modul. Dann sind äquivalent:
	\begin{enumerate}
		\item $M = 0$ \label{thm:lokalglobal:i}
		\item Für alle $\fp\in \Spec A$ gilt $M_\fp = 0$. \label{thm:lokalglobal:ii}
		\item Für alle $\fm\in\Max A$ gilt $M_\fm = 0$. \label{thm:lokalglobal:iii}
	\end{enumerate}
\end{satz}
\begin{proof}
	\leavevmode
	\begin{description}
		\item[\ref{thm:lokalglobal:i} $\Rightarrow$ \ref{thm:lokalglobal:ii}:] Klar.
		\item[\ref{thm:lokalglobal:ii} $\Rightarrow$ \ref{thm:lokalglobal:ii}:] Klar.
		\item[\ref{thm:lokalglobal:iii} $\Rightarrow$ \ref{thm:lokalglobal:i}:] Angenommen, $M \neq 0$. Sei $x\in M\setminus \{0\}$. Dann ist $\Ann(x) \neq (1)$, es existiert also ein $\fm\in \Max A$ mit $\Ann(x)\subseteq \fm$. Aus \ref{thm:lokalglobal:iii} folgt dann, dass $M_\fm = 0$ ist, also $\frac x1 = 0$ in $M_\fm$; folglich gibt es ein $n\in A\setminus \fm$ mit $ nx = 0$ Dann folgt aber $n\in \Ann(x)\subseteq \fm$, was ein Widerspruch ist.
		\qedhere
	\end{description}
\end{proof}

\begin{satz}
	Sei $f\colon M\to N$ eine $A$-lineare Abbildung. Dann sind äquivalent:
	\begin{enumerate}
		\item $f$ ist injektiv respektive surjektiv. \label{thm:lokal-global-injsur:i}
		\item Für alle $\fp\in \Spec A$ gilt $f_\fp\colon M_\fp\to N_\fp$ ist injektiv respektive surjektiv. \label{thm:lokal-global-injsur:ii}
		\item Für alle $\fm\in \Max A$ gilt: $f_\fm\colon M_\fm\to N_\fm$ ist injektiv respektive surjektiv. \label{thm:lokal-global-injsur:iii}
	\end{enumerate}
\end{satz}
\begin{proof}
	\leavevmode
	\begin{description}
		\item[\ref{thm:lokal-global-injsur:i} $\Rightarrow$ \ref{thm:lokal-global-injsur:ii}:] Folgt aus Exaktheit (\cref{kor:lokalisation erhaelt exaktheit}).
		\item[\ref{thm:lokal-global-injsur:ii} $\Rightarrow$ \ref{thm:lokal-global-injsur:iii}:] Klar.
		\item[\ref{thm:lokal-global-injsur:iii} $\Rightarrow$ \ref{thm:lokal-global-injsur:i}:] Betrachte die folgende exakte Sequenz
		\[0\longrightarrow \ker f \longrightarrow M \xlongrightarrow{f} N\longrightarrow \coker f \longrightarrow 0\]
		von $A$-Moduln. Sei $\fm\in \Max A$. Dann ist 
		\[0\longrightarrow (\ker f)_\fm \longrightarrow M_\fm \xlongrightarrow{f_\fm} N_\fm\longrightarrow (\coker f)_\fm \longrightarrow 0\]
		exakt nach \cref{kor:lokalisation erhaelt exaktheit}. Also ist $\ker(f_\fm) \cong (\ker f)_\fm$, und genauso folgt $\coker(f_\fm)\cong (\coker f)_\fm$.
		
		Da $f_\fm$ injektiv ist, ist $\ker (f_\fm) = 0$. Das impliziert, dass für alle $\fm\in \Max A$ gilt: $(\ker f)_\fm = 0$, und mit \cref{thm:lokalglobal} folgt $\ker f = 0$, also ist $f$ injektiv.
		
		Der Beweis für Surjektivität verläuft analog.
		\qedhere
	\end{description}
\end{proof}

\begin{satz}
	Sei $M$ ein $A$-Modul. Dann sind äquivalent:
	\begin{enumerate}
		\item $M$ ist ein flacher $A$-Modul.
		\item Für alle $\fp\in\Spec A$ ist $M_\fp$ flacher $A_\fp$-Modul
		\item Für alle $\fp\in\Spec A$ ist $M_\fp$ flacher $A$-Modul
		\item Für alle $\fm\in\Max A$ ist $M_\fm$ flacher $A_\fm$-Modul
		\item Für alle $\fm\in\Max A$ ist $M_\fm$ flacher $A$-Modul.
	\end{enumerate}
	
\end{satz}
\begin{proof}
	Übung.
\end{proof}


\subsection{Idealkorrespondenz}
Erinnerung: Für einen Ringhomomorphismus $f\colon A\to B$ gilt:
\begin{itemize}
	\item $J\subseteq B$ Ideal: $J\cap A = f^{-1}(J)\subseteq A$ Ideal
	
	$J\in \Spec B \Rightarrow J\cap A \in \Spec A$
	\item $I\subseteq A$ Ideal: $I\cdot B := (f(I)) \subseteq B$ Ideal
	\item $I \subseteq (I\cdot B) \cap A$, $J \supseteq (J\cap A)\cdot B$
\end{itemize}
\begin{satz}
	Sei $A$ ein Ring und $S\subseteq A$ multiplikative Teilmenge.
	\begin{enumerate}
		\item Sei $I\subseteq A$ ein Ideal. Dann gilt $I\cdot S^{-1}A = \set*{\frac{a}{s}\given a\in I, s\in S}$ und $(I\cdot S^{-1}A)\cap A = \set{a\in A\given \exists n\in S: na \in I}$.
		
		Insbesondere gilt $I\cdot S^{-1}A = (1)\Leftrightarrow I\cap S\neq \emptyset$.
		\item Ist $J\subseteq S^{-1}A$ ein Ideal, so folgt $(J\cap A)\cdot S^{-1}A = J$
		\item Falls $\fp\in\Spec A$ mit $\fp\cap S = \emptyset$, so gilt $\fp\cdot S^{-1}A\in \Spec (S^{-1}A)$ und $(\fp\cdot S^{-1}A)\cap A = \fp$.
		\item Die Abbildungen
		\begin{eqnarray*}
			\Spec(S^{-1}A) &\xlongleftrightarrow{1:1}& \set{\fp\in \Spec A \given \fp\cap S = \emptyset} \\
			\fq &\longmapsto& \fq\cap A \\
			\fp\cdot S^{-1}A &\longmapsfrom& \fp
		\end{eqnarray*}
		sind wohldefiniert und zueinander inverse Bijektionen sowie inklusionserhaltend (für $\fp\subseteq \fp'$ gilt also $\fp\cdot S^{-1}A\subseteq \fp'\cdot \fp'S^{-1}A$ und für $\fq\subseteq \fq'$ gilt $\fq\cap A\subseteq \fq'\cap A$).
	\end{enumerate}
\end{satz}

\lecture{17. Mai 2018}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item Zeige $I\cdot S^{-1}A = \{\frac as | a\in I, s\in S\}$
		\begin{description}
			\item[\glqq $\supseteq$\grqq:] Sei $a\in I, s\in S\Rightarrow \frac as = \frac 1s\cdot \frac a1\in I\cdot S^{-1}A$, denn für $f\colon A\to S^{-1}A$ ist $\frac a1 = f(a) \in f(I)$.
			\item[\glqq$\subseteq$\grqq:] Sei $x\in I\cdot S^{-1}A\Rightarrow$ es existieren $a_i\in I, b_i\in A, s_i\in S_i$ mit $x = \sum \frac {b_{i}}{s_{i}}\cdot \frac{a_i}1$. Definiere nun $s\coloneqq \prod s_i, a\coloneqq \sum_ib_i\prod_{j\neq i}s_ja_i\in I$. Damit ist $x = \frac a s$.
		\end{description}
		Zeige nun noch, dass $(I\cdot S^{-1}A)\cap A = \{a\in A|\exists n\in S: na\in I\}$. Sei $a\in A$.
		\begin{eqnarray*}
			a\in (I\cdot S^{-1}A)\cap A &\Leftrightarrow & \frac a1\in I\cdot S^{-1}A\\
			&\Leftrightarrow& \exists b \in I, t\in S: \frac a1 = \frac bt\\
			&\Leftrightarrow& \exists b\in I, t\in S: \exists s\in S: s(ta-b) =0\\
			&\Leftrightarrow& \exists u\in S: ua\in I
		\end{eqnarray*}
		Dabei gilt die letzte Äquivalenz, denn:
		\begin{description}
			\item[\glqq$\Rightarrow$\grqq:] $sta = sb\in I\Rightarrow u\coloneqq  st$
			\item[\glqq$\Leftarrow$\grqq:] $t\coloneqq u, s = 1, b = ua$
		\end{description}
		\item Zeige $J\subseteq (J\cap A)\cdot S^{-1}A$ (die andere Inklusion gilt ohnehin immer).
		
		Sei $x\in J$, schreibe $x = \frac as$. Damit haben wir $\frac a1 = \frac s1\cdot \frac as \in J$. Folglich ist $a\in J\cap A$; das bedeutet (nach Punkt (i)), dass $\frac as \in (J\cap a)\cdot S^{-1}A$ gilt.
		\item Sei $\fp\in\Spec A$ mit $\fp\cap S=\emptyset$. Seien $\frac as, \frac bt\in S^{-1}A$ mit $\frac as,bt\notin \fp\cdot S^{-1}A$. Zeige, dass dann auch $\frac as\cdot \frac bt\notin\fp\cdot S^{-1}A$.
		
		Es gilt $a,b\notin \fp$ (wegen (i)). Folglich haben wir $ab\notin \fp$. Angenommen $\frac{ab}{st}\in\fp\cdot S^{-1}A\Rightarrow \exists c\in \fp\exists u\in S: \frac{ab}{st} = \frac cu$.
		
		Das bedeutet jetzt aber, dass es ein $v\in S$ gibt, sodass $v(uab-stc) = 0$, also $vuab = vstc\in \fp$. Da $ab\notin \fp$, muss $vu\in\fp$ gelten. Aber: $vu\in S$ und $S\cap\fp = \emptyset$. Das ist ein Widerspruch.
		
		Zeige noch $(\fp\cdot S^{-1}A)\cap  A = \fp$. Wegen (i) gilt $(p\cdot S^{-1}A)\cap A = \{a\in A|\exists u\in S: na \in \fp\} = \fp$, da $na\in \fp\Leftrightarrow a \in \fp$.
		\item Nichts zu zeigen.
	\end{enumerate}
\end{proof}

\begin{bsp}
	\leavevmode
	\begin{enumerate}
		\item Sei $\fp\in\Spec A$. Dann gibt es eine Bijektion
		$$\Spec A_{\fp} \xlongleftrightarrow{1:1} \{\fp'\in \Spec A|\fp'\cap(A\setminus \fp) = \emptyset\}  = \{\fp'\in \Spec A|\fp'\subseteq \fp\}$$
		
		Damit folgt $A_{\fp}$ ist lokaler Ring mit maximalem Ideal $\fp\cdot A_{\fp}$.
		\item Sei $t\in A$. Dann erhalten wir die Bijektion
		$$\Spec A[t^{-1}] \xlongleftrightarrow{1:1}\{\fp\in \Spec A\fp\cap\{t^0, t^1,\dots\} = \emptyset\} = \{\fp\in \Spec A|\fp\not \ni t\}$$
	\end{enumerate}
\end{bsp}


\subsection{Lokalisation von Algebren}
\begin{beme}
	Sei $f\colon A\to B$ Ringhomomorphismus, sei $S\subseteq A$ multiplikative Teilmenge.
	\begin{enumerate}
		\item Da $S^{-1}B (= S^{-1}({}_AB))\cong S^{-1}A\otimes_A B$ nach Satz 5.8 gilt, ist $S^{-1}B$ ein Ring, sogar eine $S^{-1}A$-Algebra.
		\item $f(S)\subseteq B$ ist multiplikative Teilmenge.
		\item Sei $s\in S$ und betrachte $f(s)$. Sei $g\colon B\to S^{-1}B$. Dann ist $g(f(s)) = \frac{f(s)}{1} \in (S^{-1}B)^{\times}$. Denn: Es gilt 
		$$\frac{f(s)}{1} \cdot \frac{1}{s} = 1$$
		in $S^{-1}B$, denn 
		$$\frac{f(s)}{s} = \frac{f(s)}{1}\cdot \frac 1s = 1 = \frac{1_b}{1_A} \Longleftrightarrow \exists u\in S: u(f(s)-s\cdot 1_B) = 0$$
		Letzteres gilt aber, denn $s\cdot 1_B = f(s)\cdot 1_B$.
		
		Also gilt: $g(f(s)) \subseteq (S^{-1}B)^{\times}$. Damit kommutiert folgendes Diagramm:
		\begin{center}
		\begin{tikzcd}
			B \arrow{d} \arrow{r}{g} & S^{-1}B \\
			f(S)^{-1}B \arrow{ur}[swap]{\exists!\phi\text{ Ringhom.}}	& 
		\end{tikzcd}
		\end{center}
		Es gilt: für $x = \frac{b}{f(s)}\in f(S)^{-1}B$ ist 
		$$\phi(\frac{b}{f(s)}) = \frac{b}{s}$$
		$f(S)^{-1}B$ ist $S^{-1}A$-Algebra via
		\begin{center}
			\begin{tikzcd}
				A \arrow{d} \arrow{r}{f} & B\arrow{d} \\
				f(S)^{-1}a\arrow{r}	& f(S)^{-1}B
			\end{tikzcd}
		\end{center}
		Nachrechnen: $\phi$ ist Homomorphismus von $S^{-1}A$-Algebren.
		\item $\phi$ ist Isomorphismus von $S^{-1}A$-Algebren.
		\begin{proof}
			Die Surjektivität ist klar nach der Definition von $\phi$. Weiterhin ist $\phi$ injektiv: Sei $x = \frac{b}{f(s)}\in f(S)^{-1}B$ mit $\phi(x) = 0$. Also haben wir $0 = \frac bs \Rightarrow \exists u\in S: 0  = ub = f(u)\cdot b \Rightarrow \frac{b}{f(s)} = 0$.
		\end{proof}
	\end{enumerate}	
\end{beme}
\begin{kor}
	Sei $I\subseteq A$ Ideal und $S\subseteq A$ multiplikative Teilmenge mit $I\cap S = \emptyset$. Sei $\pi\colon A \to \fak{A}{I}$. Dann existiert ein Isomorphismus
	$$\fak{S^{-1}A}{I\cdot S^{-1}A} \xlongrightarrow{\cong} \pi(S)^{-1}(\fak{A}{I})$$
	von $A$-Algebren.
\end{kor}
\begin{proof}
	$$\pi(S)^{-1}(\fak{A}{I}) \cong S^{-1}(\fak AI) \cong S^{-1}A\otimes_A(\fak AI) \cong \fak{S^{-1}A}{IS^{-1}A}$$
	wobei der letzte Isomorphismus sogar Isomorphismus von $A$-Algebren ist.
\end{proof}
\begin{kor}
	Sei $\fp\in \Spec A$ und $S = A\setminus \fp$. Dann
	$$\fak{A_{\fp}}{\fp\cdot A_{\fp}}\cong \pi(A\setminus \fp)^{-1}(\fak{A}{\fp}) = \operatorname{Quot}(\fak{A}{\fp}) \eqqcolon \kappa(\fp)$$
	
\end{kor}
\begin{kor}
Sei $f\colon A\to B$ Ringhomomorphismus, $S\subseteq A$ multiplikative Teilmenge. Dann haben wir folgende Bijektion:
\begin{eqnarray*}
	\Spec S^{-1}B & \longleftrightarrow & \{\fq \in \Spec B| (\fq \cap A)\cap S = \emptyset\}\\
	\fq' & \longmapsto & \fq'\cap B\\
	\fq S^{-1}B & \longmapsfrom & \fq
\end{eqnarray*}
\end{kor}
\begin{proof}
	$$\Spec S^{-1}B = \Spec f(S)^{-1}B \xleftrightarrow{1:1} \{\fq \in \Spec B|\fq\cap f(S) = \emptyset\}
	 = \{\fq \in \Spec B|(\fq \cap A)\cap S = \emptyset\}$$
	 denn $\fq\cap f(S) = \emptyset \Leftrightarrow f^{-1}(\fq)\cap S = \emptyset$.
\end{proof}
Sei $f\colon A \to B$ Ringhomomorphismus. Betrachte $f^{*}\colon \Spec B \to \Spec A, f^{*}(\fq) = \fq\cap A$. Wir können mit den Resultaten von eben die Faser $(f^{*})^{-1}(\{\fp\})$ beschreiben:
\begin{kor}
	Sei $f\colon A \to B$, sei $\fp\in \Spec A$. Dann haben wir
	$$\{\fq\in \Spec B|\fq\cap A = \fp\}\xlongleftrightarrow{1:1}\Spec(B\otimes_A\kappa(\fp))$$
\end{kor}
\begin{proof}
	$$\Spec(B\otimes_A\kappa(\fp)) = \Spec(B\otimes_A(\fak{A_{\fp}}{\fp A_{\fp}})) = \Spec((B\otimes_A A_{\fp}) \otimes_{A_{\fp}}(\fak{A_{\fp}}{\fp A_{\fp}}))$$
	nach Proposition 3.12, wobei
	$$B\otimes_A A_{\fp} = (A\setminus \fp)^{-1}B = B\fp$$
	also erhalten wir
	$$\Spec((B\otimes_A A_{\fp}) \otimes_{A_{\fp}}(\fak{A_{\fp}}{\fp A_{\fp}})) = \Spec(B_{\fp}\otimes_{A_{\fp}}(\fak{A_{\fp}}{\fp A_{\fp}})) = \Spec(\fak{B_{\fp}}{(\fp A_{\fp})\cdot B_{\fp}})$$
	Dabei ist $(\fp A_{\fp})\cdot B_{\fp} = \fp B_{\fp}$, folglich haben wir eine 1:1-Korrespondenz zu
	$$\{\fq'\in \Spec B_{\fp}|\fq'\supseteq \fp B_{\fp}\} \xleftrightarrow{1:1} \{\fq \in \Spec B|\fq\cap A \supseteq \fp, \fq \cap A \subseteq \fp\}$$
	(Denn $\Spec B_{\fp} \xleftrightarrow{1:1} \{q\in \Spec B| (q\cap A)\cap(A\setminus \fp) = \emptyset\} , \fq'\mapsto \fq'\cap B$, für $\fq' \in \Spec B_{\fp}$ gilt
	$$\fq' \supseteq \fp B_{\fp} \Leftrightarrow \fq'\cap B \supseteq \fp B \Leftrightarrow \fq' \cap A \supseteq \fp \qquad \text{)}$$
	Damit erhalten wir
	$$\Spec(B\otimes_A\kappa(\fp)) \xlongleftrightarrow{1:1} \{\fq\in \Spec B|\fq\cap  A = \fp\}$$
\end{proof}



\section{Ganze Ringerweiterungen}
Sei $B$ eine $A$-Algebra.
\begin{defi}
	\leavevmode
	\begin{enumerate}
		\item Sei $b\in B$. $b$ heißt ganz (\glqq integral\grqq) über $A$, wenn $\exists p(t)\in A[t]$, $p$ normiert (\glqq monic\grqq) mit $p(b) = 0$.
		\item $\{b\in B|b \text{ ganz über } A\}$ heißt ganzer Abschluss (\glqq integral closure\grqq) von $A$ in $B$.
		\item $B$ heißt ganz über $A$, wenn jedes $b\in B$ ganz über $A$ ist.
		\item $A$ heißt ganz abgeschlossen in $B$, wenn für alle $b\in B$ gilt: $b$ ganz über $A\Leftrightarrow b\in\im (A\to B)$.
	\end{enumerate}
\end{defi}
\begin{bsp}
	Sei $A = \IZ$, $B = \IQ$. Sei $x = \frac rs\in \IQ$ ganz über $\IZ$ und sei $(r,s) = (1)$. Dann existiert $p(t) = t^{n}+a_{n-1}t^{n-1}+\dots + a_0\in\IZ[t]$ mit 
	\begin{eqnarray*}
		 0 &=& p(x) = \frac{r^n}{s^n}+a_{n-1}\frac{r^{n-1}}{s^{n-1}}+\dots+a_0\\
		 \Leftarrow 0 &=& r^k + a_{n-1}r^{n-1}s+\dots+ a_0s^{n}
	\end{eqnarray*}
	Folglich: $s$ teilt $r^n$; damit ist $s\in \IZ^{\times}$ und $x\in\IZ$.
\end{bsp}
Bezeichnungen: Sei $A\to B$ Ringhomomorphismus.
\begin{enumerate}
	\item Seien $b_1,\dots,b_n\in B$. Definiere $A[b_1,\dots, b_n]\coloneqq$ kleinste $A$-Unteralgebra, die $b_1,\dots, b_n$ enthält; also $A[b_1,\dots, b_n] = \im (\ev_{(b_1,\dots, b_n)}\colon A[t_1,\dots, t_n]\to B)$.
	\item $A\to B$ heißt endlich genau dann, wenn ${}_AB$ endlich erzeugter $A$-Modul ist.
\end{enumerate}


\begin{lem}
	Sei $A\to B$ Ringhomomorphismus, $b\in B$. Dann sind äquivalent:
	\begin{enumerate}
		\item $b$ ganz über $A$
		\item $A[b]$ ist endlich über $A$
		\item Es gibt $C\subseteq B$ endliche $A$-Unteralgebra mit $b\in C$.
	\end{enumerate}
\end{lem}

\lecture{28. Mai 2018}

\begin{proof}
	\leavevmode
	\begin{description}
		\item[i$\Rightarrow$ii:] Seien $a_0,\dots, a_{n-1}\in A$ mit $b^n = -(a_{n-1}b^{n-1}+\dots+a_0)$. Sei $p(t) = t^n+a_{n-1}t^{n-1}+\dots + a_0$.
		
		Wir wissen $A[b] = \{q(b)|q\in A[t]\}$.
	
		Sei also nun $q\in A[t]$. Es existieren folglich $c,r\in A[t]$ mit $q = c\cdot p +r $ und $\deg r < \deg p$. Also ist $A[b] = \{r(b)|r\in A[t], \deg r <n\} = \<1, b, b^2,\dots, b^{n-1}\>_A$.
		
		\item[ii$\Rightarrow$iii:] Klar.
		\item[iii$\Rightarrow$i:] Sei $C = \<b_1, \dots, b_n\>_A$. Betrachte die $A$-lineare Abbildung $C\to C, c\mapsto bc$. Wähle $a_{ij}\in A$ mit 
		$$b\cdot b_j = \sum_{i=1}^{n}a_{ij}b_i$$
		Betrachte $M = (b\cdot \delta_{ij}-a_{ij})$. Dann ist $M\cdot (b_1,\dots, b_n)^{\operatorname{T}} = 0$. Wir multiplizieren mit der adjunkten Matrix zu $M$:
		$$\det M\cdot E_n = M^{ad} M \cdot (b_1,\dots, b_n)^{\operatorname{T}} = 0$$
		Wir erhalten also $(\det M)b_j = 0$ für alle $j\in\{1,\dots, n\}$; insbesondere $(\det M)c = 0$ für alle $c\in C$. Es gilt folglich $\det M  = 0$.
		
		Definiere nun $p(t) \coloneqq \chi_{(a_{ij})}(t) = \det (t\cdot \delta_{ij}-a_{ij})$. Dann ist $p(t)\in A[t]$ normiert und $p(b) = 0$. Folglich ist $b$ ganz über $A$.
	\end{description}
\end{proof}

\begin{lem}
	Seien $A\to B\to C$ Rinhomomorphismen.
	\begin{enumerate}
		\item Ist $B$ endliche $A$-Algebra und $C$ endliche $B$-Algebra, dann ist $C$ endliche $A$-Algebra.
		\item Ist $B$ ganz über $A$, $C$ ganz über $B\Rightarrow C$ ganz über $A$.
	\end{enumerate}	
\end{lem}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item Folgt sofort aus Lemma 3.7 %TODO: Referenz einfügen
		\item Sei $c\in C$. Da $c$ ganz über $B$ ist, existieren $b_0, \dot, b_{n-1}\in B$ mit $c^n+b_{n-1}c^{n-1}+\dots +b_0 = 0$. Da $b_0, \dots, b_{n-1}$ ganz über $A$ sind, ist $A[b_1,\dots, b_{n-1}]$ endlich über $A$.
		
		(Denn $b_i$ ist ganz über $A[b_0,\dots, b_{i-1}]$. Induktiv folgt mit (i), dass $A[b_0, \dots, b_{n-1}]$ endlich über $a$ ist. Dann ist $c$ ganz über $A[b_1,\dots, b_{n-1}]$. Also ist $A[b_0,\dots, b_{n-1}, c]\subseteq C$ endlich über $A$ und enthält $c$. Nach Lemma 6.3 ist $c$ ganz über $A$.)
		
	\end{enumerate}
	
\end{proof}

\begin{kor}
	Sei $A\to B$ Ringhomomorphismus. Dann sind äquivalent:
	\begin{enumerate}
		\item $B$ ist endliche $A$-Algebra
		\item es gibt $b_1,\dots, b_n\in B$, $b_i$ ganz über $A$, mit $B = A[b_1,\dots, b_n]$
		\item $B$ ist endlich erzeugt und ganz über $A$.
	\end{enumerate}
\end{kor}
\begin{proof}
	\leavevmode
	\begin{description}
		\item[iii$\Rightarrow$ii:] $\checkmark$
		\item[ii$\Rightarrow$i:] Lemma 6.4 und Lemma 6.3
		\item[i$\Rightarrow$iii:] endliche Algebren sind insbesondere endlich erzeugt und außerdem ganz nach Lemma 6.3
	\end{description}
\end{proof}

\begin{kor}
	Sei $A\to B$ Ringhomomorphismus. Sei $\overline{A}$ der ganze Abschluss von $A$ in $B$. Dann ist $\overline{A}$ Unteralgebra von $B$.
\end{kor}
\begin{proof}
	Seien $b, b'\in B$ ganz über $A$. Zu zeigen: $b+b', b\cdot b'$ ganz über $A$. Aber $b+b', b\cdot b'\in A[b, b']$, wobei letzteres ganz ist.
\end{proof}

\subsection{Going up}
\begin{lem} Sei $A\hookrightarrow B$ ganze Ringerweiterung (das heißt injektiver Ringhomomorphismus). $A, B$ Integritätsbereiche. Dann gilt: 
	$$B \text{ Körper}\Longleftrightarrow A\text{ Körper}$$
\end{lem}
\begin{proof} Sei ohne Einschränkung $A\subseteq B$.
\begin{description}
	\item[\glqq$\Rightarrow$\grqq:] Sei $a\in A\setminus \{0\}$. Dann ist $a\in B\setminus\{0\} = B^{\times}$. Also gibt es ein $b\in B$ mit $ab = 1$. Da $b$ ganz über $A$ ist, gibt es $a_0,\dots, a_{n-1}\in A$, sodass
	$$b^n = \sum_{i = 0}^{n-1}a_ib^i$$
	Also gilt
	$$ b = a^{n-1}b^n = \sum_{i = 1}^{n-1} a_ia^{n-1}b^i = \sum_{i = 1}^{n-1-i}\in A$$
	Folglich gilt $b\in A$ und damit $a\in A^{\times}$.
	\item[\glqq$\Leftarrow$\grqq:] Sei $b\in B\setminus\{0\}$. Es gibt also $p(t) \in A[t]$ normiert mit $p(b) = 0$. Schreibe
	$$p(t) = t\cdot q(t) + a$$
	mit $q(t)\in A[t]$, $a\in A$. Insbesondere ist $q\neq 0$. Wähle $p$ von minimalem Grad. Dann folgt $\deg q < \deg p$, also $q(b) \neq 0$. Das bedeutet $0 = bq(b)+a$, wenn wir in obige Gleichung $b$ einsetzen, also $b\cdot q(b)  = -a$, wobei $b\cdot q(b) \neq 0$, da $B$ Integritätsbereich ist. Andererseits ist $b\cdot q(b) \in A$ und damit $b\cdot q(b) \in A^{\times}\subseteq B^{\times}$, also $b\in B^{\times}$.
\end{description}	
\end{proof}

\end{document}

%\begin{bsp}
%	Das hier ist ein Beispiel-Diagramm:

%	\begin{tikzcd}
%		X \arrow{rd}[swap]{g\circ f} \arrow{r}{f} & Y \arrow{d}{g} \\
%		W \arrow{u}	& Z
%	\end{tikzcd}
%\end{bsp}