\documentclass[12pt,a4paper]{scrartcl}

\usepackage{includes}
\usepackage{shortcuts}
\usepackage{numbering}

%---------------------------%
% Franzen-spezifisches Zeug %
%---------------------------%

% numbering
\counterwithin{subsection}{section}
\renewcommand{\thesection}{\arabic{section}}
\setcounter{section}{-1}
\setlist[enumerate,1]{label=\textup{\roman*)}}
\setlist[enumerate,2]{label=\textup{\alph*)}}

\counterwithout{thmcounter}{subsection}
\counterwithout{defcounter}{subsection}
\counterwithout{bspcounter}{subsection}
\counterwithin{thmcounter}{section}
\counterwithin{defcounter}{section}
\counterwithin{bspcounter}{section}
\renewcommand{\thethmcounter}{\arabic{section}.\arabic{thmcounter}}
\renewcommand{\thedefcounter}{\arabic{section}.\arabic{defcounter}}
\renewcommand{\thebspcounter}{\arabic{section}.\arabic{bspcounter}}

\makeatletter
\let\c@thmcounter=\c@defcounter
\let\c@bspcounter=\c@defcounter
\makeatother

\theoremstyle{cplain}
\newtheorem{prop}[thmcounter]{Proposition}
\crefname{prop}{Proposition}{Propositionen}

\theoremstyle{cdef}
\newtheorem{beme}[thmcounter]{Bemerkung}
\crefname{beme}{Bemerkung}{Bemerkungen}

% bibliography
\usepackage[backend=biber,sorting=none]{biblatex}
\addbibresource{literatur.bib}


\author{}
\title{Algebra I}
\subtitle{Sommersemester 2018}    

\begin{document}
\maketitle
\tableofcontents
\newpage

\noindent
Dies ist eine Mitschrift der Vorlesung \enquote{Algebra I} von Dr. Hans Franzen an der Universität Bonn, gehalten im Sommersemester 2018.

\bigskip

\noindent
Vorlesungswebsite:\\
\url{http://www.math.uni-bonn.de/ag/stroppel/Franzen_Algebra_1.htmpl}

\nocite{atiyah-macdonald}
\nocite{eisenbud}
\nocite{matsumura}
\printbibliography

\newpage

\lecture{9. April 2018}

\section{Motivation}
Sei $k=\overline k$ (algebraisch abgeschlossener Körper). Seien $f_1, \dots f_m \in k[t_1,\dots t_n]$. Dann sind \[ V(f_1,\dots, f_m) := \{x=(x_1,\dots, x_n) \in k^n \mid f_i(x)=0 \text{ für alle $1\le i \le m$} \}\] affine algebraische Varietäten.


\emph{Beispiel.} Sei $k=\IC$, $n=2$ und $m=1$. Wir erhalten die folgenden Bilder:
\begin{figure}[H]
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \begin{tikzpicture}
            \begin{axis}[width=7cm,xmax=1,xmin=-1,ymax=1,ymin=-1,axis equal,xtick={-1,0,1},ytick={-1,0,1}]
                \draw (axis cs:0,0) circle[radius=1];
            \end{axis}
        \end{tikzpicture}
        \caption*{$f=x_1^2+x_2^2-1$}
    \end{subfigure}
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \begin{tikzpicture}
            \begin{axis}[width=7cm,xmax=1,xmin=-1,ymax=1,ymin=-1,axis equal,xtick={-1,0,1},ytick={-1,0,1}]
                \addplot[black,samples=100,domain=0:1] {x^(3/2)};
                \addplot[black,samples=100,domain=0:1] {-x^(3/2)};
            \end{axis}
        \end{tikzpicture}
        \caption*{$f=x_1^3-x_2^2$}
    \end{subfigure}
\end{figure}
\begin{figure}[H]
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \begin{tikzpicture}
            \begin{axis}[width=7cm,xmax=1,xmin=-1,ymax=1,ymin=-1,axis equal,xtick={-1,0,1},ytick={-1,0,1}]
                \addplot[black] coordinates{(-2,0) (2,0)};
                \addplot[black] coordinates{(0,-2) (0,2)};
            \end{axis}
        \end{tikzpicture}
        \caption*{$f=x_1\cdot x_2$}
    \end{subfigure}
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \begin{tikzpicture}
            \begin{axis}[width=7cm,xmax=1,xmin=-1,ymax=1,ymin=-1,axis equal,xtick={-1,0,1},ytick={-1,0,1}]
                \addplot[black] coordinates{(-2,0) (2,0)};
                \addplot[black] coordinates{(0,-2) (0,2)};
            \end{axis}
        \end{tikzpicture}
        \caption*{$f=x_1^{21}\cdot x_2^{138}$}
    \end{subfigure}
\end{figure}

In der algebraischen Geometrie betrachten wir die folgende Beziehung:
\begin{eqnarray*}
    \text{Affine Varietät $X$} & \longleftrightarrow & \text{Ring $A(X)$} \\
    \text{Studium der Geometrie von $X$} & \cong & \text{Studium des Ringes $A(X)$}
\end{eqnarray*}
Hierzu ist das Studium von kommutativer Algebra notwendig.
\newpage

\section{Primideale und maximale Ideale}
\subsection{Grundbegriffe}
\begin{konv}
	In der gesamten Vorlesung sind Ringe immer kommutativ und haben Eins. Ringhomomorphismen erhalten die Eins.
\end{konv}
\begin{defi}
	Sei $A$ ein Ring und $I\subsetneq A$ ein Ideal.
	\begin{enumerate}
        \item $I$ heißt Primideal, falls \begin{enumerate}
            \item $ab \in A \setminus I$ für alle $a,b \in A \setminus I$ gilt, oder äquivalent
            \item $\fak A I$ ein Integritätsbereich ist.
        \end{enumerate}
        \item $I$ heißt maximales Ideal, falls \begin{enumerate}
            \item für jedes Ideal $J \subsetneq A$ aus $I \subset J$ bereits $I=J$ folgt, oder äquivalent
            \item $\fak A I$ ein Körper ist.
        \end{enumerate}
		\item $\Spec A := \{\fp \mid \fp \subsetneq A \text{ Primideal}\}$
		\item $\Max A:=\{\fm \mid \fm \subsetneq A \text{ maximales Ideal}\}$
	\end{enumerate}
\end{defi}
\begin{defi} Sei $f: A \to B$ ein Ringhomomorphismus.
	\begin{enumerate}
		\item Sei $J \subset B$ ein Ideal. Dann ist $J \cap A:=f^{-1}(J)$ ein Ideal von $A$, genannt \emph{Kontraktion}. Ist $J$ ein Primideal, so ist $J \cap A$ ebenfalls ein Primideal.
		\item Sei $I \subset A$ ein Ideal. Dann ist $f(I)$ nicht notwendigerweise ein Ideal. Setze $I \cdot B := \left( f(I) \right)$, das von $f(I)$ erzeugtes Ideal. Wir nennen dieses \emph{Ausdehnung} von $I$.
	\end{enumerate}
\end{defi}
\begin{bem}
	Es kann sein, dass $I \in \Max A$, aber $I \cdot B \notin \Spec B$. Sei dazu $A=\IZ$ und $B=\IZ[i]$. Sei $I=(2) \in \Max(\IZ)$, aber $I \cdot B = (2) \notin \Spec \IZ[i]$, da $2=(1-i)(1+i)$ ist.
\end{bem}
\begin{satz} \label{thm:existenz maximaler ideale}
	Sei $A$ ein Ring und $I \subsetneq A$ ein Ideal. Dann existiert ein $\fm \in \Max A$ mit $I \subset \fm$.
	\begin{proof}
		Siehe Vorlesung Einführung in die Algebra, Satz 9.1, oder \cite{atiyah-macdonald}, Theorem 1.3.
	\end{proof}
\end{satz}
\begin{kor} \label{kor:einheiten und maximale ideale}
    Sei $A$ ein Ring, bez. $A^*=\{\text{Einheiten von }A\}$. Dann gilt \[A^*=A \setminus \bigcup_{\mathclap{\fm \in \Max A}} \fm.\]
	\begin{proof}
		Ist $a \in A^*$, so gilt $(a)=(1)=A$ und damit $a \notin \fm$ für alle $\fm \in \Max A$.

		Sei $a \notin \fm$ für alle $\fm \in \Max A$. Dann ist $(a) \subset \fm$ für alle $\fm \in \Max A$; es folgt also $(a)=A=(1)$ mit \cref{thm:existenz maximaler ideale} und damit $a \in A^*$.
	\end{proof}
\end{kor}
\subsection{Lokale Ringe}
\begin{defi} \label{def1.5}
	Sei $A$ ein Ring. $A$ heißt \emph{lokal}, falls $A$ genau ein maximales Ideal $\fm$ hat (d.h. $\Max A = \{\fm\}$).
\end{defi}
\begin{lem} \label{lem:lokale ringe}
	Sei $A$ ein Ring.
	\begin{enumerate}
		\item Sei $I \subsetneq A$ ein Ideal. Dann sind äquivalent:
		      \begin{enumerate}
			      \item $\Max A = \{I\}$
			      \item $A \setminus I \subset A^*$
			      \item $A \setminus I = A^*$
		      \end{enumerate}
		\item Sei $\fm \in \Max A$. Falls $1+x \in A^*$ für alle $x \in \fm$ gilt, so ist $\Max A=\{ \fm \}$.
	\end{enumerate}
    \begin{proof}
        \leavevmode
		\begin{enumerate}
			\item \enquote{a) $\Rightarrow$ b)} folgt aus \cref{kor:einheiten und maximale ideale}. Für \enquote{b) $\Rightarrow$ a)} sei $J \subsetneq A$ ein Ideal. Dann liegt $J$ in $I$, und es folgt $I \in \Max A$ mit $\Max = \{I\}$.
			\item Sei $b \in A \setminus \fm$. Es ist $b \in A^*$ zu zeigen. Da $\fm \in \Max A$, gilt $(b)+m=A$, es existieren folglich $a \in A, x\in m$ mit $ab+x=1$. Daraus folgt $ab=1-x \in A^*$ und dann $b \in A^*$.
            \qedhere
        \end{enumerate}
	\end{proof}
\end{lem}

\begin{bsp}
	\begin{enumerate}
        \leavevmode
		\item[0)] Körper sind lokale Ringe.
        \item Ist $(A,\fm)$ ein lokaler Ring. Dann ist $A\llbracket t \rrbracket$ ein lokaler Ring. Dabei ist \[ A\llbracket t \rrbracket=\left\{\sum_{i=0}^\infty a_it^i \,\middle|\, a_i \in A\right\} \] der Ring der formalen Potenzreihen mit kanonischer Addition und Multiplikation. Betrachte die Komposition $A\llbracket t \rrbracket \to A \to A/\fm$ gegeben durch $\phi=\can \circ \ev_0$. Diese bildet surjektiv auf den Körper $A/\fm$ ab, also ist $\ker \phi \in \Max A\llbracket t \rrbracket$.
        
        Sei $f \in \ker \phi$ und betrachte $1+ f$. Aus $f \in \ker \phi$ folgt $f=\sum_{i=0}^\infty a_it^i$ mit $a_0 \in \fm$. Wir wollen ein $g \in A\llbracket t\rrbracket$ mit $g=\sum_{i=0}^\infty b_it^i$ mit $(1+f)g=1$ finden, d.h. $(1+a_0)b_0$ und $(1+a_0)b_n+a_1b_{n-1}+\dots a_nb_0$ für alle $n > 0$. Erstere Gleichung ist lösbar, da $a_0 \in m$ liegt und damit $1+a_0 \in A^*$ folgt. Wir führen nun eine Induktion nach $n$. Nehme an, dass $b_0, \dots b_{n-1}$ bereits bekannt sind. Dann folgt, dass $b_n=-(1+a_0)^{-1}(a_1b_{n-1}+\dots+a_nb_0)$. Nach \cref{lem:lokale ringe} ist $A\llbracket t \rrbracket$ lokal mit dem maximalen Ideal $(t)+\fm$. Der Residuenkörper ist $A\llbracket T\rrbracket /((t)+\fm) \cong A/\fm$.

        Spezialfall: $k\llbracket t_1,\dots t_n\rrbracket := k\llbracket t_1,\dots,t_{n-1}\rrbracket\llbracket t_n\rrbracket$ lokaler Ring mit maximalen Ideal $(t_1,\dots,t_n)$ und Residuenkörper isomorph zu $k$.
        
		\item Sei $X \subset \IR^n$ offen, $0 \in X$. Betrachte Paare $(U,f)$ mit $U \subset X$ offen, $0 \in U$ und $f:U \to R$ stetig. Definiere Äquivalenzklassen durch $(U_1,f_1) \sim (U_2,f_2)$ genau dann, wenn ein offenes $W \subset U_1 \cap U_2$ mit $0 \in W$ und $f_1|_W=f_2|_W$ existiert. Die Äquivalenzklasse $\langle U,f \rangle$ heißt Funktionenkeim. Definiere $A := \{\langle U,f \rangle \mid (U,f) \text{ wie oben}\}$ mit  punktweiser Addition und Multiplikation.

		Wir zeigen nun, dass $A$ ein lokaler Ring ist. Betrachte $\phi: A \to \mathbb{R}, \; \langle U,f \rangle \to f(0)$, einen wohldefinierten Ringhomomorphismus. $\phi$ surjektiv und damit folgt $\ker \phi \in \Max A$.

        Sei $s = \langle U,f \rangle \in \ker \phi$. Es bleibt $1+s \in A^*$ zu zeigen. Da $1+f(0)=1$, existiert eine offene Umgebung $W$ von $0$, sodass $f(x) \neq 0$ für alle $x \in W$ ist. Dann ist $y: W \to \IR, \; x \mapsto \frac{1}{1+f(0)}$ stetig und es gilt $(1+s)\langle W,y \rangle = 1$. Somit ist $A$ ein lokaler Ring.
        
        \item Sei $A$ ein Ring und $\fp \in \Spec A$. Dann ist $S := A \setminus \fp$ ein multiplikatives System. Wir definieren $A_\fp := S^{-1}A$ (Lokalisation).
        
        Später werden wir zeigen, dass $A_\fp$ ein lokaler Ring mit maximalem Ideal $\fp \cdot A_\fp$ ist.
	\end{enumerate}
\end{bsp}

\lecture{12. April 2018}

\subsection{Nilradikal und Jacobson-Radikal}
\begin{defi}
    Sei $A$ ein Ring sowie $I\subset A$ ein Ideal. Definiere das \emph{Radikal} von $I$ durch \[\sqrt{I} := \{x\in A \mid \exists n>0: x^n\in I\}.\]
    $\Nil(A) := \sqrt{0}$ heißt \emph{Nilradikal} von $A$.
\end{defi}
\begin{lem}
    \leavevmode
    \begin{enumerate}
        \item $\sqrt{I}$ ist ein Ideal von $A$.
        \item $I\subset \sqrt{I} = \sqrt{\sqrt{I}}$
        \item $\sqrt{I} = (1) \Leftrightarrow I = (1)$
        \item $\fak A{\sqrt{I}}$ hat keine nilpotente Elemente (außer 0).
    \end{enumerate}
    \begin{proof}
        \leavevmode
        \begin{enumerate}
            \item Seien $x, y\in \sqrt{I}$, es existieren also $m, n > 0$ mit $x^m, y^n\in I$. Dann gilt
            \[(x+y)^{m+n-1}=\sum_{r=0}^{m+n-1}{m+n-1 \choose r}\overbrace{x^r}^{\in I \text{ falls } r\geq m}\underbrace{y^{n+m-1-r}}_{\in I \text{ falls } r<m},\]
            also liegt auch $x+y$ in $I$. Die anderen Eigenschaften sind schnell nachgeprüft.
            \item Da $I\subset \sqrt{I}$, folgt sofort $\sqrt{I} \subset \sqrt{\sqrt{I}}$. Ist nun umgekehrt $x\in \sqrt{\sqrt{I}}$, so existiert ein $n>0$ mit $x^n\in \sqrt{I}$, und dann existiert ein $m>0$ mit $(x^n)^m = x^{nm} \in I$ Also liegt $x$ in $\sqrt{I}$.
            \item Die Rückrichtung ist klar. Sei also $\sqrt I=(1)$. Dann exisitert ein $n>0$ mit $1^n \in I$, also liegt $1$ in $I$.
            \item Sei $z\in \fak A{\sqrt{I}}$ mit $z^n=0$. Schreibe $z=x+\sqrt{I}$ für ein $x\in A$. Dann ist $x^n+\sqrt{I} = 0$, also liegt $x^n$ in $\sqrt{I}$ und es folgt $z=0$.
            \qedhere
        \end{enumerate}
    \end{proof}
\end{lem}
\begin{bsp}
    Sei $A=\IZ$ und $I=(a)$. Was ist $\sqrt{(a)}$?

    Für $a=0$ ist $\sqrt{(a)}=(0)$. Sei nun $a\neq 0$, o.B.d.A. $a>0$. Schreibe $a=p_1^{m_1}p_2^{m_2}\ldots p_l^{m_l}$ mit positiven Primzahlen $p_1, \ldots, p_l$ und $p_i\neq p_j$ für $i\neq j$. Dann ist $\sqrt{(a)}=(p_1p_2\ldots p_l)$.

    \begin{proof}
        \leavevmode
        \begin{description}
            \item[\enquote{$\subseteq$}] Ist $x\in \sqrt{(a)}$, so existiert ein $n>0$ mit $x^n \in (a)$. $a$ teilt also $x^n$, weshalb jedes $p_i$ und somit auch ihr Produkt $x$ teilt, woraus $x \in (p_1\ldots p_l)$ folgt.
            \item[\enquote{$\supseteq$}] Ist $x \in (p_1\ldots p_l)$, so wähle $n \ge \max\{m_1,\ldots,m_l\}$. Dann liegt $x^n$ in $(p_1^n\ldots p_l^n \subset (p_1^{m_1}\ldots p_l^{m_l}) = (a)$.
            \qedhere
        \end{description}
    \end{proof}
\end{bsp}
\begin{prop}
    Sei $A$ ein Ring und $I$ ein Ideal in $A$. Dann gilt
    \[\sqrt{I} = \bigcap_{\mathclap{\substack{\fp\in \Spec A,\\ \fp\supset I}}} \fp.\]
\end{prop}
\begin{proof}
    \leavevmode
    \begin{description}
        \item[\enquote{$\subseteq$}] Sei $x\in \sqrt{I}$. Dann existiert ein $n>0$ mit $x^n\in I$.
        Sei $\fp\in \Spec A$ mit $\fp\supset I$. Dann liegt $x^n$ auch in $\fp$, und da $\fp$ ein Primideal ist, folgt $x \in \fp$.
        \item[\enquote{$\supseteq$}] Sei $x\in \bigcap_{\fp\in \Spec A, \fp\supset I}\fp$. Angenommen, $x$ wäre nicht in $\sqrt{I}$; für alle $n>0$ gilt also $x^n\not \in I$.

        Definiere \[\Sigma := \{J \mid J\subset A \text{ Ideal}, I\subset J,\, \forall n>0: x^n\not \in J\}.\]
        Dann ist $(\Sigma, \subset)$ angeordnet (partiell geordnet).
        
        Wir wollen das \textsc{Lemma von Zorn} anwenden.
        \begin{itemize}
            \item $\Sigma \neq \emptyset$ (da $I\in \Sigma$)
            \item Sei $(J_t)_{t\in T}$ mit $T \neq \emptyset$ eine Kette in $\Sigma$, es gilt also $J_t \in \Sigma$ sowie $J_t \subset J_{t'}$ oder $J_t \supset J_{t'}$ für alle $t,t'\in T$.
            Dann ist $\bigcup_{t\in T} J_t$ ein Ideal in $A$ und enthält $I$, aber kein $x^n$ mit $n>0$. Also liegt $\bigcup_{t\in T} J_t$ in $\Sigma$.
        \end{itemize}
        
        Nach dem \textsc{Lemma von Zorn} existiert nun ein $\fp \in \Sigma$, welches maximal in $\Sigma$ bezüglich Inklusion ist. Wir behaupten, dass $\fp$ ein Primideal in $A$ ist.
        \begin{proof}
            Seien $a, b \in A \setminus \fp$. Es ist $ab\in A\setminus \fp$ zu zeigen.
            
            Da $(a)+\fp$ und $(b)+\fp$ echt größer als $\fp$ sind, liegen sie nicht in $\Sigma$. Somit existieren $m,n>0$ mit $x^m \in (a) + \fp$ und $x^n \in (b) + \fp$, weshalb wiederum Elemente $c,d\in A$ und $r,s \in \fp$ existieren, sodass $x^m = ac+r$ und $x^n = bd+s$ gilt. Wir erhalten \[x^{m+n} = (ac+r)(bd+s) = \underbrace{abcd}_{\in (ab)} + \underbrace{rbd + sac + rs}_{\fp} \in (ab)+\fp. \]
            Wäre $ab \in \fp$, so läge $x^{m+n}$ auch in $\fp$, was aber $\fp \notin \Sigma$ bedeuten würde, ein Widerspruch.
        \end{proof}

        Nach unserer Annahme liegt $x=x^1$ in $\fp$, was aber wegen $\fp \in \Sigma$ einen Widerspruch darstellt.
        \qedhere
    \end{description}
\end{proof}

\begin{defi}
    Sei $A$ ein Ring. Dann heißt \[\Jac(A) := \bigcap_{\mathclap{\fm\in \Max{A}}} \fm\] das \emph{Jacobson-Radikal} von $A$.
\end{defi}
\begin{beme}
    \leavevmode
    \begin{enumerate}
        \item $\Jac(A)$ ist ein Ideal von $A$.
        \item Sei $(A, \fm)$ ein lokaler Ring und ein Integritätsbereich. Dann gilt $\Nil(A)=(0)$ und $\Jac(A) = \fm$, d.h. $\Nil(A) \subsetneq \Jac(A)$ falls $A$ kein Körper ist.
        
        Beispielsweise ist $k\llbracket t\rrbracket$ ein lokaler Ring mit $\fm=(t)\neq (0)$ und ist nullteilerfrei, da mit $f=\sum_{i=m}^\infty a_it^i,g=\sum_{i=n}^\infty b_it^i \in k\llbracket t\rrbracket$ mit $a_m,b_n \neq 0$ dann \[ fg = \underbrace{a_mb_nt^{m+n}}_{\neq 0} + \text{ Terme höheren Grades} \neq 0 \] gilt.
    \end{enumerate}
\end{beme}
\begin{prop} \label{prop:jacobson}
    Sei $A$ ein Ring. Dann gilt $\Jac(A) = \{x\in A \mid \forall a\in A: 1-ax\in A^* \}$.
\end{prop}
\begin{proof}
    \leavevmode
    \begin{description}
        \item[\enquote{$\subseteq$}] Sei $x\in \Jac(A)$ und $a\in A$. Angenommen, $1-ax\not \in A^*$. Dann existiert ein $\fm\in \Max(A)$ mit $1-ax\in \fm$, sodass $1=(1-ax)+ax\in \fm$ gilt, Widerspruch.
        \item[\enquote{$\supseteq$}] Sei $x \in A$ mit $1-ax\in A^*$ für alle $a \in A$ sowie $\fm\in \Max(A)$. Angenommen, $x\not \in \fm$. Dann gilt $(x)+\fm=(1)$, es existieren also $a\in A, y\in \fm$ mit $1=ax+y$. Dann folgt aber $\fm \ni y = 1-ax \in A^*$, ein Widerspruch.
        \qedhere
    \end{description}
\end{proof}

\section{Moduln}
\subsection{Grundbegriffe}
\begin{defi}
    Sei $A$ ein Ring. Ein \emph{$A$-Modul} ist Tripel $(M, +, \cdot)$ besteht aus einer Menge $M$ und Abbildungen $+: M\times M \rightarrow M$, $\cdot: A\times M \rightarrow M$, sodass folgendes für alle $a,b\in A$ und $x,y \in M$ gilt:
    \begin{enumerate}
        \item $(M,+)$ ist eine abelsche Gruppe.
        \item $(a+b)x=ax+bx$
        \item $a(x+y)=ax+ay$
        \item $a(bx)=(ab)x$
        \item $1\cdot x=x$
    \end{enumerate}
\end{defi}
\begin{bsp} \label{bsp:moduln}
    \leavevmode
    \begin{enumerate}
        \item Falls $A=k$ Körper: $A$-Modul $=$ $k$-Vektorraum \label{bsp:moduln:i}
        \item $A$ ist selbst ein $A$-Modul, genannt ${}_AA$. \label{bsp:moduln:ii}
        \item Ist $\phi: A\rightarrow B$ ein Ringhomomorphismus, so wird $B$ ein $A$-Modul durch $a\cdot b = \phi(a)\cdot b$.
        \item Ist $A=\IZ$, so sind $A$-Moduln abelsche Gruppen (für $n\in \IZ, n>0: nx=\underbrace{x+x+\ldots+x}_{n\text{ mal}}$).
        \item Sei $A=k[t]$ ($k$ Körper). Sei $V$ ein $k$-Vektorraum und $\psi \in \End_k(V)$. Definiere $k[t] \times V \rightarrow V$ durch $(P,v) \mapsto (P(\psi))v:=\sum_{\nu=0}^n a_\nu(\psi^\nu)(v)$ mit $P(t)=\sum_{\nu=0}^n a_\nu t^\nu$. Dann wird $V$ ein $k[t]$-Modul.
    \end{enumerate}
\end{bsp}
\begin{defi}
    Sei $\phi: A\rightarrow B$ ein Ringhomomorphismus und $N$ ein $B$-Modul. Dann wird $N$ mit $+$ und $\cdot_A: A\times N\rightarrow N$ definiert durch $(a, y) \mapsto \phi(a)\cdot y$ zu einem $A$-Modul. Bezeichnung: ${}_AN$.
\end{defi}
\begin{bsp}
    \leavevmode
    \begin{enumerate}
        \item Mit \cref{bsp:moduln} \ref{bsp:moduln:i} und \ref{bsp:moduln:ii} gilt ${}_AB={}_A({}_BB)$.
        \item Sei $A=k$, $B=k[t]$ und $N$ $k[t]$-Modul.
        Dann ist ${}_kN$ ein $k$-Vektorraum.
        Betrachte $\psi: {}_kN \to {}_kN, y\mapsto t\cdot y$. Dann gilt $\psi\in \End_k({}_kN)$.
        Sei $P(t)=\sum_{\nu=0}^n a_\nu t^\nu\in k[t]$. Dann ist $P\cdot y = \sum_{\nu = 0}^n a_\nu \psi^n(y) = \sum_{\nu = 0}^n a_\nu (t\cdot y) = P\cdot y$ und wir erhalten einen $N = $ $k[t]$-Modul entstanden aus $({}_kN, \psi)$.
    \end{enumerate}
\end{bsp}
\begin{defi}
Seien $M$ und $N$ $A$-Moduln. Eine Abbildung $M\rightarrow N$ heißt \emph{$A$-linear}, wenn $f(x+x')=f(x)+f(x')$ und $f(ax)=af(x)$ für alle $x,x'\in M$ und $a\in A$ gilt.
Bezeichne $\Hom_A(M, N) := \{f \mid  \text{$f: M\rightarrow N$ ist $A$-linear}\}$.
\end{defi}


\lecture{16. April 2018}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Seien $M\xrightarrow{f}N\xrightarrow{g}P$ $A$-linear. Dann ist auch $g\circ f$ $A$-linear.
		\item Seien $M$ und $N$ $A$-Moduln. Dann wird $\Hom_A(M,N)$ zu einem $A$-Modul mit
		\begin{eqnarray*}
			f+g & \colon & M\to N,\, x\mapsto f(x) + g(x)\\
			af & \colon & M\to N,\, x\mapsto af(x)\; (= f(ax))
		\end{eqnarray*}
		für alle $f,g\in\Hom_A(M,N)$ und $a\in A$.
		
		Für die $A$-Linearität von $af$ wird benötigt, dass $A$ ein kommutativer Ring ist.
		\item Sei $\phi\colon A\to B$ ein Ringhomomorphismus sowie $f\colon M\to N$ $B$-linear. Dann ist $f\colon {}_AM\to {}_AN$ $A$-linear. Wir erhalten also eine Injektion $\Hom_B(M,N)\hookrightarrow \Hom_A({}_AM,{}_AN)$.
	\end{enumerate}
\end{beme}
\begin{defi}
	Sei $f\colon M\to N$ eine $A$-lineare Abbildung. $f$ heißt \emph{Isomorphismus} (von $A$-Moduln), wenn $f$ bijektiv ist.
\end{defi}
\begin{beme} Ist $f\colon M\to N$ ein Isomorphismus von $A$-Moduln, so ist $f^{-1}$ ebenfalls $A$-linear. Das heißt, $f$ ist genau dann ein Isomorphismus, wenn ein $A$-lineares $g\colon N\to M$ existiert, sodass $g\circ f = \id_M$ und $f\circ g = \id_N$ gilt.
\end{beme}
\begin{bsp}
	Sei $M$ ein $A$-Modul. Betrachte die Abbildung \begin{eqnarray*}
		M &\to& \Hom_A(A,M)\\
		x&\mapsto & [a\mapsto ax]\enspace .
	\end{eqnarray*}
	Das ist ein Isomorphismus von $A$-Moduln mit Umkehrabbildung
	\begin{eqnarray*}
		\Hom_A(A,M)&\to& M\\
		f &\mapsto& f(1) \enspace .
	\end{eqnarray*}
\end{bsp}
\subsection{Untermoduln}
\begin{defi}
	Sei $M$ ein $A$-Modul. Eine Teilmenge $M'\subseteq M$ heißt \emph{$A$-Untermodul}, falls
	\begin{enumerate}
		\item $0\in M'$ \label{defi:untermodul:i}
		\item $x+x'\in M'$ \label{defi:untermodul:ii}
		\item $ax\in M'$ \label{defi:untermodul:iii}
    \end{enumerate}
    für alle $x,x' \in M'$ und $a \in A$ gelten.

	Falls $M'\subseteq M$ ein $A$-Untermodul ist, ist $M'$ mit den Einschränkungen der Addition und der skalaren Multiplikation von $M$ wieder ein $A$-Modul; die Inklusion $M'\hookrightarrow M$ ist $A$-linear.
	
	Sei $M'\subseteq M$ ein $A$-Untermodul. Dann ist $\fak M{M'}$ (als abelsche Gruppe) mit 
	\begin{eqnarray*}
		A\times \fak M{M'} & \to & \fak M{M'}\\
		(a, x+M') &\mapsto& ax + M'
	\end{eqnarray*}
	ein $A$-Modul. Die Wohldefiniertheit ist schnell nachgerechnet.
	
	Die Quotientenabbildung $\pi\colon M\to \fak M{M'}$ ist $A$-linear (nach der Definition der Skalarmultiplikation).
\end{defi}
\begin{bsp}
	\leavevmode
	\begin{enumerate}
		\item Für $M = {}_AA$ sind die $A$-Untermoduln von ${}_AA$ genau die Ideale von $A$.
		\item Sei $A = k[t]$ und $M$ ein $A$-Modul. Dann ist $M$ eindeutig bestimmt durch $({}_kM, \psi)$, wobei $\psi\in\End_k(M)$ mit $\psi(x) = tx$. Sei $M'\subseteq M$ eine Teilmenge. Dann ist $M'$ genau dann ein $k[t]$-Untermodul, wenn $M'$ ein $k$-Untervektorraum von ${}_kM$ ist und $\psi(M')\subseteq M'$ gilt.
		\begin{proof}
		\leavevmode
		\begin{description}
			\item[\glqq $\Rightarrow$\grqq:] $\checkmark$
			\item[\glqq $\Leftarrow$\grqq:]
            Die Axiome \ref{defi:untermodul:i} und \ref{defi:untermodul:ii} von Untermoduln sind erfüllt, da $M'$ ein Untervektorraum ist. Für Axiom \ref{defi:untermodul:iii} sei $x\in M'$ und $P\in k[t]$ mit $P(t) = \sum a_\nu t^\nu$ mit $a_\nu\in k$. Dann folgt $P\cdot x = \sum a_\nu\psi^\nu(x)\in M'$, da $\psi^\nu(x)$ in $M'$ liegt.
            \qedhere
		\end{description}
		\end{proof}
		\item Sei $I\subseteq A$ ein Ideal, $M$ ein $A$-Modul. Definiere $I\cdot M \coloneqq \{\sum a_ix_i|a_i\in I, x_i\in M\}\subseteq M$. Das ist ein $A$-Untermodul. Beipsielsweise $I = (a)$; dann ist $(a)\cdot M = \{ax|x\in M\}$.
	\end{enumerate}
\end{bsp}
\begin{defi}
	Sei $f\colon M\to N$ eine $A$-lineare Abbildung. Definiere
	\begin{itemize}
		\item $\ker f \coloneqq \{x\in M\mid f(x) = 0\}$,
		\item $\im f \coloneqq f(M)$,
		\item $\coker f\coloneqq N/\im (f)$.
	\end{itemize}
	Der Kern und das Bild von $f$ sind dabei Untermoduln von $M$ bzw. $N$.
\end{defi}
\begin{lem}
	Sei $f\colon M\to N$ eine $A$-lineare Abbildung.
	\begin{enumerate}
        \item Sei $M'\subseteq M$ ein $A$-Untermodul mit $M'\subseteq \ker f$. Dann existiert genau eine Abbildung $\overline{f}\colon \fak M{M'}\to N$, sodass folgendes Diagramm kommutiert.
        \begin{figure}[H]
            \centering
            \begin{tikzcd}
                    M \arrow{r}{f} \arrow{d}{\pi} & N \\
                    \fak M{M'} \arrow[dashrightarrow]{ur}{\overline{f}}
            \end{tikzcd}
        \end{figure} \label{lem:homosatz fuer moduln:i}
        \item Es existiert genau eine $A$-lineare Abbildung $\tilde{f}\colon \fak M{\ker f}\to \im f$, sodass das folgende Diagramm kommutiert.
        \begin{figure}[H]
            \centering
            \begin{tikzcd}
                M \arrow{r}{f} \arrow{d}{\pi} & N \\
                \fak M{\ker f} \arrow[dashrightarrow]{r}{\tilde{f}} & \im f \arrow[hookrightarrow]{u}
            \end{tikzcd}
        \end{figure}
	\end{enumerate}
\end{lem}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item Definiere $\overline{f}\colon \fak M{M'}\to N$ durch $\overline{f}(x+M') = f(x)$ (wohldefiniert, da $M'\subseteq \ker f$). Außerdem ist $\overline{f}$ auch $A$-linear, da $\overline{f}(ax+M') = f(ax) = a(f(x)) = a\overline{f}(x+M')$ gilt.
        \item Wenden wir \ref{lem:homosatz fuer moduln:i} auf $M' = \ker f$ an, so erhalten wir eine eindeutige $A$-lineare Abbildung $\overline{f}\colon \fak M{\ker f}\to N$, sodass
        \begin{figure}[H]
            \centering
            \begin{tikzcd}
                M \arrow{r}{f} \arrow{d}{\pi} & N \\
                \fak M{\ker f} \arrow[dashrightarrow]{ur}{\overline{f}}
            \end{tikzcd}
        \end{figure}
        
        kommutiert. Da $\im\overline{f} = \im f$, folgt
        \begin{figure}[H]
            \centering
            \begin{tikzcd}
                & N  \\
                \fak M{\ker f} \arrow{ur}{\overline{f}}\arrow[dashrightarrow]{r}{\exists!\tilde{f}}	& \im f\arrow[hookrightarrow]{u}
               \end{tikzcd}
        \end{figure}
		
        $\tilde{f}$ ist analog zum Homomorphiesatz für Gruppen bijektiv.
        \qedhere
	\end{enumerate}
\end{proof}

\begin{beme}
	Sei $M$ ein $A$-Modul sowie $M_i\subseteq M$ Untermoduln mit $i\in I$.
	\begin{enumerate}
		\item $\bigcap\limits_{i\in I} M_i$ ist ein Untermodul.
		\item Sei $T\subseteq M$ eine Teilmenge. Definiere
		\[\<T\> \coloneqq \bigcap_{\mathclap{\substack{T\subseteq M'\subseteq M\\\text{$M'$ Untermodul}}}} M'\] als den von $T$ erzeugten Untermodul.
		\item Die Menge $\sum\limits_{i\in I} M_i  \coloneqq \left\{\sum x_i \,\middle|\, \substack{x_i \in M_i \text{ mit }i\in I,\\\text{ nur endlich viele } x_i\neq 0}\right\}$ ist ein Untermodul.
	\end{enumerate}
\end{beme}
\begin{beme}
	Seien $M_i$ $A$-Moduln mit $i\in I$.
	\begin{enumerate}
		\item $\prod\limits_{i\in I} M_i\coloneqq \{(x_i)_{i\in I}\mid x_i\in M_i\}$ ist ein $A$-Modul mit $a(x_i) = (ax_i)$.
		\item $\bigoplus\limits_{i\in I} M_i\coloneqq \{(x_i)_{i\in I}\mid\text{nur endlich viele }x_i\neq 0\}\subseteq \prod\limits_{i\in I}M_i$ ist ein Untermodul.
        \item Sind $M_i\subseteq M$ Untermoduln und $M_i\cap \sum\limits_{j\neq i} M_j = \{0\}$, so ist $\sum\limits_{i\in I} M_i\cong \bigoplus\limits_{i\in I} M_i$.
        \item Falls $M_i = M$ für alle $i \in I$, schreibe $M^I \coloneqq \prod\limits_{i\in I} M_i$ und $M^{(I)}\coloneqq \bigoplus\limits_{i\in I}M_i$.
	\end{enumerate}
\end{beme}

\subsection{Endlich erzeugte Moduln}
\begin{defi}
	Sei $M$ ein $A$-Modul. Sei $\{x_i\}_{i\in I}\subseteq M$. $\{x_i\}$ heißt 
	\begin{itemize}
		\item linear unabhängig (linearly independent)
		\item Erzeugendensystem (generating system)
		\item Basis
	\end{itemize}
	analog zur linearen Algebra.
	\begin{enumerate}
        \item $M$ heißt \emph{frei}, falls eine der folgenden, äquivalenten Aussagen gilt:
        \begin{itemize}
            \item $M$ hat eine Basis.
            \item Es existiert eine Menge $I$, sodass ein Isomorphismus $A^{(I)}\xrightarrow{\cong}M$ existiert.
        \end{itemize}
        \item $M$ heißt \emph{endlich frei}, falls eine der folgenden, äquivalenten Aussagen gilt:
        \begin{itemize}
            \item $M$ hat eine endliche Basis.
            \item Es existiert ein $n \ge 0$, sodass ein Isomorphismus $A^{(I)}\xrightarrow{\cong}M$ existiert.
        \end{itemize}
        \item $M$ heißt \emph{endlich erzeugt}, falls eine der folgenden, äquivalenten Aussagen gilt:
        \begin{itemize}
            \item $M$ hat ein endliches Erzeugendensystem.
            \item Es existiert ein $n \ge 0$, sodass eine surjektive $A$-lineare Abbildung $A^{(I)}\to M$ existiert.
        \end{itemize}
        \item $M$ heißt \emph{endlich präsentiert}, falls ein $n \ge 0$ existiert, sodass eine surjektive $A$-lineare Abbildung $A^{(I)}\xrightarrow{f} M$ existiert, sodass $\ker f$ endlich erzeugt ist.
	\end{enumerate}
\end{defi}
\begin{beme}\label{bem:2.17}
	\leavevmode
	\begin{enumerate}
		\item endlich frei $\Rightarrow$ endlich präsentiert $\Rightarrow$ endlich erzeugt
		\item Falls $A = k$ Körper: endlich erzeugt $\Rightarrow$ endlich frei
		\item Sei $A = \IZ$, $M = \fak \IZ{m\IZ}$. Dann ist $M$ endlich präsentiert, aber nicht endlich frei.
		\item Sei $A = \IZ[T_1,T_2,T_3,\dots]$. Betrachte $\ev_{(T_i = 0)}\colon \IZ[T_1,T_2,\dots]\to \IZ$ und $M = {}_A\IZ$. Dann ist $M$ endlich erzeugt, aber nicht endlich präsentiert, denn $\ker\ev_{(T_i = 0)}= (T_1,T_2,\dots)$, was nicht endlich erzeugt ist.
	\end{enumerate}
\end{beme}
\begin{lem}[Nakayamas Lemma] \label{lem:nakayama}
	Sei $M$ ein endlich erzeugter $A$-Modul und $I\subseteq A$ ein Ideal mit $I \cdot M = M$.
	\begin{enumerate}
		\item \label{lem:nakayama:i} Es existiert ein $a\in I$ mit $(1+a)\cdot M = \{0\}$ \textup(das heißt, für alle $x\in M: (1+a)x = 0$\textup)
		\item Falls $I\subseteq\Jac(A)$, so gilt $M = \{0\}$.
	\end{enumerate}
\end{lem}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item Induktion nach $n$, der minimalen Anzahl der Erzeuger von $M$.
        \begin{description}
            \item[$n = 0$:] $M = 0$, $\checkmark$
            \item[$n-1\to n$:] Sei $x_1,\dots, x_n$ ein Erzeugendensystem von $M$. Definiere $N\coloneqq \fak M{\<x_n\>}$. Sei $\pi \colon M\to N$ die Quotientenabbildung. Dann folgt $N = \<\pi(x_1),\dots,\pi(x_{n-1})\>$. Nun gilt $I\cdot N = N$, da für $y\in N$ ein $x\in M$ mit $\pi(x) = y$ und $x\in I\cdot M$ existiert, und somit $a_i\in I$ sowie $\tilde{x_i}\in M$ mit $x =\sum a_i\pi(\tilde{x_i})\in I\cdot N$ existieren.
		
            Nach der Induktionsannahme existiert ein $b\in I$, sodass $(1+b)\cdot N = \{0\}\subseteq N = \fak M{\<x_n\>}$. Dann gilt
            \begin{align*}
                &\phantom{{}\Rightarrow{}}(1+b)\cdot M\subseteq \<x_n\>\\
                &\Rightarrow (1+b)\cdot M = (1+b)\cdot (I\cdot M) = I\cdot((1+b)\cdot M)\subseteq I \cdot \<x_n\>\\
                &\Rightarrow \exists c\in I: (1+b) x_n = cx_n \\
                &\Rightarrow (1+b-c)x_n = 0\\
                &\Rightarrow (1+b-c)(1+b)M = \{0\}
            \end{align*}
            Dabei ist $(1+b-c)(1+b) = (1+a)$ mit $a = b-c+b^2-bc\in I$.
        \end{description}
        \item Sei $x\in M$. Nach Punkt \ref{lem:nakayama:i} existiert ein $a\in I$ mit $(1+a)x = 0$. Da $a\in \Jac(A)$, folgt nach \cref{prop:jacobson} dann $1+a\in A^{*}$; also gilt $x = 0$.
        \qedhere
	\end{enumerate}
\end{proof}

\lecture{19. April 2018}

Nachtrag zu \cref{bem:2.17}: Sei $A = \IZ[T_1,\dots]$, $\phi = \ev_{T_i = 0}\colon A\to \IZ$ und $M = {}_A\IZ$, also $p\cdot z = p(0,\dots)\cdot z$ für $p\in A, z\in\IZ$. Wir behaupten, dass $M$ (als $A$-Modul) endlich erzeugt, aber nicht endlich präsentiert ist.
\begin{proof}
	$M$ ist offensichtlich endlich erzeugt.
	
	Angenommen, $M$ ist endlich präsentiert. Dann existiert eine surjektive, $A$-lineare Abbildung $ f\colon A^n \twoheadrightarrow M$, sodass $\ker f$ endlich erzeugt ist.
	Sei $e_j = (0,\dots, 1,\dots, 0)\in A^n$, wobei die $1$ im $j$-ten Eintrag steht. Definiere nun $z_j = f(e_j)\in\IZ$. Dann ist $\ker f = \set*{ p = (p_1,\dots, p_n)\in A^n \given \sum_{j=0}^n p_j(0)z_j = 0 }$.
	
	Nach unserer Annahme existieren nun $p^{(1)},\dots, p^{(m)}\in\ker f$ mit $\ker f = \gen{p^{(1)},\dots, p^{(m)}}_A$. Schreibe $p^{(i)} = \left(p_1^{(i)},\dots,p_n^{(i)}\right)$. Wähle $N>0$, sodass $T_N$ in keinem der $p_j^{(i)}$ auftritt. Betrachte $T_n\cdot e_j\in\ker f$. Es existiert dann ein $Q^{(i,j)}\in A$ mit $T_N\cdot e_j = \sum_{i = 1}^nQ^{(i,j)}p^{(i)}$.
	
	Folglich gilt $\sum_{i = 1}^n Q^{(i,j)}p_k^{(i)} = \delta_{jk}T_N$ für alle $1 \le k \le n$. Damit erhalten wir
	\begin{equation}
		\sum_{k=1}^n z_k \cdot \sum_{i=1}^n Q^{(i,j)} p_k^{(i)} = z_jT_n = \sum_{i=1}^nQ^{(i,j)} \cdot \sum_{k =1}^n z_kp_k^{(i)}.	\tag{*}\label{eq:endl erz, aber nicht endl praes}
	\end{equation}
	Wir betrachten nun den Ringhomomorphismus $\phi_n : A \to \IZ[T_N]$ mit $\phi(T_i) = 0$ für $i \neq N$. Wendet man $\phi_n$ auf \eqref{eq:endl erz, aber nicht endl praes} an, so ergibt sich
	\begin{align*}
		\sum_{i=1}^n \phi_n\left(Q^{(i,j)}\right) \cdot \underbrace{\sum_{k=1}^nz_k \phi_n\underbrace{\left(p_k^{(i)}\right)}_{p_k^{i}(0,\ldots)}}_{\mathclap{\text{$\sum_{k=1}^nz_kp_k(0) = 0$, da $p_k^{(i)} \in \ker f$}}} = z_j \cdot \underbrace{\phi_n(T_N)}_{T_n}.
	\end{align*}
	Also gilt $z_j = 0$, und da $j$ beliebig ist, auch $f=0$. Das ist aber ein Widerspruch zur Surjektivität von $f$.
\end{proof}

\begin{kor} \label{kor:2.19}
	Sei $M$ ein $A$-Modul, $N,N' \subseteq M$ $A$-Untermoduln mit $N'$ endlich erzeugt und $I\subseteq \Jac(A)$ ein Ideal in $A$. Falls $M=N + IN'$ gilt, so folgt bereits $M=N$.
\end{kor}
\begin{proof}
	Wir zeigen zunächst, dass $\fak MN$ endlich erzeugt ist. Es gilt $M=N+ I \cdot N \subseteq N+ N' \subseteq M$. Also ist die Komposition $N' \hookrightarrow M \to \fak MN$ surjektiv, weil für $x+ N \in \fak MN$ wegen $M=N+IN'$ dann $y\in N$ und $y' \in N'$ mit $x=y+y'$ existieren, sodass also \[x+N=y+y'+N = y' + N \in \im(N' \hookrightarrow M \to \fak MN) \] gilt. Da $N'$ endlich erzeugt ist und $N' \twoheadrightarrow \fak MN$ surjektiv ist, ist auch $\fak MN$ endlich erzeugt.
	
	Weiterhin gilt $\fak MN = I \cdot \fak MN$, denn für $x+N \in \fak MN$ existieren wegen $M=N+ I\cdot N'$ dann $y' \in N$ sowie $a_i \in I$ und $y_i' \in N'$ mit $x= y' + \sum a_iy_i'$, sodass also $x+ N = \sum a_iy_i' + N = \sum a_i(y_i' + N) $ gilt, was in $I \cdot \fak MN$ liegt. Die andere Inklusion ist trivial.
	
	Mit \namereff{lem:nakayama} folgt nun $\fak MN = \{0\}$, also $M=N$.
\end{proof}
\begin{beme}
	Sei $M$ ein $A$-Modul sowie $I \subseteq A$ ein Ideal.
	\begin{enumerate}
		\item Falls $I \cdot M = \{0\}$, so ist $M$ ein $\fak AI$-Modul via $(A+I) \cdot x = ax$.
		\item Da $I \cdot \fak M{I M} = \{0\}$, ist $\fak M{IM}$ ein $\fak AI$-Modul.
	\end{enumerate}
\end{beme}
\begin{kor}
	Sei $(A,\fm)$ ein lokaler Ring, $M$ ein endlich erzeugter $A$-Modul, $x_1,\ldots,x_n \in M$ sowie $\pi: M \to \fak M{\fm M}$. Falls $\fak{M}{\fm M}$ von $\pi(x_1),\ldots,\pi(x_n)$ als $\fak M\fm$-Vektorraum erzeugt wird, erzeugen die $x_i$ schon $M$ als $A$-Modul.
\end{kor}
\begin{proof}
	Die $\pi(x_i)$ sind ein Erzeugendensystem von $\fak M{\fm M}$ als $\fak A\fm$-Vektorraum, also auch als $A$-Modul. Deshalb gilt $\gen{x_1,\ldots,x_n}_A + \fm M = M$. Mit \cref{kor:2.19} folgt nun $M= \gen{x_1,\ldots,x_n}_A$.
\end{proof}

\subsection{Tensorprodukte}
\begin{defi}
	Seien $M,N,P$ $A$-Moduln Eine Abbbildung $h: M \times N \to P$ heißt \emph{$A$-bilinear}, falls die Abbildungen
	\begin{gather*}
		h(x,-): N \to P, y' \mapsto h(x,y') \\
		h(-,y): M \to P, x' \mapsto h(x',y)
	\end{gather*}
	$A$-linear für alle $x \in M$ und $y \in N$ sind.
\end{defi}
\begin{prop}[Existenz des Tensorprodukts] \label{prop:tensorprodukt}
	Seien $M,N$ $A$-Moduln.
	\begin{enumerate}
		\item Es existiert ein Paar $(T,h)$, wobei $T$ ein $A$-Modul und $h: M \times N \to T$ $A$-bilinear ist, sodass für alle $(P,g)$ mit $P$ $A$-Modul und $g: M \times N \to P$ $A$-bilinear eine eindeutige $A$-lineare Abbildung $\lambda:T \to P$ existiert, sodass das Diagramm \subrefp{prop:tensorprodukt:a} kommutiert. \label{prop:tensorprodukt:i}
		\item Falls $(T',h')$ ein weiteres Paar mit der universellen Eigenschaft \ref{prop:tensorprodukt:i} ist, so existiert ein eindeutiger Isomorphismus von $A$-Moduln $\lambda: T \to T'$, sodass das Diagramm \subrefp{prop:tensorprodukt:b} kommutiert. \label{prop:tensorprodukt:ii}
	\end{enumerate}
	\begin{figure}[H]
		\begin{subfigure}[b]{.5\linewidth}
			\centering
				\begin{tikzcd}
					M \times N \arrow{r}{h} \arrow{rd}[swap]{g} & T \arrow{d}{\lambda} \\
					&P
				\end{tikzcd}
			\caption{}
			\label{prop:tensorprodukt:a}
		\end{subfigure}
		\begin{subfigure}[b]{.5\linewidth}
			\centering
				\begin{tikzcd}
				M \times N \arrow{r}{h}\arrow{rd}[swap]{h'} & T \arrow{d}{\lambda} \\
				& T'
				\end{tikzcd}
			\caption{}
			\label{prop:tensorprodukt:b}
		\end{subfigure}
	\end{figure}
\end{prop}
\begin{proof}
	\leavevmode
	\begin{description}
		\item[zu \ref{prop:tensorprodukt:i}:] 
		Sei $D := A^{(M \times N)}$ der freie Modul mit Basis $M \times N$. Die Elemente von $D$ sind also Linearkombinationen der Form $\sum a_i [x_iy_i]$ mit $a_i \in A$ sowie $x_i \in M$ und $y_i \in N$.
		
		Sei $U \subseteq D$ der $A$-Untermodul erzeugt von
		\begin{align*}
			[ax+a'x',y] - a[x,y]-a'[x',y] \\
			[x,ay+a'y'] - a[x,y]-a'[x',y]
		\end{align*}
		für alle $a,a' \in A$, $x,x' \in M$ und $y,y' \in N$. Betrachte $T := \fak DU$ und
		\begin{eqnarray*}
			h:M \times N &\to& D \to \fak DU \\
			(x,y) &\mapsto& [x,y].
		\end{eqnarray*}
		Nach Konstruktion ist $h$ bilinear.
		
		Nun zur universellen Eigenschaft. Sei hierzu $(P,g)$ mit einem $A$-Modul $P$ und einer $A$-linearen Abbildung $g: M \times N \to P$ gegeben. Betrachte
		\begin{eqnarray*}
			\ol \lambda : D &\to& P,
			[x,y]\mapsto g((x,y)),
		\end{eqnarray*}
		die eundeutig bestimmte $A$-bilineare Abbildung mit dieser Eigenschaft, wie wir nun zeigen.

		Es gilt $\ol \lambda (U) = \{0\}$, da \[ \ol\lambda ([ax+a'x',y]-a[x,y]-a'[x',y]) = g(ax+a'x',y)-ag(x,y)-a'(x',y) = 0 \]
		gilt (die andere Erzeugerdarstellung funktioniert analog).

		Wir erhalten also das folgende kommutative Diagramm.
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				D \arrow{r}{\ol\lambda} \arrow{d}{} & P \\
				\fak DU \arrow[dashrightarrow]{ru}[swap]{\lambda} &
			\end{tikzcd}
		\end{figure}
		Es gilt hierbei $\lambda(h(x,y)) = \lambda([x,y]) = g(x,y)$, also $\lambda \circ h = g$.

		Zur Eindeutigkeit: Sei $h': \fak DU \to P$ eine weitere $A$-lineare Abbildung mit $\lambda' \circ h = g$. Dann gilt $\lambda'([x,y]+U) = \lambda'(h(x,y)) = g(x,y) = \lambda([x,y]+U)$, also folgt $\lambda = \lambda'$, da $\fak DU$ von $\set{[x,y]+U}$ als $A$-Modul erzeugt wird.

		\item[zu \ref{prop:tensorprodukt:ii}:] Sei $(T',h')$ ein weiteres Paar mit der universellen Eigenschaft. Wir erhalten die zwei kommutativen Diagramme \subrefp{prop:tensorprodukt:proof:a} und \subrefp{prop:tensorprodukt:proof:b}.
		\begin{figure}[H]
			\begin{subfigure}[b]{.24\linewidth}
				\centering
					\begin{tikzcd}
						M \times N \arrow{r}{h} \arrow{rd}[swap]{h'} & T \arrow[dashrightarrow]{d}{\exists!\lambda} \\
						&T'
					\end{tikzcd}
				\caption{}
				\label{prop:tensorprodukt:proof:a}
			\end{subfigure}
			\begin{subfigure}[b]{.24\linewidth}
				\centering
					\begin{tikzcd}
						M \times N \arrow{r}{h'} \arrow{rd}[swap]{h'} & T' \arrow[dashrightarrow]{d}{\exists!\lambda'} \\
						&T
					\end{tikzcd}
				\caption{}
				\label{prop:tensorprodukt:proof:b}
			\end{subfigure}
			\begin{subfigure}[b]{.24\linewidth}
				\centering
					\begin{tikzcd}
					M \times N \arrow{r}{h}\arrow{rd}[swap]{h} & T \arrow{d}{\lambda' \circ \lambda} \\
					& T'
					\end{tikzcd}
				\caption{}
				\label{prop:tensorprodukt:proof:c}
			\end{subfigure}
			\begin{subfigure}[b]{.24\linewidth}
				\centering
					\begin{tikzcd}
					M \times N \arrow{r}{h}\arrow{rd}[swap]{h} & T \arrow{d}{\id_T} \\
					& T'
					\end{tikzcd}
				\caption{}
				\label{prop:tensorprodukt:proof:d}
			\end{subfigure}
		\end{figure}
		Vergleiche nun \subrefp{prop:tensorprodukt:proof:c} und \subrefp{prop:tensorprodukt:proof:d}, woraus aber aufgrund der Eindeutigkeit aus \ref{prop:tensorprodukt:i} bereits $\lambda' \circ \lambda = \id_T$ folgt. Analog folgt $\lambda \circ \lambda' = \id_{T'}$, also ist $\lambda = \lambda'$ und $\lambda$ bijektiv.
		\qedhere
	\end{description}
\end{proof}
\begin{defi}
	Das Paar $(T,h)$ aus \cref{prop:tensorprodukt} heißt das \emph{Tensorprodukt} von $M$ und $N$ über $A$. Wir schreiben $T = M \tp_A  N$ sowie $h(x,y) = x \tp y$ für $x \in M$ und $y \in N$.
\end{defi}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Die Notation \enquote{$x \tp y$} kann missverständlich sein, wenn nicht klar ist, was $M$ und $N$ sind.

		Sei beispielsweise $M=\IZ$, $N= \fak \IZ{2\IZ}$, $A = \IZ$ und $M' = 2 \IZ$. Betrachte $x=2$ und $y=1$. Dann gilt $2 \tp 1 = 0$ in $\IZ \tp_\IZ \fak \IZ{2\IZ}$, denn $2 \tp 1 = 2 \cdot 1 \tp 1 = 1 \tp 2 \dot 1 = 0$, aber $2 \tp 1 \neq 0$ in $2\IZ \tp_\IZ \fak \IZ{2 \IZ}$, da $[2,1] \in D \setminus U$. Schönere Begründung (derzeit noch heuristisch): $2\IZ \cong \IZ$ via $2 \mapsto 1$, und somit
		\begin{alignat*}{5}
			&2\IZ \tp \fak \IZ{2\IZ} &&\cong &&\IZ \otimes \fak \IZ{2\IZ} &&\cong &&\fak \IZ{2\IZ}, \\
			&2 \otimes 1 &&\mapsto\; &&1 \tp 1 &&\mapsto\; &&1.
		\end{alignat*}
		\item Die Abbildung $M \times N \xrightarrow{h} M \tp_A N$ ist im Allgemeinen nicht surjektiv, aber $\gen{\im h}_A = M \tp_A N$.
	\end{enumerate}
\end{beme}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Seien $f: M \to N$ und $g: M' \to N'$ $A$-linear. Dann ist $M \times M' \xrightarrow{f \times g} N \times N' \to N \tp_A N'$ $A$-bilinear; wir erhalten also das folgende kommutative Diagramm.
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				M \times M' \arrow{r}{f \times g} \arrow{d}{} & N \times N' \arrow{d}{} \\
				M \tp_A M' \arrow[dashrightarrow]{r}{\exists ! f \tp g} & N \tp_A N'
			\end{tikzcd}
		\end{figure}
		\item Seien $M \xrightarrow{f} N \xrightarrow{g} P$ $A$-linear. Dann gilt $(g \circ g) \tp \id_{M'} = (g \tp \id_{M}) \circ (f \tp \id_{M})$.
	\end{enumerate}
\end{beme}
\begin{prop}
	Seien $M,N,P$ $A$-Moduln. Dann existieren eindeutig bestimmte Isomorphismen.
	\begin{enumerate}
		\item $M \tp_A N \xrightarrow{\cong} N \tp_A M, x \tp y \mapsto y \tp x$ \label{prop:tensorisos:i}
		\item $(M \oplus N) \tp_A P \xrightarrow{\cong} (M \tp_A P) \oplus (N \tp_A P), (x,y)\tp z  \mapsto (x \tp z,y\tp z)$ \label{prop:tensorisos:ii}
		\item $(M \tp_A N) \tp_A P \xrightarrow{\cong} M \tp_A (N \tp_A P), (x \tp y) \tp z \mapsto x \tp (y \tp z)$ \label{prop:tensorisos:iii}
		\item $A \tp_A M \xrightarrow{\cong} M, (a \tp x) \mapsto ax$ \label{prop:tensorisos:iv}
	\end{enumerate}
\end{prop}

\lecture{23. April 2018}

\begin{proof}
	% TODO: hier fehlt noch einiges (oder wurde nur ii) bewiesen?)
	HIER FEHLEN POTENTIELL NOCH TEILE DES BEWEISES!!!
	\begin{description}
		\item[Beweis von \ref{prop:tensorisos:ii}:] Die Abbildung $(M\oplus N)\times P \to (M\tp_AP) \oplus(N\tp_AP), ((x,y),z)\mapsto (x\tp z, y\tp z)$ ist $A$-bilinear, folglich faktorisiert sie über das Tensorprodukt $(M\oplus N)\tp_aP$:
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				(M\oplus N)\times P \arrow{r}\arrow{d}& Y(M\tp_AP)\oplus(N\tp_AP) \\
				(M\oplus N)\tp_AP \arrow[dashrightarrow]{ru}[swap]{\exists!\lambda}
			\end{tikzcd}
		\end{figure}
		Folglich gilt: $\lambda((x,y)\tp z) = (x\tp z, y\tp z)$.

		Wir konstruieren nun eine Umkehrabbildung. Betrachte hierzu die Abbildung
		\begin{gather*}
			i_M: M \to M \tp N, x \mapsto (x,0) \\
			i_N : N \to M \tp N, y \mapsto (0,y)
		\end{gather*}
		und das folgende kommutative Diagramm.
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				M \tp_A P \arrow{r}{i_M \circ \id_P} \arrow{rd}[swap]{i_{M \tp_A P}} & (M \oplus N) \tp_A P & N \tp_A P \arrow{l}[swap]{i_N \circ \id_P} \arrow{ld}{i_{N \tp_A P}} \\
				& (M \tp_A P) \oplus (N \tp_A P) \arrow[dashrightarrow]{u}{\exists!\lambda'}
			\end{tikzcd}
		\end{figure}
		Nun gilt
		\begin{align*}
			\lambda'(x \tp z, y \tp z') &= \lambda'(x \tp z,0)+ \lambda'(0,y \tp z') = \lambda'(i_{M \tp_A P}(x \tp z))+ \lambda'(i_{N \tp_A P}(y \tp z')) \\
			&= (i_M \tp \id_P)(x \tp z) + (i_N \tp \id_P)(y \tp z') = (x,0) \tp z + (0,y) \tp z',
		\end{align*}
		also folgt aufgrnd der Bilinearität des Tensorprodukts \[ (\lambda \circ \lambda')((x,y)\tp z) = \lambda'(x \tp z, y \tp z) = (x,0) \tp z + (0,y) \tp z = (x,y)\tp z .\]
		Genauso erhalten wir $(\lambda circ \lambda')(x \tp z,y \tp z') = (x\tp z, y \tp z')$, also folgt $\lambda' \circ \lambda = \id$ und $\lambda \circ \lambda' = \id$.
		\qedhere
	\end{description}
\end{proof}
\begin{kor}
	Sei $M$ bzw. $N$ ein freier $A$-Modul mit Basis $(x_i)_{i \in I}$ bzw. $(y_j)_{j\in J}$. Dann ist $M \tp_A N$ ein freier $A$-Modul mit Basis $(x_i\tp y_j)_{i \in I, j\in J}$.
\end{kor}
\begin{proof}
	Es gilt $M \cong \bigoplus\limits_{i\in I} A$ und $N \cong \bigoplus\limits_{j\in J} A$. Daraus folgt \[ M \tp_A N \cong  \bigoplus_{i\in I} A \tp_A \bigoplus_{j\in J} A \cong \bigoplus_{i \in I}\underbrace{(A \tp_A N)}_{\cong N} \cong \bigoplus_{i\in I}\bigoplus_{j\in J}A. \qedhere \]
\end{proof}
\begin{prop}[Adjunktion von $\tp$ und $\Hom$]
	Seien $M,N,P$ $A$-Moduln. Dann existiert ein eindeutiger Isomorphismus von $A$-Moduln
	\begin{eqnarray*}
		\Phi: \Hom_A (M \tp_A , P ) &\xlongrightarrow{\cong}& \Hom_A(M, \Hom_A(N, P)), \\
		f &\mapsto& x \mapsto (y \mapsto f(x \tp_A y)).
	\end{eqnarray*}
\end{prop}
\begin{proof}
	$\Phi$ ist wohldefiniert und $A$-linear. Wir suchen nun eine Umkehrfunktion $\Psi : \Hom_A(M, \Hom_A(N, P)) \to \Hom_A (M \tp_A , P )$. Sei $g \in \Hom_A(M, \Hom_A(N,P))$. Betrachte
	\begin{figure}[H]
		\centering
		\begin{tikzcd}
			(x,y) \arrow[mapsto]{r}{} & (g(x))(y) \\
			M \times N \arrow{r}{} \arrow{d}{} & P \\
			M \tp_A N \arrow[dashrightarrow]{ru}[swap]{\exists! \Psi(g)}
		\end{tikzcd}
	\end{figure}
	$\Psi(g)$ ist $A$-linear, da $g$ und $g(x)$ $A$-linear sind. Nun folgt
	\begin{align*}
		(\Psi(g))(x \tp y) &= (g(x))(y) \\
		((\psi \circ \phi)(f))(x \tp y) &= ((\phi(f))(x))(y) = (f(x \tp \mathunderscore))(y) = f(x \tp y) \\
		((\phi \circ \psi)(g))(x) &= (\psi(g))(x \tp \mathunderscore) = (g(x))(\mathunderscore) = g(x). \qedhere
	\end{align*}
\end{proof}

\subsection{Flache Moduln}
\begin{defi}
	Eine Sequenz von $A$-Moduln \[ \ldots \longrightarrow M_{i-1} \xlongrightarrow{f_{i-1}} M_i \xlongrightarrow{f_{i}} M_{i+1} \longrightarrow \ldots \] (Sequenz kann endlich sein, aber auch unendlich nach links, rechts oder nach beiden Seiten) heißt \emph{exakt} wenn $\im f_{i-1} = \ker f_i$ für alle $i \in \IZ$ gilt. Insbesondere gilt:
	\begin{eqnarray*}
		0 \longrightarrow M' \xlongrightarrow{f} M \text{ exakt} &\Longleftrightarrow& \text{$f$ injektiv} \\
		M \xlongrightarrow{g} M' \longrightarrow 0 \text{ exakt} &\Longleftrightarrow& \text{$g$ surjektiv}
	\end{eqnarray*}
	Eine \emph{kurze exakte Sequenz} ist von der folgenden Form:
	\begin{eqnarray*}
		0 \longrightarrow M' \xlongrightarrow{f} M \xlongrightarrow{g} M'' \longrightarrow 0 &\Longleftrightarrow& \text{$f$ injektiv, $g$ surjektiv, $\im f = \ker g$}
	\end{eqnarray*}
\end{defi}
\begin{prop}
	\leavevmode
	\begin{enumerate}
		\item Sei
		\begin{equation}
			M_1 \xlongrightarrow{f_1} M_2 \xlongrightarrow{f_2} M_3 \longrightarrow 0 \tag{*} \label{prop:homexakt:i:eq}
		\end{equation}
		eine Sequenz von $A$-Moduln mit $g \mapsto g \circ f_i$. Dann sind äquivalent:
		\begin{enumerate}
			\item \eqref{prop:homexakt:i:eq} ist exakt.
			\item Für alle $A$-Moduln $N$ ist die Sequenz \[ 0 \longrightarrow \Hom_A(M_3, N) \xlongrightarrow{f_2^*} \Hom_A(M_2,N) \xlongrightarrow{f_1^*} \Hom_A(M_1,N) \] exakt.
		\end{enumerate} \label{prop:homexakt:i}
		\item Sei
		\begin{equation}
			0 \longrightarrow N_1 \xlongrightarrow{g_1} N_2 \xlongrightarrow{g_2} N_3 \tag{**} \label{prop:homexakt:ii:eq}
		\end{equation}
		eine Sequenz von $A$-Moduln mit $f \mapsto g_i \circ f$. Dann sind äquivalent:
		\begin{enumerate}
			\item \eqref{prop:homexakt:ii:eq} ist exakt.
			\item Für alle $A$-Moduln $M$ ist die Sequenz \[ 0 \longrightarrow \Hom_A(M, N_1) \longrightarrow \Hom_A(M,N_2) \longrightarrow \Hom_A(M,N_3) \] exakt.
		\end{enumerate} \label{prop:homexakt:ii}
		\item Sei \eqref{prop:homexakt:i:eq} wie in \ref{prop:homexakt:i}. Falls \eqref{prop:homexakt:i:eq} exakt und $N$ ein $A$-Modul ist, so ist die Sequenz \[ M_1 \tp_A N \xlongrightarrow{f_1 \tp \id_N} M_2 \tp_A N \xlongrightarrow{f_2 \tp \id_N} M_3 \tp_A N \longrightarrow 0 \] exakt. \label{prop:homexakt:iii}
	\end{enumerate}
\end{prop}
\begin{proof}
	\leavevmode
	\begin{description}
		\item[zu \ref{prop:homexakt:i} und \ref{prop:homexakt:ii}:] siehe \href{http://www.math.uni-bonn.de/ag/stroppel/Franzen_Algebra_1_Uebung/Blatt3.pdf}{Übungsblatt 3}.
		\item[zu \ref{prop:homexakt:iii}:] Sei \eqref{prop:homexakt:i:eq} exakt und $P$ ein $A$-Modul. Dann folgt mit \ref{prop:homexakt:i}
		\begin{figure}[H]
			\centering
			\begin{tikzpicture}[baseline= (a).base]
				\node[scale=.85] (a) at (0,0){
					\begin{tikzcd}
						0 \arrow{r}{} & \Hom_A(M_3, \Hom_A(N,P)) \arrow{r}{f_2^*} \arrow[Cong]{d}{\;\text{ Adj}} & \Hom_A(M_2, \Hom_A(N,P)) \arrow{r}{f_1^*} \arrow[Cong]{d}{} & \Hom_A(M_1, \Hom_A(N,P)) \arrow[Cong]{d}{} \\
						0 \arrow{r}{} &\Hom_A(M_3 \tp_A N, P) \arrow{r}{(f_2 \tp \id_N)^*} & \Hom_A(M_2 \tp_A N, P) \arrow{r}{(f_1 \tp \id_N)^*} & \Hom_A(M_1 \tp_A N, P)
					\end{tikzcd}
				};
			\end{tikzpicture}
		\end{figure}
		Da die obere Sequenz exakt ist, ist auch die untere Sequenz exakt ist. Da $P$ beliebig ist, folgt wieder mit \ref{prop:homexakt:i} die gewünschte Exaktheit.
		\qedhere
	\end{description}
\end{proof}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Sei $f: M\to M'$ eine surjektive $A$-lineare Abbildung. Dann ist $f \tp_A \id_N : M \tp_A N \to M' \tp_ A N $ auch surjektiv.
		\item Ist $f$ injektiv, so ist $f \tp \id_N$ nicht notwengierweise injektiv. Sei beispielsweise $a \in A \setminus A^*$ kein Nulteiler. Betrachte $f: A \to A, x \mapsto ax$. Da $a$ kein Nullteiler ist, ist $f$ injektiv. Betrachte nun $N = \fak A{(a)}$ und das folgende Diagramm.
		\begin{figure}[H]
			\centering
			\begin{tikzcd}
				A \tp_A \fak A{(a)} \arrow{r}{f \tp \id} \arrow[Equals]{d}{} & A \tp_a \fak A{(a)} \arrow[Equals]{d}{} \\
				\fak A{(a)} \arrow{r}{ax \mapsto ax} & \fak A{(a)}
			\end{tikzcd}
		\end{figure}
	\end{enumerate}
\end{beme}
\begin{defi}
	Ein $A$-Modul $N$ heißt \emph{flach} (\enquote{flat}), wenn für alle $A$-linearen injektiven Abbildungen $f: M' \to M$ dann auch \[ f \tp \id_N : M' \tp_A N \to M \tp_A N \] injektiv ist.
\end{defi}
\begin{bsp}
	\leavevmode
	\begin{enumerate}
		\item Wenn $N$ frei ist, ist $N$ auch flach.
		\begin{proof}
			Ist $N$ frei, so gilt $\bigoplus_{i \in I} A \cong N$. Sei $f: M' \to M$ injektiv. Betrachte nun das folgende Diagramm.
			\begin{figure}[H]
				\centering
				\begin{tikzcd}
					M' \tp_A N \arrow{r}{f \circ \id_N} \arrow[Cong]{d}{} & M \tp_A N  \arrow[Cong]{dd}{}\\
					\bigoplus_{i \in I}(M' \tp_A A) \arrow[Cong]{d}{}  \\
					\bigoplus_{i \in I} M' \arrow{r}{} & \bigoplus_{i \in I} M \\
					(x_i) \arrow[mapsto]{r}{} &(f(x_i))
				\end{tikzcd}
			\end{figure}
		\end{proof}
		\item Ist $a \in A \setminus A^*$ kein Nulteiler, so ist $\fak A {(a)}$ nicht flach.
	\end{enumerate}
\end{bsp}
\begin{prop}
	Sei $N$ ein $A$-Modul. Dann sind äquivalent:
	\begin{enumerate}
		\item $N$ ist flach. \label{prop:flach:i}
		\item Falls \[ 0 \longrightarrow M' \longrightarrow M \longrightarrow M'' \longrightarrow 0 \] exakt ist, so ist auch \[ 0 \longrightarrow M' \tp_A N \longrightarrow M \tp_a N \longrightarrow M'' \tp_A N \longrightarrow 0 \] exakt. \label{prop:flach:ii}
		\item Falls \[ \ldots \longrightarrow M_{i-1} \xlongrightarrow{f_{i-1}} M_i \xlongrightarrow{f_{i}} M_{i+1} \longrightarrow \ldots \] exakt ist, so ist auch \[ \ldots \longrightarrow M_{i-1}\tp_A N \xlongrightarrow{f_{i-1}\tp\id} M_i\tp_A N \xlongrightarrow{f_{i}\tp\id} M_{i+1}\tp_A N \longrightarrow \ldots \] exakt. \label{prop:flach:iii}
	\end{enumerate}
\end{prop}
\begin{proof}
	Die Implikationen \enquote{\ref{prop:flach:iii} $\Rightarrow$ \ref{prop:flach:ii}} und \enquote{\ref{prop:flach:ii} $\Rightarrow$ \ref{prop:flach:i}} sind klar. Gelte also \ref{prop:flach:i}. Betrachte nun das folgende Diagramm.
	\begin{figure}[H]
		\centering
		\begin{tikzcd}
			&&&0 \arrow[blue]{d}{}&0 \\
			&&& \im f_i \arrow[red]{ru} \arrow[blue]{d}{} \\
			& M_{i-1} \arrow{r}{f_{i-1}} \arrow[green]{d}{\pi} & M_i \arrow[red]{ru}{\tilde f_i} \arrow{r}{f_i} & M_{i+1} \\
			& \fak {M_{i-1}}{\ker f_{i-1}} \arrow[red]{ru}{\tilde f_{i-1}} \arrow[green]{d} \\
			0 \arrow[red]{ru}{} & 0
		\end{tikzcd}
	\end{figure}
	Wir nennen die grüne bzw. rote bzw. blaue Sequenz \circled{1} bzw. \circled{2} bzw. \circled{3}. Diese sind jeweils exakt. Da $N$ flach ist, bleiben \circled{1}, \circled{2} und \circled{3} nach dem Tensorieren ($\hat= \, \mathunderscore \tp_a N$) exakt. Somit gilt:
	\begin{figure}[H]
		\centering
		\begin{tikzcd}[sep=3cm]
			\im(\tilde f_{i-1} \tp \id_N) \arrow[equal]{r}{\text{Exaktheit von \enquote{$\circled{2} \tp N$}}} \arrow[equal]{d}[swap]{\text{Exaktheit von \enquote{$\circled{1} \tp N$}}} & \ker(\tilde f_i \tp \id_N) \arrow[equal]{d}{\text{Exaktheit von \enquote{$\circled{3} \tp N$}}} \\
			\im(f_{i-1}\tp \id_N) & \ker(f_i\tp\id_N)
		\end{tikzcd}
	\end{figure}
	Wir beweisen $\im(\tilde f_{i-1}\tp\id_N) = \im(f_{i-1} \tp \id_N)$ noch genauer.
	\begin{description}
		\item[\enquote{$\supseteq$}] Klar.
		\item[\enquote{$\subseteq$}] Sei $x \in \im(\tilde f_{i-1}\tp\id_N)$. Dann existiert ein $y \in \fak {M_{i-1}}{\ker f_{i-1}}$ mit $(\tilde f_{i-1}\tp\id_N)(y) = x$. Da $\pi \tp \id_N$ surjektiv ist, existiert ein $z \in M_{i-1} \tp N$ mit $(pi \tp \id_N)(z) = y$. Dann gilt $x = (\tilde f_{i-1} \tp \id_N)((\pi \tp \id_N)(z)) = (f_{i-1}\tp \id_N)(z)$.
	\end{description}
	Somit gilt \ref{prop:flach:iii}.
\end{proof}

\lecture{26. April 2018}

\section{Algebren}
\subsection{Grundbegriffe}
\begin{defi}
	Sei $A$ Ring. Eine $A$-Algebra ist Paar $(B,\phi)$, wobei $B$ ein Ring ist und $\phi\colon A\to B$ Ringhomomorphismus. Kurz: $B$ ist $A$-Algebra (statt $(B,\phi)$).
\end{defi}
\begin{beme}
	\leavevmode
	\begin{enumerate}
		\item Jeder Ring ist $\IZ$-Algebra auf eindeutige Art
		\item Ist $B$ eine $A$-Algebra $\Rightarrow$ ${}_AB$ ist $A$-Modul. Multiplikation $B\times B\to B$ ist $A$-bilinear.
		\item Wenn $B$ eine $A$-Algebra ist und $C$ eine $B$-Algebra, dann ist $C$ auch eine $A$-Algebra (durch Verknüpfung der Abbildungen).
	\end{enumerate}
\end{beme}
\begin{defi}
	Seien $(B, \phi_B),(C,\phi_C)$ $A$-Algebren. Ein Ringhomomorphismus $f\colon B\to C$ heißt $A$-Algebrenhomomorphismus, wenn folgendes Diagramm kommutiert:
	\begin{center}
	\begin{tikzcd}
		B \arrow{r}{f}  & C \\
		A \arrow{u}{\phi_B}\arrow{ur}[swap]{\phi_C}	& \\
	\end{tikzcd}
	\end{center}
\end{defi}
\begin{bsp}
	Sei $B$ eine $A$-Algebra, $b\in B$. Betrachte den Ringhomomorphismus $\ev_b\colon A[t]\to B$. Dann kommutiert
	\begin{center}
	\begin{tikzcd}
		A[t] \arrow{r}{\ev_b}  & B \\
		A \arrow{u}{}\arrow{ur}{}	& \\
	\end{tikzcd}
	\end{center}
	Folglich ist $\ev_b$ ein $A$-Algebrenhomomorphismus.
\end{bsp}

\begin{defi}
	Sei $B$ eine $A$-Algebra. $B$ heißt endlich erzeugte $A$-Algebra, wenn $\exists n>0, \exists b_1, \dots, b_n\in B$, sodass
	$$\ev_{b_1,\dots, b_n}\colon A[t_1,\dots, t_n] \longto B$$
	surjektiv ist.
\end{defi}

\begin{beme}
	Sei $B$ eine $A$-Algebra. Falls ${}_AB$ endlich erzeugter $A$-Modul ist, dann ist $B$ endlich erzeugte $A$-Algebra; die Umkehrung ist im Allgemeinen falsch (Gegenbeispiel ist z.B. der Polymomring).
\end{beme}

\begin{lem}
	Sei $B$ eine $A$-Algebra, $N$ ein $B$-Modul. Falls $N$ endlich erzeugter $B$-Modul ist, ${}_AB$ endlich erzeugt als $A$-Modul, dann ist ${}_AN$ endlich erzeugt als $A$-Modul.
\end{lem}
\begin{proof}
	Sei $\{y_1,\dots, y_n\}$ Erzeugendensystem von $N$ als $B$-Modul und $\{x_1,\dots, x_m\}$ ein Erzeugendensystem von $B$ als $A$-Modul. Dann ist aber $\{x_iy_i\}$ Erzeugendensystem von ${}_AN$ als $A$-Modul.
\end{proof}

\subsection{Skalarerweiterung}
\begin{bem}
	Sei $M$ ein $A$-Modul, $B$ eine $A$-Algebra. Betrachte $B\tp_AM$. Fixiere $b'\in B$. Betrachte die Abbildung
	$\begin{array}{ccccc}
	B\times M & \longto & B\times M & \longto & B\tp_AM\\
	(b,x) & \longmapsto & (b'b,x) & \longmapsto & b'b\tp x
	\end{array}$
	Diese Abbildung ist bilinear ($\tp_A$ ist $A$-bilinear, Multiplikation auf $B$ ist $A$-bilinear).
	
	\begin{tikzcd}
		(b,x)\longmapsto & (b'bx)\\ %TODO: FIX THIS!!!
		B\times M \arrow{r}{}\arrow{d}  & B\times M\arrow{d} \\
		B\tp_AM \arrow{r}[swap]{\exists ! m_b A-\text{linear}}	& B\tp_AM \\
	\end{tikzcd} %TODO: unteren Pfeil gestrichelt machen
\end{bem}
\begin{defi}
	Definiere nun 
	\begin{eqnarray*}
		m\colon B\times B\tp_AM&\longto& B\tp_AM\\
		(b', y) & \longmapsto & m_{b'}(y)
	\end{eqnarray*}

	Behauptung: $(B\tp_AM, +,\cdot)$ ist $B$-Modul.
	\begin{proof}
	Exemplarisch Assoziativität: Seien $b'',b'\in B$ und $y\in B\tp_AM$. Zeige $m(b'', m(b',y)) = m(b''b', y)$. Sei $y = \sum b_i\tp x_i$ für $b_i7in B, x_i\in M$.
	
	Dann ist $m(b'', m(b', \sum b_i\tp x_i)) = m(b'', \sum b'b_i\tp x_i) = \sum b''b'b_i\tp x_i = m(b''b', \sum b_i\tp x_i)$.	
	\end{proof}
	$B\tp_AM$ heißt Skalarerweiterung von $M$ nach $B$. (extension of scalars) %TODO: füge literaturverweis zu ext. of scalars ein
	
\end{defi}
\begin{beme}
	Sei $f\colon M\to N$ $A$-linear, $B$ eine $A$-Algebra. Dann ist $\id_B\tp f\colon B\tp_AM\to B\tp_AM$ $B$-linear.
\end{beme}
\begin{proof}
	Sei $b'\in B, y = \sum b_i\tp x_i\in B\tp_AM$. Dann gilt:
	$$(\id_B\tp f)(b'\cdot(\sum b_i\tp x_i)) = (\id_B\tp f)(\sum b'b_i\tp x_i) =\sum \id_B(b'b_i)\tp f(x_i) = $$
	$$=\sum b'b_i\tp f(x_i) = b'(\sum b_i\tp f(x_i)) = b'(\id_b\tp f)(\sum b_i\tp x_i)$$ %TODO: fix this hässlichkeit
\end{proof}


\begin{satz}[Adjunktion von Skalarerweiterung und Restriktion der Skalare]
	Sei $B$ eine $A$-Algebra, $M$ ein $A$-Modul, $N$ ein $B$-Modul.
	\begin{enumerate}
		\item Sei $f\colon M\to {}_AN$ $A$-linear. Dann existiert genau ein $f_B\colon B\tp_AM\to N$ $B$-linear mit $f_B(b\tp x) = bf(x)$
		\item Die Abbildung $\Phi\colon \Hom_A(M,{}_AN)\to \Hom_B(B\tp_AM,N), f\mapsto f_B$ ist $A$-linear und bijektiv.
	\end{enumerate}
\end{satz}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item Betrachte $B\times M\to N, (b,x)\mapsto bf(x)$. Das ist $A$-bilinear ($f$ ist $A$-linear und $B$ ist $A$-Algebra). Folglich kommutiert:
		\begin{center}
			\begin{tikzcd}
				B\times M \arrow{r}\arrow{d}  & N \\
				B\tp_AM \arrow{ur}[swap]{\exists! f_B A-\text{linear}}	& \\
			\end{tikzcd}
		\end{center}
		Zeige: $f_B$ ist $B$-linear (so wie in Bemerkung 3.9) %TODO: Referenz einfügen
		\item Konstruiere Umkehrabbildung $\Psi\colon \Hom_B(B\tp_AM,N)\to \Hom_A(M,{}_AN)$. Sei $g\colon B\tp_AM\to N$. Definiere $\Psi(g) \coloneqq g(1\tp \_)\colon M\to N, x\mapsto g(1\tp x)$.
		Dabei ist $g(1\tp\_)$ tatsächlich $A$-linear: $g(1\tp ax ) = g(a(1\tp x)) = ag(1\tp x)$.
		
		Zeige nun noch $(\Psi\circ \Phi)(f) = f$ und $(\Phi\circ\Psi)(g) = g$:
		$$((\Psi\circ\Phi)(f))(x) = (\Phi(f))(1\tp x) = f_b(1\tp x) =1\cdot f(x)$$
		und
		$$((\Phi\circ\Psi)(g))(b\tp x) = (\Psi(g))_B(b\tp x) = b\cdot (\Psi(g))(x) = b\cdot g(1\tp x) = g(b\tp x)$$
		Kurzes Nachrechnen liefert schließlich, dass $\Phi$ auch $A$-linear ist.
	\end{enumerate}	
\end{proof}
\begin{lem}
	Sei $B$ eine $A$-Algebra, $N$ ein $B$-Modul, $M$ ein $A$-Modul.
	\begin{enumerate}
		\item $N\tp_AM$ ist ein $B$-Modul via $b\cdot(\sum y_i\tp x_i) = \sum by_i\tp x_i$.
		\item $\exists!$ Isomorphismus $N\tp_AM\to N\tp_B(B\tp_AM)$ von $B$-Moduln mit $y\tp x\mapsto y\tp (1\tp x)$.
	\end{enumerate}
\end{lem}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item So wie Erweiterung der Skalare
		\item Übung
	\end{enumerate}
\end{proof}


\begin{satz}
	Sei $B$ eine $A$-Algebra, $C$ eine $B$-Algebra und $M$ ein $A$-Modul. Dann existiert genau ein Isomorphismus
	$$C\tp_A M  \longmapsto  C\tp_B(B\tp_AM)$$
	von $C$-Moduln mit $c\tp x\mapsto c\tp(1\tp x)$.
\end{satz}
\begin{proof}
	Aus Lemma 3.11 folgt: Es existiert genau ein Isomorphismus von $B$-Moduln
	$$ f\colon C\tp_AM\longto C\tp_B(B\tp_AM)$$
	mit $f(c\tp x) = c\tp(1\tp x)$. Zeige nun noch: $f$ ist $C$-linear.
	
	Sei $z = \sum c_i\tp x_i, c\in C$: 
	$$f(c\sum c_i\tp x_i) = f(\sum cc_i\tp x_i ) = \sum f(cc_i\tp x_i) = \sum cc_i\tp(1\tp x_i) = c\sum c_i\tp(1\tp x_i)$$
\end{proof}

\begin{satz}
	Sei $B$ eine $A$-Algebra, $M$ ein $A$-Modul, $(P)$ eine der folgenden Eigenschaften:
	\begin{enumerate}
		\item frei
		\item endlich erzeugt
		\item endlich präsentiert
		\item flach.
	\end{enumerate}	
	Dann gilt: Falls $M$ die Eigenschaft $(P)$ als $A$-Modul hat, hat $B\tp_AM$ die Eigenschaft $(P)$ als $B$-Modul.
\end{satz}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item frei: Sei $M$ freier $A$-Modul $\Rightarrow M \cong \bigoplus\limits_{i\in I}A\Rightarrow B\tp_AM\cong B\tp (\bigoplus\limits_{i\in I}A) \cong \bigoplus\limits_{i\in I}(B\tp_A A) \cong \bigoplus\limits_{i\in I} B$ als $B$-Moduln (Bemerkung 3.9).
		\item endlich erzeugt: Sei $M$ endliche erzeugter $A$-Modul, das heißt:
		$$\exists f\colon A^n\to M$$ surjektiv und $A$-linear. Folglich ist
		$$\id_B\tp f\colon B\tp_AA^n\to B\tp_AM$$ surjektiv nach Proposition 2.31 und $B$-linear nach Bemerkung 3.9. Aber wir haben eben gesehen, dass $B\tp_AA^n \cong B^n\Rightarrow B\tp_AM$ endlich erzeugt.
		\item endlich präsentiert: $M$ endlich präsentiert als $A$-Modul $\Rightarrow\exists$ exakte Sequenz der Form
		$$A^m \longto A^n \longto M\longto 0$$
		(Denn aus $M$ endlich präsentiert folgt $\exists f\colon A^n to M$ surjektiv, $\ker f$ endlich erzeugt, also existiert $g\colon A^m\to \ker f$ surjektiv. Betrachte $g'\colon A^m\to \ker g\to A^n$: hier gilt $\im(g') = \ker g$)
		
		Aus Satz 2.31 folgt nun, dass es folgende exakte Sequenz gibt:
		$$B\tp A^m \longto B\tp A^n \longto B\tp_AM\longto 0$$
		Damit ist auch $B\tp_AM$ endlich präsentiert als $B$-Modul.
		\item flach: Übung.
	\end{enumerate}
\end{proof}

\lecture{30. April 2018}
\begin{satz}
	Sei $A$ ein Ring, $B$ und $C$ seien $A$-Algebren.
	\begin{enumerate}
		\item Es existiert eine eindeutig bestimmte  $A$-bilineare Abbildung
		$$m\colon B\otimes_A C\times B\otimes_A C\longto B\otimes_A C$$
		mit $m(b\otimes c, b'\otimes c') = bb'\otimes cc'$.
		\item $(B\otimes_AC, +, m)$ ist ein Ring (sogar $A$-Algebra)
		\item Die Abbildungen
		$
		\begin{array}{rclrcl}
			B&\longto& B\otimes_AC,&b&\longmapsto&b\otimes 1\\
			C&\longto& B\otimes_AC,&c&\longmapsto&1\otimes c
		\end{array}$
		sind Ringhomomorphismen.
		\item Das Diagramm
		\begin{center}
		\begin{tikzcd}
			B\otimes_A C  & B \arrow{l}[swap]{b\mapsto b\otimes 1} \\
			C \arrow{u}{c\mapsto 1\otimes c}	& A\arrow{l}\arrow{u} \\
		\end{tikzcd}
		\end{center}
		kommutiert.
		\item Ist $D$ ein Ring und sind $B\xrightarrow{\phi} D, C\xrightarrow{\psi}D$ Ringhomomorphismen, sodass
		\begin{center}
		\begin{tikzcd}
			B\otimes_A C  & B \arrow{l}{\phi} \\
			C \arrow{u}{\psi}	& A\arrow{l}\arrow{u} \\
		\end{tikzcd}
		\end{center}
		kommutiert, dann existiert genau ein Ringhomomorphismus $\lambda\colon B\otimes_AC\to D$ mit %TODO: insert pushout-diagram here
	\end{enumerate}
\end{satz}
\begin{proof}
	\leavevmode
	\begin{enumerate}
		\item Für $(b,c)\in B\times C$ betrachte $B\times C\to B\otimes_AC, (b'c')\longmapsto bb'\otimes cc$ $A$-bilinear,
		\begin{center}
			\begin{tikzcd}
			B\times C\arrow{d}\arrow{r}& B\otimes_AC\\
			B\otimes_AC\arrow{ru}[swap]{\exists!\phi_{(b,c)} A-\text{linear}}
			\end{tikzcd}
		\end{center}
		Daraus folgt, dass folgendes Diagramm kommutiert:
			\begin{center}
					\begin{tikzcd}
						B\times C\arrow{r}{(b,c)\mapsto \phi_{(b,c)}}& \Hom_A(B\otimes_AC, B\otimes A, C) A-\text{bilinear}\\
						B\otimes_AC\arrow{ru}[swap]{\exists!\phi A-\text{linear}}
					\end{tikzcd}
			\end{center}
		%TODO: Insert Diagram here
		
		Nach Definition von $\Phi$:
		$$m(b\otimes c, b'\otimes c') = (\phi(b\otimes c))(b'\otimes c') = \phi_{(b,c)}(b'\otimes c') = bb'\otimes cc'$$
		\item Nachrechnen mit (i) %TODO: insert referenz here
			und Rechenregeln für $\otimes$ (Beachte $1_{B\otimes_AC}= 1\otimes 1$)
		\item Die Abbildungen $\phi_B\colon B\to B\otimes_AC, b\mapsto b\otimes 1$ erfüllt $\phi_B(1) = 1$ und $\phi_B(bb') =\phi_B(b)\phi_B(b')$.
		\item Für $a\in A$ gilt: $a\otimes_A1 = a\cdot(1\otimes_A1) = 1\otimes_A a$.
		\item Existenz von $\lambda$: Betrachte die Abbildung
		
		\begin{eqnarray*}
			B\times C &\longto & D\\
			(b,c) &\longmapsto &\phi(b)\cdot \psi(c)
		\end{eqnarray*}
	
		\noindent
		Sie ist $A$-bilinear und faktorisiert damit über das Tensorprodukt zu $\lambda\colon B\otimes_AC\to D$ $A$-linear. Zeige nun: $\lambda$ ist Ringhomomorphismus. Dazu $b,b'\in B, c,c'\in C$:
		$$\lambda((b\otimes c)(b'\otimes c')) = \phi(b)\phi(b')\psi(c)\psi(c') = \lambda(b\otimes c)\lambda (b'\otimes c')$$
		
		\begin{bem}
			Seien $R,S$ beide $A$-Algebren, $\lambda\colon R\to S$ sei $A$-linear, sei $\{x_i\}$ Erzeugendensystem von $R$ als $A$-Modul. Falls $\lambda(x_i,x_j) =)\lambda(x_i)\lambda(x_j)$ und $\lambda(1) = 1$, also ist $\lambda$ ein Ringhomomorphismus.
		\end{bem}
	
		Nun zur Eindeutigkeit: Sei $\lambda'$ ein weiterer Ringhomomorphismus wie oben. Dann ist $\lambda'$ $A$-linear, reicht also auf reinen Tensoren zu prüfen.
		$$\lambda'(b\otimes c) = \lambda'((b\otimes 1)\cdot(1\otimes c)) = \phi(b)\cdot \psi(c) = \lambda(b\otimes c)$$
		wobei die vorletzte Gleichheit daraus folgt, dass $\lambda'$ Ringhomomorphismus ist, sodass das Diagramm kommutiert.
	\end{enumerate}
	
\end{proof}

\begin{bsp}
	Sei $B$ eine $A$-Algebra und $C= A[t]$. Dann ist $B\otimes_AA[t]\cong B[t]$ (als $A$-Algbetra). Dann:	
	\begin{center}
		\begin{tikzcd}
			B[t]& B\arrow{l}\\
			A[t]\arrow{u} & A\arrow{l}\arrow{u}
		\end{tikzcd}
	\end{center}
	kommutiert und $B[t]$ ist universell dafür.
\end{bsp}


\end{document}

%\begin{bsp}
%	Das hier ist ein Beispiel-Diagramm:

%	\begin{tikzcd}
%		X \arrow{rd}[swap]{g\circ f} \arrow{r}{f} & Y \arrow{d}{g} \\
%		W \arrow{u}	& Z \\
%	\end{tikzcd}
%\end{bsp}